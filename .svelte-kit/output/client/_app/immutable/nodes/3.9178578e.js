import{r as Kt,s as He,y as wt,n as be,o as Tt,e as Se,a as Jn,u as Kn,g as Yn,b as Zn,c as Ie,z as S1,j as Sr,A as to,B as it,f as zt,C as mr,D as Iu,E as Tu}from"../chunks/scheduler.96a9d009.js";import{l as ie,m as ue,S as xe,i as Ve,e as N,t as Ge,s as ne,c as W,a as J,b as je,d as k,f as re,k as C,p as S,g as U,h as L,C as ae,j as It,n as De,z as ln,D as nt,A as Le,B as Me,E as lt,u as ze,v as Ue,w as Ne,q as Ut,o as Nt,x as We,F as Xn,G as U0,H as E1,I as O1,J as I1}from"../chunks/index.ee48a681.js";import{w as lo}from"../chunks/paths.a9cae6bb.js";import{p as no,m as yr,s as Cr,u as kr,l as rn,e as Wr,d as Li,a as Mi,b as xr,c as Hr,v as T1,i as N0}from"../chunks/stores.0a25b4ea.js";function _t(s){return(s==null?void 0:s.length)!==void 0?s:Array.from(s)}function A1(s,n){s.d(1),n.delete(s.key)}function D1(s,n){ue(s,1,1,()=>{n.delete(s.key)})}function Au(s,n,t,i,o,a,u,f,c,d,g,p){let m=s.length,v=a.length,P=m;const I={};for(;P--;)I[s[P].key]=P;const O=[],A=new Map,z=new Map,H=[];for(P=v;P--;){const R=p(o,a,P),j=t(R);let Z=u.get(j);Z?i&&H.push(()=>Z.p(R,n)):(Z=d(j,R),Z.c()),A.set(j,O[P]=Z),j in I&&z.set(j,Math.abs(P-I[j]))}const M=new Set,ee=new Set;function x(R){ie(R,1),R.m(f,g),u.set(R.key,R),g=R.first,v--}for(;m&&v;){const R=O[v-1],j=s[m-1],Z=R.key,Y=j.key;R===j?(g=R.first,m--,v--):A.has(Y)?!u.has(Z)||M.has(Z)?x(R):ee.has(Y)?m--:z.get(Z)>z.get(Y)?(ee.add(Z),x(R)):(M.add(Y),m--):(c(j,u),m--)}for(;m--;){const R=s[m];A.has(R.key)||c(R,u)}for(;v;)x(O[v-1]);return Kt(H),O}function vr(s,n){const t={},i={},o={$$scope:1};let a=s.length;for(;a--;){const u=s[a],f=n[a];if(f){for(const c in u)c in f||(i[c]=1);for(const c in f)o[c]||(t[c]=f[c],o[c]=1);s[a]=f}else for(const c in u)o[c]=1}for(const u in i)u in t||(t[u]=void 0);return t}function br(s){return typeof s=="object"&&s!==null?s:{}}const R1=!1,P1=!1,_m=Object.freeze(Object.defineProperty({__proto__:null,prerender:R1,ssr:P1},Symbol.toStringTag,{value:"Module"}));function W0(s,n,t){const i=s.slice();return i[8]=n[t],i}function H0(s){let n=[],t=new Map,i,o=_t(s[0]);const a=u=>u[8].id;for(let u=0;u<o.length;u+=1){let f=W0(s,o,u),c=a(f);t.set(c,n[u]=x0(c,f))}return{c(){for(let u=0;u<n.length;u+=1)n[u].c();i=De()},l(u){for(let f=0;f<n.length;f+=1)n[f].l(u);i=De()},m(u,f){for(let c=0;c<n.length;c+=1)n[c]&&n[c].m(u,f);U(u,i,f)},p(u,f){f&17&&(o=_t(u[0]),n=Au(n,f,a,1,u,o,t,i.parentNode,A1,x0,i,W0))},d(u){u&&k(i);for(let f=0;f<n.length;f+=1)n[f].d(u)}}}function x0(s,n){let t,i,o,a,u=n[8].alt+"",f,c,d,g;return{key:s,first:null,c(){t=N("div"),i=N("img"),f=Ge(u),c=ne(),this.h()},l(p){t=W(p,"DIV",{style:!0});var m=J(t);i=W(m,"IMG",{src:!0,alt:!0,value:!0}),f=je(m,u),c=re(m),m.forEach(k),this.h()},h(){wt(i.src,o=n[8].src)||C(i,"src",o),C(i,"alt",""),C(i,"value",a=n[8].id),S(t,"padding","10px"),this.first=t},m(p,m){U(p,t,m),L(t,i),L(t,f),L(t,c),d||(g=ae(i,"click",n[4]),d=!0)},p(p,m){n=p,m&1&&!wt(i.src,o=n[8].src)&&C(i,"src",o),m&1&&a!==(a=n[8].id)&&C(i,"value",a),m&1&&u!==(u=n[8].alt+"")&&It(f,u)},d(p){p&&k(t),d=!1,g()}}}function L1(s){let n,t,i,o,a=s[2].alt+"",u,f,c,d,g,p=s[0]&&H0(s);return{c(){n=N("button"),t=N("div"),i=N("img"),u=Ge(a),f=ne(),c=N("div"),p&&p.c(),this.h()},l(m){n=W(m,"BUTTON",{class:!0});var v=J(n);t=W(v,"DIV",{style:!0});var P=J(t);i=W(P,"IMG",{src:!0,alt:!0}),u=je(P,a),P.forEach(k),v.forEach(k),f=re(m),c=W(m,"DIV",{class:!0});var I=J(c);p&&p.l(I),I.forEach(k),this.h()},h(){wt(i.src,o=s[2].src)||C(i,"src",o),C(i,"alt",""),S(t,"padding","10px"),C(n,"class","button collapsible svelte-82r0yg"),C(c,"class","content svelte-82r0yg")},m(m,v){U(m,n,v),L(n,t),L(t,i),L(t,u),U(m,f,v),U(m,c,v),p&&p.m(c,null),s[6](c),d||(g=ae(n,"click",s[3]),d=!0)},p(m,[v]){v&4&&!wt(i.src,o=m[2].src)&&C(i,"src",o),v&4&&a!==(a=m[2].alt+"")&&It(u,a),m[0]?p?p.p(m,v):(p=H0(m),p.c(),p.m(c,null)):p&&(p.d(1),p=null)},i:be,o:be,d(m){m&&(k(n),k(f),k(c)),p&&p.d(),s[6](null),d=!1,g()}}}function M1(s,n,t){let i,o,a="",{lang:u="en"}=n;i=[{id:0,lang:"en",src:"https://www.sic-info.org/wp-content/uploads/2014/01/gb.png",alt:"English"},{id:1,lang:"fr",src:"https://www.sic-info.org/wp-content/uploads/2014/01/fr.png",alt:"French"},{id:2,lang:"de",src:"https://www.sic-info.org/wp-content/uploads/2014/01/de.png",alt:"Deutch"},{id:3,lang:"ru",src:"https://www.sic-info.org/wp-content/uploads/2014/01/ru.png",alt:"Русский"}];let f={id:0,src:"https://www.sic-info.org/wp-content/uploads/2014/01/gb.png",alt:"English"};Tt(()=>{a=JSON.parse(localStorage.getItem("kolmi")),a&&t(5,u=kolmi.lang)});function c(p){o.style.maxHeight?t(1,o.style.maxHeight=null,o):t(1,o.style.maxHeight=o.scrollHeight+"px",o)}function d(p){t(2,f=i[p.currentTarget.attributes.value.value]),t(5,u=f.lang),c()}function g(p){Se[p?"unshift":"push"](()=>{o=p,t(1,o)})}return s.$$set=p=>{"lang"in p&&t(5,u=p.lang)},[i,o,f,c,d,u,g]}class B1 extends xe{constructor(n){super(),Ve(this,n,M1,L1,He,{lang:5})}}var _r=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function oo(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Du={exports:{}};(function(s){(function(n){var t=n.URL||n.webkitURL;function i(d){return t?t.createObjectURL(d):!1}function o(d){return t?t.revokeObjectURL(d):!1}function a(d,g){d&&d.slice(0,5)==="blob:"&&!(g&&g.noRevoke)&&o(d)}function u(d,g,p,m){if(!n.FileReader)return!1;var v=new FileReader;v.onload=function(){g.call(v,this.result)},p&&(v.onabort=v.onerror=function(){p.call(v,this.error)});var P=v[m||"readAsDataURL"];if(P)return P.call(v,d),v}function f(d,g){return Object.prototype.toString.call(g)==="[object "+d+"]"}function c(d,g,p){function m(v,P){var I=document.createElement("img"),O;function A(H,M){if(v===P){v&&v(H,M);return}else if(H instanceof Error){P(H);return}M=M||{},M.image=H,v(M)}function z(H,M){M&&n.console&&console.log(M),H&&f("Blob",H)?(d=H,O=i(d)):(O=d,p&&p.crossOrigin&&(I.crossOrigin=p.crossOrigin)),I.src=O}if(I.onerror=function(H){a(O,p),P&&P.call(I,H)},I.onload=function(){a(O,p);var H={originalWidth:I.naturalWidth||I.width,originalHeight:I.naturalHeight||I.height};try{c.transform(I,p,A,d,H)}catch(M){P&&P(M)}},typeof d=="string")return c.requiresMetaData(p)?c.fetchBlob(d,z,p):z(),I;if(f("Blob",d)||f("File",d))return O=i(d),O?(I.src=O,I):u(d,function(H){I.src=H},P)}return n.Promise&&typeof g!="function"?(p=g,new Promise(m)):m(g,g)}c.requiresMetaData=function(d){return d&&d.meta},c.fetchBlob=function(d,g){g()},c.transform=function(d,g,p,m,v){p(d,v)},c.global=n,c.readFile=u,c.isInstanceOf=f,c.createObjectURL=i,c.revokeObjectURL=o,s.exports?s.exports=c:n.loadImage=c})(typeof window<"u"&&window||_r)})(Du);var Ru=Du.exports;const so=oo(Ru);var F1={exports:{}};(function(s){(function(n){s.exports?n(Ru):n(window.loadImage)})(function(n){var t=n.transform;n.createCanvas=function(i,o,a){if(a&&n.global.OffscreenCanvas)return new OffscreenCanvas(i,o);var u=document.createElement("canvas");return u.width=i,u.height=o,u},n.transform=function(i,o,a,u,f){t.call(n,n.scale(i,o,f),o,a,u,f)},n.transformCoordinates=function(){},n.getTransformedOptions=function(i,o){var a=o.aspectRatio,u,f,c,d;if(!a)return o;u={};for(f in o)Object.prototype.hasOwnProperty.call(o,f)&&(u[f]=o[f]);return u.crop=!0,c=i.naturalWidth||i.width,d=i.naturalHeight||i.height,c/d>a?(u.maxWidth=d*a,u.maxHeight=d):(u.maxWidth=c,u.maxHeight=c/a),u},n.drawImage=function(i,o,a,u,f,c,d,g,p){var m=o.getContext("2d");return p.imageSmoothingEnabled===!1?(m.msImageSmoothingEnabled=!1,m.imageSmoothingEnabled=!1):p.imageSmoothingQuality&&(m.imageSmoothingQuality=p.imageSmoothingQuality),m.drawImage(i,a,u,f,c,0,0,d,g),m},n.requiresCanvas=function(i){return i.canvas||i.crop||!!i.aspectRatio},n.scale=function(i,o,a){o=o||{},a=a||{};var u=i.getContext||n.requiresCanvas(o)&&!!n.global.HTMLCanvasElement,f=i.naturalWidth||i.width,c=i.naturalHeight||i.height,d=f,g=c,p,m,v,P,I,O,A,z,H,M,ee,x;function R(){var Z=Math.max((v||d)/d,(P||g)/g);Z>1&&(d*=Z,g*=Z)}function j(){var Z=Math.min((p||d)/d,(m||g)/g);Z<1&&(d*=Z,g*=Z)}if(u&&(o=n.getTransformedOptions(i,o,a),A=o.left||0,z=o.top||0,o.sourceWidth?(I=o.sourceWidth,o.right!==void 0&&o.left===void 0&&(A=f-I-o.right)):I=f-A-(o.right||0),o.sourceHeight?(O=o.sourceHeight,o.bottom!==void 0&&o.top===void 0&&(z=c-O-o.bottom)):O=c-z-(o.bottom||0),d=I,g=O),p=o.maxWidth,m=o.maxHeight,v=o.minWidth,P=o.minHeight,u&&p&&m&&o.crop?(d=p,g=m,ee=I/O-p/m,ee<0?(O=m*I/p,o.top===void 0&&o.bottom===void 0&&(z=(c-O)/2)):ee>0&&(I=p*O/m,o.left===void 0&&o.right===void 0&&(A=(f-I)/2))):((o.contain||o.cover)&&(v=p=p||v,P=m=m||P),o.cover?(j(),R()):(R(),j())),u){if(H=o.pixelRatio,H>1&&!(i.style.width&&Math.floor(parseFloat(i.style.width,10))===Math.floor(f/H))&&(d*=H,g*=H),n.orientationCropBug&&!i.getContext&&(A||z||I!==f||O!==c)&&(ee=i,i=n.createCanvas(f,c,!0),n.drawImage(ee,i,0,0,f,c,f,c,o)),M=o.downsamplingRatio,M>0&&M<1&&d<I&&g<O)for(;I*M>d;)x=n.createCanvas(I*M,O*M,!0),n.drawImage(i,x,A,z,I,O,x.width,x.height,o),A=0,z=0,I=x.width,O=x.height,i=x;return x=n.createCanvas(d,g),n.transformCoordinates(x,o,a),H>1&&(x.style.width=x.width/H+"px"),n.drawImage(i,x,A,z,I,O,d,g,o).setTransform(1,0,0,1,0,0),x}return i.width=d,i.height=g,i}})})(F1);const z1=s=>({}),V0=s=>({});function U1(s){let n,t,i;const o=s[4].footer,a=Jn(o,s,s[3],V0);return{c(){n=N("video"),t=ne(),a&&a.c(),this.h()},l(u){n=W(u,"VIDEO",{poster:!0,style:!0}),J(n).forEach(k),t=re(u),a&&a.l(u),this.h()},h(){C(n,"poster",s[1]),n.autoplay=!0,n.playsInline=!0,n.muted=!0,S(n,"display",N1),S(n,"position","absolute"),S(n,"top","-15px"),S(n,"width","100px"),S(n,"height","100px"),S(n,"z-index","20")},m(u,f){U(u,n,f),s[5](n),U(u,t,f),a&&a.m(u,f),i=!0},p(u,[f]){(!i||f&2)&&C(n,"poster",u[1]),a&&a.p&&(!i||f&8)&&Kn(a,o,u,u[3],i?Zn(o,u[3],f,z1):Yn(u[3]),V0)},i(u){i||(ie(a,u),i=!0)},o(u){ue(a,u),i=!1},d(u){u&&(k(n),k(t)),s[5](null),a&&a.d(u)}}}let N1="block";function W1(s,n,t){let i;Ie(s,no,d=>t(1,i=d));let{$$slots:o={},$$scope:a}=n,{srcObject:u=""}=n,f;Tt(async()=>{});function c(d){Se[d?"unshift":"push"](()=>{f=d,t(0,f),t(2,u)})}return s.$$set=d=>{"srcObject"in d&&t(2,u=d.srcObject),"$$scope"in d&&t(3,a=d.$$scope)},s.$$.update=()=>{s.$$.dirty&2,s.$$.dirty&5&&(f&&u?t(0,f.srcObject=u,f):f&&f.srcObject&&(f.srcObject.getVideoTracks().forEach(d=>{d.stop(),f.srcObject.removeTrack(d)}),t(0,f.src="",f)))},[f,i,u,a,o,c]}class H1 extends xe{constructor(n){super(),Ve(this,n,W1,U1,He,{srcObject:2})}}var Pu={exports:{}},Lu={exports:{}};(function(){var s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(t,i){return t<<i|t>>>32-i},rotr:function(t,i){return t<<32-i|t>>>i},endian:function(t){if(t.constructor==Number)return n.rotl(t,8)&16711935|n.rotl(t,24)&4278255360;for(var i=0;i<t.length;i++)t[i]=n.endian(t[i]);return t},randomBytes:function(t){for(var i=[];t>0;t--)i.push(Math.floor(Math.random()*256));return i},bytesToWords:function(t){for(var i=[],o=0,a=0;o<t.length;o++,a+=8)i[a>>>5]|=t[o]<<24-a%32;return i},wordsToBytes:function(t){for(var i=[],o=0;o<t.length*32;o+=8)i.push(t[o>>>5]>>>24-o%32&255);return i},bytesToHex:function(t){for(var i=[],o=0;o<t.length;o++)i.push((t[o]>>>4).toString(16)),i.push((t[o]&15).toString(16));return i.join("")},hexToBytes:function(t){for(var i=[],o=0;o<t.length;o+=2)i.push(parseInt(t.substr(o,2),16));return i},bytesToBase64:function(t){for(var i=[],o=0;o<t.length;o+=3)for(var a=t[o]<<16|t[o+1]<<8|t[o+2],u=0;u<4;u++)o*8+u*6<=t.length*8?i.push(s.charAt(a>>>6*(3-u)&63)):i.push("=");return i.join("")},base64ToBytes:function(t){t=t.replace(/[^A-Z0-9+\/]/ig,"");for(var i=[],o=0,a=0;o<t.length;a=++o%4)a!=0&&i.push((s.indexOf(t.charAt(o-1))&Math.pow(2,-2*a+8)-1)<<a*2|s.indexOf(t.charAt(o))>>>6-a*2);return i}};Lu.exports=n})();var x1=Lu.exports,ro={utf8:{stringToBytes:function(s){return ro.bin.stringToBytes(unescape(encodeURIComponent(s)))},bytesToString:function(s){return decodeURIComponent(escape(ro.bin.bytesToString(s)))}},bin:{stringToBytes:function(s){for(var n=[],t=0;t<s.length;t++)n.push(s.charCodeAt(t)&255);return n},bytesToString:function(s){for(var n=[],t=0;t<s.length;t++)n.push(String.fromCharCode(s[t]));return n.join("")}}},q0=ro;/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var V1=function(s){return s!=null&&(Mu(s)||q1(s)||!!s._isBuffer)};function Mu(s){return!!s.constructor&&typeof s.constructor.isBuffer=="function"&&s.constructor.isBuffer(s)}function q1(s){return typeof s.readFloatLE=="function"&&typeof s.slice=="function"&&Mu(s.slice(0,0))}(function(){var s=x1,n=q0.utf8,t=V1,i=q0.bin,o=function(a,u){a.constructor==String?u&&u.encoding==="binary"?a=i.stringToBytes(a):a=n.stringToBytes(a):t(a)?a=Array.prototype.slice.call(a,0):!Array.isArray(a)&&a.constructor!==Uint8Array&&(a=a.toString());for(var f=s.bytesToWords(a),c=a.length*8,d=1732584193,g=-271733879,p=-1732584194,m=271733878,v=0;v<f.length;v++)f[v]=(f[v]<<8|f[v]>>>24)&16711935|(f[v]<<24|f[v]>>>8)&4278255360;f[c>>>5]|=128<<c%32,f[(c+64>>>9<<4)+14]=c;for(var P=o._ff,I=o._gg,O=o._hh,A=o._ii,v=0;v<f.length;v+=16){var z=d,H=g,M=p,ee=m;d=P(d,g,p,m,f[v+0],7,-680876936),m=P(m,d,g,p,f[v+1],12,-389564586),p=P(p,m,d,g,f[v+2],17,606105819),g=P(g,p,m,d,f[v+3],22,-1044525330),d=P(d,g,p,m,f[v+4],7,-176418897),m=P(m,d,g,p,f[v+5],12,1200080426),p=P(p,m,d,g,f[v+6],17,-1473231341),g=P(g,p,m,d,f[v+7],22,-45705983),d=P(d,g,p,m,f[v+8],7,1770035416),m=P(m,d,g,p,f[v+9],12,-1958414417),p=P(p,m,d,g,f[v+10],17,-42063),g=P(g,p,m,d,f[v+11],22,-1990404162),d=P(d,g,p,m,f[v+12],7,1804603682),m=P(m,d,g,p,f[v+13],12,-40341101),p=P(p,m,d,g,f[v+14],17,-1502002290),g=P(g,p,m,d,f[v+15],22,1236535329),d=I(d,g,p,m,f[v+1],5,-165796510),m=I(m,d,g,p,f[v+6],9,-1069501632),p=I(p,m,d,g,f[v+11],14,643717713),g=I(g,p,m,d,f[v+0],20,-373897302),d=I(d,g,p,m,f[v+5],5,-701558691),m=I(m,d,g,p,f[v+10],9,38016083),p=I(p,m,d,g,f[v+15],14,-660478335),g=I(g,p,m,d,f[v+4],20,-405537848),d=I(d,g,p,m,f[v+9],5,568446438),m=I(m,d,g,p,f[v+14],9,-1019803690),p=I(p,m,d,g,f[v+3],14,-187363961),g=I(g,p,m,d,f[v+8],20,1163531501),d=I(d,g,p,m,f[v+13],5,-1444681467),m=I(m,d,g,p,f[v+2],9,-51403784),p=I(p,m,d,g,f[v+7],14,1735328473),g=I(g,p,m,d,f[v+12],20,-1926607734),d=O(d,g,p,m,f[v+5],4,-378558),m=O(m,d,g,p,f[v+8],11,-2022574463),p=O(p,m,d,g,f[v+11],16,1839030562),g=O(g,p,m,d,f[v+14],23,-35309556),d=O(d,g,p,m,f[v+1],4,-1530992060),m=O(m,d,g,p,f[v+4],11,1272893353),p=O(p,m,d,g,f[v+7],16,-155497632),g=O(g,p,m,d,f[v+10],23,-1094730640),d=O(d,g,p,m,f[v+13],4,681279174),m=O(m,d,g,p,f[v+0],11,-358537222),p=O(p,m,d,g,f[v+3],16,-722521979),g=O(g,p,m,d,f[v+6],23,76029189),d=O(d,g,p,m,f[v+9],4,-640364487),m=O(m,d,g,p,f[v+12],11,-421815835),p=O(p,m,d,g,f[v+15],16,530742520),g=O(g,p,m,d,f[v+2],23,-995338651),d=A(d,g,p,m,f[v+0],6,-198630844),m=A(m,d,g,p,f[v+7],10,1126891415),p=A(p,m,d,g,f[v+14],15,-1416354905),g=A(g,p,m,d,f[v+5],21,-57434055),d=A(d,g,p,m,f[v+12],6,1700485571),m=A(m,d,g,p,f[v+3],10,-1894986606),p=A(p,m,d,g,f[v+10],15,-1051523),g=A(g,p,m,d,f[v+1],21,-2054922799),d=A(d,g,p,m,f[v+8],6,1873313359),m=A(m,d,g,p,f[v+15],10,-30611744),p=A(p,m,d,g,f[v+6],15,-1560198380),g=A(g,p,m,d,f[v+13],21,1309151649),d=A(d,g,p,m,f[v+4],6,-145523070),m=A(m,d,g,p,f[v+11],10,-1120210379),p=A(p,m,d,g,f[v+2],15,718787259),g=A(g,p,m,d,f[v+9],21,-343485551),d=d+z>>>0,g=g+H>>>0,p=p+M>>>0,m=m+ee>>>0}return s.endian([d,g,p,m])};o._ff=function(a,u,f,c,d,g,p){var m=a+(u&f|~u&c)+(d>>>0)+p;return(m<<g|m>>>32-g)+u},o._gg=function(a,u,f,c,d,g,p){var m=a+(u&c|f&~c)+(d>>>0)+p;return(m<<g|m>>>32-g)+u},o._hh=function(a,u,f,c,d,g,p){var m=a+(u^f^c)+(d>>>0)+p;return(m<<g|m>>>32-g)+u},o._ii=function(a,u,f,c,d,g,p){var m=a+(f^(u|~c))+(d>>>0)+p;return(m<<g|m>>>32-g)+u},o._blocksize=16,o._digestsize=16,Pu.exports=function(a,u){if(a==null)throw new Error("Illegal argument "+a);var f=s.wordsToBytes(o(a,u));return u&&u.asBytes?f:u&&u.asString?i.bytesToString(f):s.bytesToHex(f)}})();var G1=Pu.exports;const wr=oo(G1);let j1=class{constructor(n,t,i){this.con=new RTCPeerConnection(t),this.rtc=n,this.pc_key=i,this.params={}}SendDesc(n,t){let i=this,o={};o.proj="kolmit",o.func="call",o.abonent=i.rtc.abonent,o.type=this.rtc.type,o.em=this.rtc.em,o.uid=this.rtc.uid,o.desc=n,o.status="call",o.abonent=this.rtc.abonent,o.oper_uid=this.rtc.oper_uid,this.rtc.status="call",this.rtc.signal.SendMessage(o,function(){t()})}SendCand(n,t){let i={};i.proj="kolmit",i.func="call",i.type=this.rtc.type,i.uid=this.rtc.uid,i.em=this.rtc.em,i.cand=n,i.status="call",i.abonent=this.rtc.abonent,i.oper_uid=this.rtc.oper_uid,this.rtc.status="call",this.rtc.signal.SendMessage(i,function(){t()})}StartEvents(){let n=this;this.con.ontrack=function(t){n.pc_key!=="reserve"&&(n.rtc.GetRemoteAudio()!==t.streams[0]&&(n.rtc.remoteStream=t.streams[0],n.rtc.remoteStream.onaddtrack=function(i){console.log("addtrack in remote stream",n)}),n.rtc.remoteStream&&(t.track.kind==="audio"&&(n.rtc.SetRemoteAudio(null),n.rtc.SetRemoteAudio(n.rtc.remoteStream)),t.track.kind==="video"&&(n.rtc.SetRemoteVideo(null),n.rtc.SetRemoteVideo(n.rtc.remoteStream),n.rtc.DC.SendDCVideoOK(()=>{}))))},n.rtc.type==="user"&&(this.con.onicecandidate=t=>{let i=this;if(t.candidate)if(this.params.loc_cand||(this.params.loc_cand=[]),this.params.loc_cand.push(t.candidate),this.rtc.DC&&this.rtc.DC.dc.readyState==="open"){let o="";this.rtc.type&&this.rtc.type.offerToReceiveVideo===1&&(o={confirm:"Do you mind to turn on the cameras?"}),this.rtc.DC.SendDCCand(t.candidate,i.pc_key,o)}else this.SendCand(t.candidate,function(){})}),this.con.oniceconnectionstatechange=function(t){n.rtc.onIceStateChange(n,t)},this.con.onremovestream=function(t){},this.con.onsignalingstatechange=function(t){},this.con.onconnectionstatechange=function(t){console.log()}}onCreateAnswerSuccess(n){let t=this;console.log("Answer from pcPull 2:",this),console.log("setLocalDescription start",t),t.con.setLocalDescription(n).then(function(){t.params.loc_desc=t.con.localDescription,console.log("onSetLocalDescriptionSuccess",t),t.SendDesc(n,function(){})},t.onSetAnswerError)}setRemoteDesc(n){let t=this;console.log("setRemoteDescription start",t),console.log("Peer connectionState:"+this.con.connectionState,t),this.con.setRemoteDescription(n).then(function(){t.params.rem_desc=t.con.remoteDescription,t.con.remoteDescription.type==="offer"&&t.con.createAnswer().then(i=>t.onCreateAnswerSuccess(i),t.onCreateAnswerError)},function(i){console.log("Failed to set remote description: "+i.toString(),this)})}onCreateAnswerError(n){console.log("Failed to create answer: "+n.toString(),this)}onCreateOfferSuccess(n){let t=this;console.log("Offer created",t),console.log("setLocalDescription start",t),t.con.setLocalDescription(n).then(function(){t.params.loc_desc=t.con.localDescription,console.log(" setLocalDescription complete",t)},t.onSetOfferError)}onCreateVideoOfferSuccess(n,t){let i=this;console.log("Offer created",i),console.log("setLocalDescription start",i),i.con.setLocalDescription(n).then(function(){i.params.loc_desc=i.con.localDescription,log(" setLocalDescription complete",i),i.rtc.DC.SendDCDesc(n,i.pc_key)},i.onSetOfferError)}onSetOfferError(n){console.log("Failed to set offer: "+n.toString(),this)}onSetAnswerError(n){console.log("Failed to set session description: "+n.toString(),this)}onAddIceCandidateSuccess(n){console.log(" addIceCandidate success",this)}onAddIceCandidateError(n,t){console.log(" failed to add ICE Candidate: "+t.toString(),this)}onCreateOfferError(n){console.log("Failed to create session description: "+n.toString(),this)}onAddVideo(n){let t=this,i="Do you mind to turn on the cameras?";t.rtc.DC&&t.rtc.DC.dc.readyState==="open"&&t.rtc.DC.SendData({confirm:i})}onCreateSessionDescriptionError(n){}Cancel(){this.close()}};class J1{constructor(n,t){this.rtc=n,this.pc=t,this.call_num=3,this.dc=t.con.createDataChannel(t.pc_key+" data channel"),this.forward;let i=this;i.cnt_call=0,this.dc.onclose=()=>{},t.StartEvents(),t.con.ondatachannel=f=>{console.log("Receive Channel Callback"),this.dc=f.channel,this.dc.onopen=()=>(i.dc.readyState==="open"&&console.log(i.pc.pc_key+" datachannel open"),i.SendDCCall(),!0)};let o="",a=[],u=0;this.dc.removeEventListener("message",this.dc.onmessage),this.dc.onmessage=function(f){try{let c=JSON.parse(f.data);if(c.type==="eom"){i.rtc.OnMessage(JSON.parse(o),i),i.rtc.SendToComponent(JSON.parse(o)),o="";return}if(o+=c.slice,c.file&&(document.getElementById("dataProgress").attributes.max=c.length),c.type==="eof"){const d=new Blob(a);if(a=[],u=0,confirm("Получен файл: "+c.file+". Размер: "+c.length+" Сохранить?")){let g=document.getElementById("download_href");g.text("Получен файл: "+c.file+". Размер: "+c.length+" Сохранить?"),g.attributes.href="URL.createObjectURL(received)",g.attributes.download=c.file,g.click()}setTimeout(function(){document.getElementById("dataProgress").style.display="none"},2e3);return}}catch{if(o="",!f.data.byteLength)return}}}SendFile(n,t,i){try{if(this.dc.readyState==="open"){let o=16384;const a=Math.ceil(n.byteLength/o);this.dc.send(JSON.stringify({file:t,length:n.byteLength}),function(u){console.log(u)});for(let u=0,f=0;u<a;++u,f+=o){const c=n.slice(f,f+o);let d=document.getElementById("dataProgress");this.dc.send(c,function(g){console.log(g)})}setTimeout(function(){document.getElementById("dataProgress").style.display="none"},2e3),this.dc.send(JSON.stringify({type:"eof",file:t,length:n.byteLength}),function(u){console.log(u),i()})}}catch(o){console.log(o)}}SendData(n,t){try{if(this.dc.readyState==="open"){n=JSON.stringify(n);let i=16384;const o=Math.ceil(n.length/i);for(let a=0,u=0;a<o;++a,u+=i)this.dc.send(JSON.stringify({slice:n.substr(u,i)}));this.dc.send(JSON.stringify({type:"eom"}))}t&&t()}catch(i){console.log(i)}}SendDCCall(){let n=this,t={};t.proj="kolmit",t.uid=n.rtc.uid,t.func="call",t.call=n.rtc.call_num,t.type=n.rtc.type,t.email=n.rtc.email.from,t.profile={email:n.rtc.em,name:n.rtc.em},n.dc.readyState==="open"&&n.SendData(t),n.rtc.OnOpenDataChannel()}SendDCHangup(n){let t={};t.proj="kolmit",t.func="mute",t.type=this.rtc.type,this.SendData(t,n)}SendDCClose(n){let t={};t.proj="kolmit",t.func="close",t.type=this.rtc.type,this.SendData(t,n)}SendDCTalk(n){let t={};t.proj="kolmit",t.func="talk",t.type=this.rtc.type,this.SendData(t,n)}SendDCCand(n,t,i){let o={};o.proj="kolmit",o.func="offer",o.cand=n,o.trans=t,o.abonent=this.rtc.abonent,o.msg=i,this.SendData(o)}SendDCDesc(n,t,i){let o={};o.proj="kolmit",o.func="offer",o.desc=n,o.trans=t,o.abonent=this.rtc.abonent,o.msg=i,this.SendData(o)}SendDCOffer(n,t){let i={};i.proj="kolmit",i.func="offer",i.desc=this.pc.params.loc_desc,i.cand=this.pc.params.loc_cand,i.trans=n,i.abonent=this.rtc.abonent,i.msg=t,this.SendData(i)}SendDCVideoOK(n){let t={};t.proj="kolmit",t.func="video",t.type=this.rtc.type,this.SendData(t,n)}}const Bu={stun:{urls:["stun:stun1.l.google.com:19302","stun:stun2.l.google.com:19302","stun:stun3.l.google.com:19302","stun:stun4.l.google.com:19302"]},turn:{urls:["turn:delivery-angels.com:3478?transport=udp","turn:delivery-angels.com:3478?transport=tcp","turn:delivery-angels.com:5349?transport=udp","turn:delivery-angels.com:5349?transport=tcp"],username:"guest",credential:"password"},lifetimeDuration:"86400s"};let K1=class{constructor(n,t,i){this.type=n.type,this.abonent=n.abonent,this.em=n.em,this.uid=t,this.signal=i,this.email={from:"",to:""},this.pcPull={},this.main_pc,this.origin=location.origin,this.url,this.localStream,this.remoteStream,this.startTime,this.phone=""}async SendCheck(){let n={};n.proj="kolmit",n.func="check",n.status="check",n.type=this.type,n.abonent=this.abonent,n.em=this.em,n.uid=this.uid,this.signal.SendMessage(n,()=>{this.status="check"})}SendVideoOffer(n){let t=this;t.pcPull[n].params.loc_desc="",t.pcPull[n].params.loc_cand="",t.pcPull[n].con.createOffer(t.mode={offerToReceiveAudio:1,offerToReceiveVideo:1,iceRestart:1}).then(i=>t.pcPull[n].onCreateVideoOfferSuccess(i),t.pcPull[n].onCreateOfferError)}onIceStateChange(n,t){let i=this;n&&(n.con.iceConnectionState==="new"&&console.log(n.pc_key+" ICE state change event: new",i),n.con.iceConnectionState==="checking"&&(console.log(n.pc_key+" ICE state change event: checking",i),i.checking_tmr=setTimeout(function(){n.con.restartIce()},5e3)),n.con.iceConnectionState==="disconnected"&&(console.log(n.pc_key+" ICE state change event: disconnected",i),n.con.restartIce()),n.con.iceConnectionState==="connected"&&(clearTimeout(i.checking_tmr),console.log(n.pc_key+" ICE state change event: connected",i),i.main_pc=n.pc_key),n.con.iceConnectionState==="failed"&&(console.log(n.pc_key+" ICE state change event: failed",i),n.con.restartIce()),n.con.iceConnectionState==="completed"&&console.log(n.pc_key+" ICE state change event: completed",i),console.log(n.pc_key+" ICE state change event: "+t.type,i))}TransFile(n){let t=this;async function i(){const a=n.files[0];if(a||console.log("No file chosen"),a.size===0)return;dataProgress.style.display="block",dataProgress.attributes.max=a.size;let u=new FileReader;u.onload=f=>{console.log("FileRead.onload ",f),t.DC.SendFile(f.target.result,a.name)},u.readAsArrayBuffer(a)}n.removeEventListener("change",n.onchange),n.onchange=i;let o=new PointerEvent("click",{bubbles:!1,cancelable:!0,view:window});n.dispatchEvent(o)}get RemoteStream(){return this.remoteStream}async InitRTC(n,t){let i=this;this.conf=Bu;let o={iceTransportPolicy:"all",lifetimeDuration:this.conf.lifetimeDuration,rtcpMuxPolicy:"require",bundlePolicy:"balanced",iceServers:[this.conf.stun,this.conf.turn]};i.pcPull[n]&&(i.DC&&(i.DC.dc.close(),i.DC=null),i.pcPull[n].con&&(i.pcPull[n].con.close(),i.pcPull[n].con=null));let a=i.pcPull[n]?i.pcPull[n].params:{};i.pcPull[n]=null,i.pcPull[n]=new j1(i,o,n),i.pcPull[n].signal=null,i.pcPull[n].signal=i.signal,a&&(i.pcPull[n].params=a),i.DC=new J1(i,i.pcPull[n]),this.startTime=Date.now(),t()}GetUserMedia(n,t){navigator.mediaDevices.getUserMedia(n).then(i=>this.gotStream(i,t)).catch(function(i){(i.name==="NotFoundError"||i.name==="NotReadableError")&&(n.audio&&alert("Something wrong with mic?"),n.video&&alert("Something wrong with camera?"),t(!1))})}gotStream(n,t){this.localStream||(this.localStream=n),this.getTracks(n,t)}getTracks(n,t){let i=this;n.getTracks().forEach(u=>{for(let f in i.pcPull)f!=="reserve"&&(i.pcPull[f].con.iceConnectionState==="disconnected"||i.pcPull[f].con.iceConnectionState==="closed"||(i.localStream.addTrack(u),i.pcPull[f].sender=i.pcPull[f].con.addTrack(u,i.localStream),u.kind==="video"?window.user.SetLocalVideo(i.localStream):u.kind))});var o=this.localStream.getVideoTracks(),a=this.localStream.getAudioTracks();o.length>0&&console.log("Using video device: "+o[0].label,i),a.length>0&&console.log("Using audio device: "+a[0].label,i),t(!0)}SendStatus(n){let t={};t.proj="kolmit",t.func="status",t.type=this.type,t.abonent=this.abonent.toLowerCase(),t.uid=this.uid,t.em=this.em.toLowerCase(),t.status=n,this.signal.SendMessage(t,()=>{this.status=n})}RemoveTracks(){let n=this;n.localStream&&(n.localStream.getVideoTracks().forEach(o=>{o.readyState=="live"&&o.kind==="video"&&o.stop(),n.localStream.removeTrack(o)}),n.localStream.getAudioTracks().forEach(o=>{o.readyState=="live"&&o.kind==="audio"&&o.stop(),n.localStream.removeTrack(o)}))}};class Y1 extends K1{constructor(n,t,i){super(n,t,i),this.redirected=!1,this.component="",this.checking_tmr,this.fileInput=document.getElementsByClassName("fileInput")[0]?document.getElementsByClassName("fileInput")[0]:"",this.dataProgress=document.getElementById("dataProgress")?document.getElementById("dataProgress"):"",yr.subscribe(o=>{try{o&&this.OnMessage(o)}catch(a){console.log(a)}})}Init(n){let t=this;this.mode="";let i=[this.abonent];t.main_pc="";for(let o in i)t.InitRTC(i[o],function(){n()})}Call(){this.Init(()=>{this.GetUserMedia({audio:1,video:0},()=>{let n={};n.proj="kolmit",n.func="call",n.status="call",n.type=this.type,n.abonent=this.abonent.toLowerCase(),n.em=this.em.toLowerCase(),n.uid=this.uid,this.signal.SendMessage(n,()=>{this.status="call"})})})}Hangup(){this.DC&&(this.DC.SendDCHangup(()=>{}),this.Init(()=>{this.SendCheck()}))}OnMessage(n){let t=this;if(n.operators&&n.em===t.em&&n.operators[t.abonent]&&n.operators[t.abonent].abonent===t.abonent&&(n.operators[t.abonent].status==="offer"||n.operators[t.abonent].status==="close"&&n.operators[t.abonent].uid===t.oper_uid&&(t.RemoveTracks(),t.Hangup())),n.operator&&(n.operator.em,t.abonent),n.func==="mute"&&(t.RemoveTracks(),t.Init(()=>{t.SendCheck()})),(n.call||n.func==="call")&&console.log("received call: "+n.call+" from "+t.type,t),n.func==="redirect"&&(t.em=n.abonent.operator,t.InitRTC(n.abonent.operator,async()=>{await new Promise((o,a)=>{t.Call(o)})})),n.oper_uid&&(t.oper_uid=n.oper_uid),n.desc&&t.pcPull[n.abonent]&&(t.pcPull[n.abonent].con.connectionState==="failed"&&t.pcPull[n.abonent].con.restartIce(),t.pcPull[n.abonent]&&(t.pcPull[n.abonent].params.rem_desc=n.desc,t.pcPull[n.abonent].setRemoteDesc(n.desc))),n.cand&&t.pcPull[n.abonent]&&t.pcPull[n.abonent]){if(t.pcPull[n.abonent].con.signalingState==="closed")return;try{if(t.pcPull[n.abonent].params.rem_cand=n.cand,Array.isArray(n.cand))for(let i in n.cand)t.pcPull[n.abonent].con.addIceCandidate(n.cand[i]);else t.pcPull[n.abonent].con.addIceCandidate(n.cand)}catch(i){console.log(i)}}}}let Z1=lo(),X1=lo();function Q1(s){let n,t,i=`input {\r
      border-width: 0;\r
    }\r
\r
    .form-signin {\r
      background-color: white;\r
      max-width: 90%;\r
      /* max-height: 90%;            */\r
      border: 3px solid grey;\r
      padding: 10px;\r
      margin: 0 auto;\r
    }\r
    .form-signin .form-signin-heading,\r
    .form-signin .form-control {\r
      position: relative;\r
      height: auto;\r
      -webkit-box-sizing: border-box;\r
      -moz-box-sizing: border-box;\r
      box-sizing: border-box;\r
      padding: 10px;\r
      font-size: 16px;\r
    }\r
    .form-signin .form-control:focus {\r
      z-index: 2;\r
    }\r
    .form-signin input[type='email'] {\r
      margin-bottom: -1px;\r
      border-bottom-right-radius: 0;\r
      border-bottom-left-radius: 0;\r
    }`,o,a,u,f=s[8]["How to introduce you?"][s[7]]+"",c,d,g,p,m,v,P,I,O,A,z,H,M,ee,x,R,j='<span style="display: block; position: absolute; display: block; left: 46px; bottom: 113px; font-weight: 200; font-size: x-small;">Upload photo...</span>',Z,Y,K,V,ge=" ",Q,oe,$e=s[8]["Save and Close"][s[7]]+"",Ee,Ke,ot;return{c(){n=N("div"),t=N("style"),t.textContent=i,o=ne(),a=N("div"),u=N("h2"),c=Ge(f),d=ne(),g=N("div"),p=N("div"),m=N("input"),P=ne(),I=N("div"),O=N("input"),z=ne(),H=N("div"),M=N("img"),x=ne(),R=N("div"),R.innerHTML=j,Z=ne(),Y=N("input"),K=ne(),V=N("div"),V.textContent=ge,Q=ne(),oe=N("button"),Ee=Ge($e),this.h()},l(Re){n=W(Re,"DIV",{class:!0,style:!0});var ye=J(n);t=W(ye,"STYLE",{"data-svelte-h":!0}),ln(t)!=="svelte-1are2aq"&&(t.textContent=i),o=re(ye),a=W(ye,"DIV",{class:!0,style:!0});var ce=J(a);u=W(ce,"H2",{class:!0});var Pe=J(u);c=je(Pe,f),Pe.forEach(k),d=re(ce),g=W(ce,"DIV",{style:!0});var Ze=J(g);p=W(Ze,"DIV",{style:!0});var st=J(p);m=W(st,"INPUT",{type:!0,id:!0,class:!0,placeholder:!0}),st.forEach(k),P=re(Ze),I=W(Ze,"DIV",{style:!0});var ft=J(I);O=W(ft,"INPUT",{type:!0,id:!0,class:!0,placeholder:!0,style:!0}),ft.forEach(k),Ze.forEach(k),z=re(ce),H=W(ce,"DIV",{});var At=J(H);M=W(At,"IMG",{src:!0,id:!0,alt:!0,style:!0}),x=re(At),R=W(At,"DIV",{"data-svelte-h":!0}),ln(R)!=="svelte-1y18wj7"&&(R.innerHTML=j),Z=re(At),Y=W(At,"INPUT",{accept:!0,id:!0,name:!0,type:!0,style:!0}),At.forEach(k),K=re(ce),V=W(ce,"DIV",{for:!0,"data-svelte-h":!0}),ln(V)!=="svelte-o0b98r"&&(V.textContent=ge),Q=re(ce),oe=W(ce,"BUTTON",{id:!0,class:!0});var Dt=J(oe);Ee=je(Dt,$e),Dt.forEach(k),ce.forEach(k),ye.forEach(k),this.h()},h(){C(u,"class","form-signin-heading"),C(m,"type","text"),C(m,"id","name"),C(m,"class","form-control"),C(m,"placeholder",v=s[8]["input user name *"][s[7]]),m.required=!0,S(p,"width","250px"),C(O,"type","email"),C(O,"id","email"),C(O,"class","form-control"),C(O,"placeholder",A=s[8]["input email address"][s[7]]),O.required=!0,S(O,"width","100%"),S(I,"flex","1"),S(g,"display","flex"),S(g,"flex-direction","column"),wt(M.src,ee=s[2])||C(M,"src",ee),C(M,"id","avatar_img"),C(M,"alt","avatar"),S(M,"display","block"),S(M,"margin-left","auto"),S(M,"margin-right","auto"),S(M,"width","40%"),C(Y,"accept","image/png, image/jpeg"),C(Y,"id","avatar"),C(Y,"name","avatar"),C(Y,"type","file"),S(Y,"display","none"),C(V,"for","send_form"),C(oe,"id","send_form"),C(oe,"class","btn btn-primary"),C(a,"class","row"),S(a,"border-style","groove"),S(a,"border-radius","2px"),S(a,"border-color","#cbced2"),S(a,"padding","10px"),C(n,"class","form-signin"),S(n,"display","block"),S(n,"position","fixed"),S(n,"top","0")},m(Re,ye){U(Re,n,ye),L(n,t),L(n,o),L(n,a),L(a,u),L(u,c),L(a,d),L(a,g),L(g,p),L(p,m),nt(m,s[3]),L(g,P),L(g,I),L(I,O),nt(O,s[4]),L(a,z),L(a,H),L(H,M),s[17](M),L(H,x),L(H,R),L(H,Z),L(H,Y),s[18](Y),L(a,K),L(a,V),L(a,Q),L(a,oe),L(oe,Ee),s[20](n),Ke||(ot=[ae(m,"input",s[15]),ae(O,"input",s[16]),ae(M,"click",s[12]),ae(Y,"change",s[10]),ae(Y,"change",s[19]),ae(oe,"click",s[11]),S1(s[9].call(null,n))],Ke=!0)},p(Re,[ye]){ye&128&&f!==(f=Re[8]["How to introduce you?"][Re[7]]+"")&&It(c,f),ye&128&&v!==(v=Re[8]["input user name *"][Re[7]])&&C(m,"placeholder",v),ye&8&&m.value!==Re[3]&&nt(m,Re[3]),ye&128&&A!==(A=Re[8]["input email address"][Re[7]])&&C(O,"placeholder",A),ye&16&&O.value!==Re[4]&&nt(O,Re[4]),ye&4&&!wt(M.src,ee=Re[2])&&C(M,"src",ee),ye&128&&$e!==($e=Re[8]["Save and Close"][Re[7]]+"")&&It(Ee,$e)},i:be,o:be,d(Re){Re&&k(n),s[17](null),s[18](null),s[20](null),Ke=!1,Kt(ot)}}}function $1(s,n,t){let i,o;Ie(s,X1,Y=>t(21,i=Y)),Ie(s,Z1,Y=>t(22,o=Y));let{profile:a}=n,{selected:u}=n,f,c="./assets/user.svg",d,g,p,m,v,P="en";P=o;const I=i;async function O(Y){if(window.parent.document.body.append(Y),localStorage.getItem("kolmit_abonent")){let K=JSON.parse(localStorage.getItem("kolmit_abonent"));t(3,d=K.name),t(4,g=K.email),t(2,c=K.src)}}async function A(Y){try{let K=await so(Y.target.files[0],function(V,ge){V.type==="error"?console.error("Error loading image "):(t(2,c=V.toDataURL()),window.parent.document.getElementById("avatar_img").src=c,window.parent.document.getElementById("avatar_input").value=c)},{orientation:!0,maxWidth:300,maxHeight:300,minWidth:100,minHeight:50,canvas:!0})}catch{}}function z(){localStorage.setItem("kolmit_abonent",JSON.stringify({id:window.id,src:c,name:d,email:g})),t(14,u=""),t(13,a=!1)}function H(){let Y=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window});v.dispatchEvent(Y)}function M(){d=this.value,t(3,d)}function ee(){g=this.value,t(4,g)}function x(Y){Se[Y?"unshift":"push"](()=>{m=Y,t(5,m)})}function R(Y){Se[Y?"unshift":"push"](()=>{v=Y,t(6,v)})}function j(){p=this.files,t(0,p)}function Z(Y){Se[Y?"unshift":"push"](()=>{f=Y,t(1,f)})}return s.$$set=Y=>{"profile"in Y&&t(13,a=Y.profile),"selected"in Y&&t(14,u=Y.selected)},s.$$.update=()=>{s.$$.dirty&1&&p&&console.log(p)},[p,f,c,d,g,m,v,P,I,O,A,z,H,a,u,M,ee,x,R,j,Z]}class eg extends xe{constructor(n){super(),Ve(this,n,$1,Q1,He,{profile:13,selected:14})}}function tg(s){let n,t,i,o,a,u,f,c,d,g="0",p,m,v;const P=s[3].default,I=Jn(P,s,s[2],null);return{c(){n=N("div"),t=Le("svg"),i=Le("g"),o=Le("title"),a=Ge("Layer 1"),u=Le("path"),f=ne(),I&&I.c(),c=ne(),d=N("span"),d.textContent=g,this.h()},l(O){n=W(O,"DIV",{class:!0});var A=J(n);t=Me(A,"svg",{class:!0,status:!0,width:!0,height:!0});var z=J(t);i=Me(z,"g",{class:!0,style:!0});var H=J(i);o=Me(H,"title",{});var M=J(o);a=je(M,"Layer 1"),M.forEach(k),u=Me(H,"path",{d:!0,id:!0,class:!0,transform:!0}),J(u).forEach(k),H.forEach(k),z.forEach(k),f=re(A),I&&I.l(A),c=re(A),d=W(A,"SPAN",{class:!0,style:!0,"data-svelte-h":!0}),ln(d)!=="svelte-zcrh5f"&&(d.textContent=g),A.forEach(k),this.h()},h(){C(u,"d","M390.7 353.3c-120.30000000000001 69.5 63.19999999999999 413.59999999999997 194.90000000000003 337.59999999999997l122.10000000000002 211.39999999999998c-55.60000000000002 32.10000000000002-102.5 52.30000000000007-166.9000000000001 15.5-178.79999999999995-102.19999999999993-375.59999999999997-442.9-369.99999999999994-646.0999999999999 1.8999999999999773-70.60000000000005 43.599999999999994-98.30000000000004 97.89999999999998-129.70000000000005 23.30000000000001 40.400000000000006 98.60000000000002 170.8 122 211.3z m50.400000000000034-5.699999999999989c-13 7.5-29.700000000000045 3.099999999999966-37.30000000000001-10l-115-199.3c-7.5-13.000000000000014-3.1000000000000227-29.700000000000017 10-37.30000000000001l60.5-34.900000000000006c13-7.499999999999993 29.69999999999999-3.0999999999999943 37.30000000000001 10l115.09999999999997 199.29999999999998c7.500000000000057 13 3.099999999999966 29.700000000000045-10 37.200000000000045l-60.599999999999966 35z m314.4 544.5c-13 7.5-29.700000000000045 3.1000000000000227-37.299999999999955-10l-115-199.30000000000007c-7.5-13-3.1000000000000227-29.699999999999932 10-37.299999999999955l60.5-34.89999999999998c13-7.5 29.699999999999932-3.1000000000000227 37.299999999999955 10l115.10000000000002 199.29999999999995c7.5 13 3.1000000000000227 29.700000000000045-10 37.30000000000007l-60.60000000000002 34.89999999999998z"),C(u,"id","svg_1"),C(u,"class","selected"),C(u,"transform","scale(.03)"),C(i,"class","currentLayer svelte-1p3kvei"),S(i,"stroke","black"),S(i,"stroke-width","10px"),C(t,"class","callButton svelte-1p3kvei"),C(t,"status",s[0]),C(t,"width","35"),C(t,"height","35"),C(d,"class","badge badge-primary badge-pill call-queue"),S(d,"display","none"),S(d,"position","absolute"),S(d,"right","0px"),S(d,"bottom","0px"),S(d,"color","#0e0cff"),S(d,"font-size","12px"),S(d,"opacity","1"),C(n,"class","callObject svelte-1p3kvei")},m(O,A){U(O,n,A),L(n,t),L(t,i),L(i,o),L(o,a),L(i,u),L(n,f),I&&I.m(n,null),L(n,c),L(n,d),p=!0,m||(v=[ae(t,"mute",s[5]),ae(n,"long-press",function(){Sr(s[1])&&s[1].apply(this,arguments)}),ae(n,"click",s[4])],m=!0)},p(O,[A]){s=O,(!p||A&1)&&C(t,"status",s[0]),I&&I.p&&(!p||A&4)&&Kn(I,P,s,s[2],p?Zn(P,s[2],A,null):Yn(s[2]),null)},i(O){p||(ie(I,O),p=!0)},o(O){ue(I,O),p=!1},d(O){O&&k(n),I&&I.d(O),m=!1,Kt(v)}}}function ng(s,n,t){let{$$slots:i={},$$scope:o}=n,{status:a="inactive"}=n,{OnLongPress:u}=n;function f(d){to.call(this,s,d)}function c(d){to.call(this,s,d)}return s.$$set=d=>{"status"in d&&t(0,a=d.status),"OnLongPress"in d&&t(1,u=d.OnLongPress),"$$scope"in d&&t(2,o=d.$$scope)},[a,u,o,i,f,c]}class rg extends xe{constructor(n){super(),Ve(this,n,ng,tg,He,{status:0,OnLongPress:1})}}var Bi={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */Bi.exports;(function(s,n){(function(){var t,i="4.17.21",o=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",u="Expected a function",f="Invalid `variable` option passed into `_.template`",c="__lodash_hash_undefined__",d=500,g="__lodash_placeholder__",p=1,m=2,v=4,P=1,I=2,O=1,A=2,z=4,H=8,M=16,ee=32,x=64,R=128,j=256,Z=512,Y=30,K="...",V=800,ge=16,Q=1,oe=2,$e=3,Ee=1/0,Ke=9007199254740991,ot=17976931348623157e292,Re=0/0,ye=4294967295,ce=ye-1,Pe=ye>>>1,Ze=[["ary",R],["bind",O],["bindKey",A],["curry",H],["curryRight",M],["flip",Z],["partial",ee],["partialRight",x],["rearg",j]],st="[object Arguments]",ft="[object Array]",At="[object AsyncFunction]",Dt="[object Boolean]",dn="[object Date]",Qn="[object DOMException]",te="[object Error]",ct="[object Function]",Xe="[object GeneratorFunction]",pt="[object Map]",Bn="[object Number]",$n="[object Null]",Wt="[object Object]",Vr="[object Promise]",er="[object Proxy]",Fn="[object RegExp]",Ht="[object Set]",pn="[object String]",$="[object Symbol]",_e="[object Undefined]",Rt="[object WeakMap]",En="[object WeakSet]",Ct="[object ArrayBuffer]",Pt="[object DataView]",kt="[object Float32Array]",tr="[object Float64Array]",gn="[object Int8Array]",zn="[object Int16Array]",zi="[object Int32Array]",Ui="[object Uint8Array]",Ni="[object Uint8ClampedArray]",Wi="[object Uint16Array]",Hi="[object Uint32Array]",Vu=/\b__p \+= '';/g,qu=/\b(__p \+=) '' \+/g,Gu=/(__e\(.*?\)|\b__t\)) \+\n'';/g,uo=/&(?:amp|lt|gt|quot|#39);/g,ao=/[&<>"']/g,ju=RegExp(uo.source),Ju=RegExp(ao.source),Ku=/<%-([\s\S]+?)%>/g,Yu=/<%([\s\S]+?)%>/g,fo=/<%=([\s\S]+?)%>/g,Zu=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Xu=/^\w*$/,Qu=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,xi=/[\\^$.*+?()[\]{}|]/g,$u=RegExp(xi.source),Vi=/^\s+/,ea=/\s/,ta=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,na=/\{\n\/\* \[wrapped with (.+)\] \*/,ra=/,? & /,ia=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,la=/[()=,{}\[\]\/\s]/,oa=/\\(\\)?/g,sa=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,co=/\w*$/,ua=/^[-+]0x[0-9a-f]+$/i,aa=/^0b[01]+$/i,fa=/^\[object .+?Constructor\]$/,ca=/^0o[0-7]+$/i,ha=/^(?:0|[1-9]\d*)$/,da=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,qr=/($^)/,pa=/['\n\r\u2028\u2029\\]/g,Gr="\\ud800-\\udfff",ga="\\u0300-\\u036f",_a="\\ufe20-\\ufe2f",ma="\\u20d0-\\u20ff",ho=ga+_a+ma,po="\\u2700-\\u27bf",go="a-z\\xdf-\\xf6\\xf8-\\xff",va="\\xac\\xb1\\xd7\\xf7",ba="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",ya="\\u2000-\\u206f",wa=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",_o="A-Z\\xc0-\\xd6\\xd8-\\xde",mo="\\ufe0e\\ufe0f",vo=va+ba+ya+wa,qi="['’]",Ca="["+Gr+"]",bo="["+vo+"]",jr="["+ho+"]",yo="\\d+",ka="["+po+"]",wo="["+go+"]",Co="[^"+Gr+vo+yo+po+go+_o+"]",Gi="\\ud83c[\\udffb-\\udfff]",Sa="(?:"+jr+"|"+Gi+")",ko="[^"+Gr+"]",ji="(?:\\ud83c[\\udde6-\\uddff]){2}",Ji="[\\ud800-\\udbff][\\udc00-\\udfff]",nr="["+_o+"]",So="\\u200d",Eo="(?:"+wo+"|"+Co+")",Ea="(?:"+nr+"|"+Co+")",Oo="(?:"+qi+"(?:d|ll|m|re|s|t|ve))?",Io="(?:"+qi+"(?:D|LL|M|RE|S|T|VE))?",To=Sa+"?",Ao="["+mo+"]?",Oa="(?:"+So+"(?:"+[ko,ji,Ji].join("|")+")"+Ao+To+")*",Ia="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ta="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Do=Ao+To+Oa,Aa="(?:"+[ka,ji,Ji].join("|")+")"+Do,Da="(?:"+[ko+jr+"?",jr,ji,Ji,Ca].join("|")+")",Ra=RegExp(qi,"g"),Pa=RegExp(jr,"g"),Ki=RegExp(Gi+"(?="+Gi+")|"+Da+Do,"g"),La=RegExp([nr+"?"+wo+"+"+Oo+"(?="+[bo,nr,"$"].join("|")+")",Ea+"+"+Io+"(?="+[bo,nr+Eo,"$"].join("|")+")",nr+"?"+Eo+"+"+Oo,nr+"+"+Io,Ta,Ia,yo,Aa].join("|"),"g"),Ma=RegExp("["+So+Gr+ho+mo+"]"),Ba=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Fa=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],za=-1,Qe={};Qe[kt]=Qe[tr]=Qe[gn]=Qe[zn]=Qe[zi]=Qe[Ui]=Qe[Ni]=Qe[Wi]=Qe[Hi]=!0,Qe[st]=Qe[ft]=Qe[Ct]=Qe[Dt]=Qe[Pt]=Qe[dn]=Qe[te]=Qe[ct]=Qe[pt]=Qe[Bn]=Qe[Wt]=Qe[Fn]=Qe[Ht]=Qe[pn]=Qe[Rt]=!1;var Ye={};Ye[st]=Ye[ft]=Ye[Ct]=Ye[Pt]=Ye[Dt]=Ye[dn]=Ye[kt]=Ye[tr]=Ye[gn]=Ye[zn]=Ye[zi]=Ye[pt]=Ye[Bn]=Ye[Wt]=Ye[Fn]=Ye[Ht]=Ye[pn]=Ye[$]=Ye[Ui]=Ye[Ni]=Ye[Wi]=Ye[Hi]=!0,Ye[te]=Ye[ct]=Ye[Rt]=!1;var Ua={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Na={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Wa={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Ha={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},xa=parseFloat,Va=parseInt,Ro=typeof _r=="object"&&_r&&_r.Object===Object&&_r,qa=typeof self=="object"&&self&&self.Object===Object&&self,mt=Ro||qa||Function("return this")(),Yi=n&&!n.nodeType&&n,Un=Yi&&!0&&s&&!s.nodeType&&s,Po=Un&&Un.exports===Yi,Zi=Po&&Ro.process,Yt=function(){try{var T=Un&&Un.require&&Un.require("util").types;return T||Zi&&Zi.binding&&Zi.binding("util")}catch{}}(),Lo=Yt&&Yt.isArrayBuffer,Mo=Yt&&Yt.isDate,Bo=Yt&&Yt.isMap,Fo=Yt&&Yt.isRegExp,zo=Yt&&Yt.isSet,Uo=Yt&&Yt.isTypedArray;function xt(T,F,B){switch(B.length){case 0:return T.call(F);case 1:return T.call(F,B[0]);case 2:return T.call(F,B[0],B[1]);case 3:return T.call(F,B[0],B[1],B[2])}return T.apply(F,B)}function Ga(T,F,B,se){for(var me=-1,Be=T==null?0:T.length;++me<Be;){var ht=T[me];F(se,ht,B(ht),T)}return se}function Zt(T,F){for(var B=-1,se=T==null?0:T.length;++B<se&&F(T[B],B,T)!==!1;);return T}function ja(T,F){for(var B=T==null?0:T.length;B--&&F(T[B],B,T)!==!1;);return T}function No(T,F){for(var B=-1,se=T==null?0:T.length;++B<se;)if(!F(T[B],B,T))return!1;return!0}function On(T,F){for(var B=-1,se=T==null?0:T.length,me=0,Be=[];++B<se;){var ht=T[B];F(ht,B,T)&&(Be[me++]=ht)}return Be}function Jr(T,F){var B=T==null?0:T.length;return!!B&&rr(T,F,0)>-1}function Xi(T,F,B){for(var se=-1,me=T==null?0:T.length;++se<me;)if(B(F,T[se]))return!0;return!1}function et(T,F){for(var B=-1,se=T==null?0:T.length,me=Array(se);++B<se;)me[B]=F(T[B],B,T);return me}function In(T,F){for(var B=-1,se=F.length,me=T.length;++B<se;)T[me+B]=F[B];return T}function Qi(T,F,B,se){var me=-1,Be=T==null?0:T.length;for(se&&Be&&(B=T[++me]);++me<Be;)B=F(B,T[me],me,T);return B}function Ja(T,F,B,se){var me=T==null?0:T.length;for(se&&me&&(B=T[--me]);me--;)B=F(B,T[me],me,T);return B}function $i(T,F){for(var B=-1,se=T==null?0:T.length;++B<se;)if(F(T[B],B,T))return!0;return!1}var Ka=el("length");function Ya(T){return T.split("")}function Za(T){return T.match(ia)||[]}function Wo(T,F,B){var se;return B(T,function(me,Be,ht){if(F(me,Be,ht))return se=Be,!1}),se}function Kr(T,F,B,se){for(var me=T.length,Be=B+(se?1:-1);se?Be--:++Be<me;)if(F(T[Be],Be,T))return Be;return-1}function rr(T,F,B){return F===F?af(T,F,B):Kr(T,Ho,B)}function Xa(T,F,B,se){for(var me=B-1,Be=T.length;++me<Be;)if(se(T[me],F))return me;return-1}function Ho(T){return T!==T}function xo(T,F){var B=T==null?0:T.length;return B?nl(T,F)/B:Re}function el(T){return function(F){return F==null?t:F[T]}}function tl(T){return function(F){return T==null?t:T[F]}}function Vo(T,F,B,se,me){return me(T,function(Be,ht,Je){B=se?(se=!1,Be):F(B,Be,ht,Je)}),B}function Qa(T,F){var B=T.length;for(T.sort(F);B--;)T[B]=T[B].value;return T}function nl(T,F){for(var B,se=-1,me=T.length;++se<me;){var Be=F(T[se]);Be!==t&&(B=B===t?Be:B+Be)}return B}function rl(T,F){for(var B=-1,se=Array(T);++B<T;)se[B]=F(B);return se}function $a(T,F){return et(F,function(B){return[B,T[B]]})}function qo(T){return T&&T.slice(0,Ko(T)+1).replace(Vi,"")}function Vt(T){return function(F){return T(F)}}function il(T,F){return et(F,function(B){return T[B]})}function Er(T,F){return T.has(F)}function Go(T,F){for(var B=-1,se=T.length;++B<se&&rr(F,T[B],0)>-1;);return B}function jo(T,F){for(var B=T.length;B--&&rr(F,T[B],0)>-1;);return B}function ef(T,F){for(var B=T.length,se=0;B--;)T[B]===F&&++se;return se}var tf=tl(Ua),nf=tl(Na);function rf(T){return"\\"+Ha[T]}function lf(T,F){return T==null?t:T[F]}function ir(T){return Ma.test(T)}function of(T){return Ba.test(T)}function sf(T){for(var F,B=[];!(F=T.next()).done;)B.push(F.value);return B}function ll(T){var F=-1,B=Array(T.size);return T.forEach(function(se,me){B[++F]=[me,se]}),B}function Jo(T,F){return function(B){return T(F(B))}}function Tn(T,F){for(var B=-1,se=T.length,me=0,Be=[];++B<se;){var ht=T[B];(ht===F||ht===g)&&(T[B]=g,Be[me++]=B)}return Be}function Yr(T){var F=-1,B=Array(T.size);return T.forEach(function(se){B[++F]=se}),B}function uf(T){var F=-1,B=Array(T.size);return T.forEach(function(se){B[++F]=[se,se]}),B}function af(T,F,B){for(var se=B-1,me=T.length;++se<me;)if(T[se]===F)return se;return-1}function ff(T,F,B){for(var se=B+1;se--;)if(T[se]===F)return se;return se}function lr(T){return ir(T)?hf(T):Ka(T)}function on(T){return ir(T)?df(T):Ya(T)}function Ko(T){for(var F=T.length;F--&&ea.test(T.charAt(F)););return F}var cf=tl(Wa);function hf(T){for(var F=Ki.lastIndex=0;Ki.test(T);)++F;return F}function df(T){return T.match(Ki)||[]}function pf(T){return T.match(La)||[]}var gf=function T(F){F=F==null?mt:or.defaults(mt.Object(),F,or.pick(mt,Fa));var B=F.Array,se=F.Date,me=F.Error,Be=F.Function,ht=F.Math,Je=F.Object,ol=F.RegExp,_f=F.String,Xt=F.TypeError,Zr=B.prototype,mf=Be.prototype,sr=Je.prototype,Xr=F["__core-js_shared__"],Qr=mf.toString,qe=sr.hasOwnProperty,vf=0,Yo=function(){var e=/[^.]+$/.exec(Xr&&Xr.keys&&Xr.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),$r=sr.toString,bf=Qr.call(Je),yf=mt._,wf=ol("^"+Qr.call(qe).replace(xi,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ei=Po?F.Buffer:t,An=F.Symbol,ti=F.Uint8Array,Zo=ei?ei.allocUnsafe:t,ni=Jo(Je.getPrototypeOf,Je),Xo=Je.create,Qo=sr.propertyIsEnumerable,ri=Zr.splice,$o=An?An.isConcatSpreadable:t,Or=An?An.iterator:t,Nn=An?An.toStringTag:t,ii=function(){try{var e=qn(Je,"defineProperty");return e({},"",{}),e}catch{}}(),Cf=F.clearTimeout!==mt.clearTimeout&&F.clearTimeout,kf=se&&se.now!==mt.Date.now&&se.now,Sf=F.setTimeout!==mt.setTimeout&&F.setTimeout,li=ht.ceil,oi=ht.floor,sl=Je.getOwnPropertySymbols,Ef=ei?ei.isBuffer:t,es=F.isFinite,Of=Zr.join,If=Jo(Je.keys,Je),dt=ht.max,bt=ht.min,Tf=se.now,Af=F.parseInt,ts=ht.random,Df=Zr.reverse,ul=qn(F,"DataView"),Ir=qn(F,"Map"),al=qn(F,"Promise"),ur=qn(F,"Set"),Tr=qn(F,"WeakMap"),Ar=qn(Je,"create"),si=Tr&&new Tr,ar={},Rf=Gn(ul),Pf=Gn(Ir),Lf=Gn(al),Mf=Gn(ur),Bf=Gn(Tr),ui=An?An.prototype:t,Dr=ui?ui.valueOf:t,ns=ui?ui.toString:t;function b(e){if(rt(e)&&!ve(e)&&!(e instanceof Te)){if(e instanceof Qt)return e;if(qe.call(e,"__wrapped__"))return r0(e)}return new Qt(e)}var fr=function(){function e(){}return function(r){if(!tt(r))return{};if(Xo)return Xo(r);e.prototype=r;var l=new e;return e.prototype=t,l}}();function ai(){}function Qt(e,r){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!r,this.__index__=0,this.__values__=t}b.templateSettings={escape:Ku,evaluate:Yu,interpolate:fo,variable:"",imports:{_:b}},b.prototype=ai.prototype,b.prototype.constructor=b,Qt.prototype=fr(ai.prototype),Qt.prototype.constructor=Qt;function Te(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ye,this.__views__=[]}function Ff(){var e=new Te(this.__wrapped__);return e.__actions__=Lt(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Lt(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Lt(this.__views__),e}function zf(){if(this.__filtered__){var e=new Te(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function Uf(){var e=this.__wrapped__.value(),r=this.__dir__,l=ve(e),h=r<0,_=l?e.length:0,y=Z9(0,_,this.__views__),w=y.start,E=y.end,D=E-w,q=h?E:w-1,G=this.__iteratees__,X=G.length,le=0,fe=bt(D,this.__takeCount__);if(!l||!h&&_==D&&fe==D)return Os(e,this.__actions__);var de=[];e:for(;D--&&le<fe;){q+=r;for(var Ce=-1,pe=e[q];++Ce<X;){var Oe=G[Ce],Ae=Oe.iteratee,jt=Oe.type,Ot=Ae(pe);if(jt==oe)pe=Ot;else if(!Ot){if(jt==Q)continue e;break e}}de[le++]=pe}return de}Te.prototype=fr(ai.prototype),Te.prototype.constructor=Te;function Wn(e){var r=-1,l=e==null?0:e.length;for(this.clear();++r<l;){var h=e[r];this.set(h[0],h[1])}}function Nf(){this.__data__=Ar?Ar(null):{},this.size=0}function Wf(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}function Hf(e){var r=this.__data__;if(Ar){var l=r[e];return l===c?t:l}return qe.call(r,e)?r[e]:t}function xf(e){var r=this.__data__;return Ar?r[e]!==t:qe.call(r,e)}function Vf(e,r){var l=this.__data__;return this.size+=this.has(e)?0:1,l[e]=Ar&&r===t?c:r,this}Wn.prototype.clear=Nf,Wn.prototype.delete=Wf,Wn.prototype.get=Hf,Wn.prototype.has=xf,Wn.prototype.set=Vf;function _n(e){var r=-1,l=e==null?0:e.length;for(this.clear();++r<l;){var h=e[r];this.set(h[0],h[1])}}function qf(){this.__data__=[],this.size=0}function Gf(e){var r=this.__data__,l=fi(r,e);if(l<0)return!1;var h=r.length-1;return l==h?r.pop():ri.call(r,l,1),--this.size,!0}function jf(e){var r=this.__data__,l=fi(r,e);return l<0?t:r[l][1]}function Jf(e){return fi(this.__data__,e)>-1}function Kf(e,r){var l=this.__data__,h=fi(l,e);return h<0?(++this.size,l.push([e,r])):l[h][1]=r,this}_n.prototype.clear=qf,_n.prototype.delete=Gf,_n.prototype.get=jf,_n.prototype.has=Jf,_n.prototype.set=Kf;function mn(e){var r=-1,l=e==null?0:e.length;for(this.clear();++r<l;){var h=e[r];this.set(h[0],h[1])}}function Yf(){this.size=0,this.__data__={hash:new Wn,map:new(Ir||_n),string:new Wn}}function Zf(e){var r=Ci(this,e).delete(e);return this.size-=r?1:0,r}function Xf(e){return Ci(this,e).get(e)}function Qf(e){return Ci(this,e).has(e)}function $f(e,r){var l=Ci(this,e),h=l.size;return l.set(e,r),this.size+=l.size==h?0:1,this}mn.prototype.clear=Yf,mn.prototype.delete=Zf,mn.prototype.get=Xf,mn.prototype.has=Qf,mn.prototype.set=$f;function Hn(e){var r=-1,l=e==null?0:e.length;for(this.__data__=new mn;++r<l;)this.add(e[r])}function e9(e){return this.__data__.set(e,c),this}function t9(e){return this.__data__.has(e)}Hn.prototype.add=Hn.prototype.push=e9,Hn.prototype.has=t9;function sn(e){var r=this.__data__=new _n(e);this.size=r.size}function n9(){this.__data__=new _n,this.size=0}function r9(e){var r=this.__data__,l=r.delete(e);return this.size=r.size,l}function i9(e){return this.__data__.get(e)}function l9(e){return this.__data__.has(e)}function o9(e,r){var l=this.__data__;if(l instanceof _n){var h=l.__data__;if(!Ir||h.length<o-1)return h.push([e,r]),this.size=++l.size,this;l=this.__data__=new mn(h)}return l.set(e,r),this.size=l.size,this}sn.prototype.clear=n9,sn.prototype.delete=r9,sn.prototype.get=i9,sn.prototype.has=l9,sn.prototype.set=o9;function rs(e,r){var l=ve(e),h=!l&&jn(e),_=!l&&!h&&Mn(e),y=!l&&!h&&!_&&pr(e),w=l||h||_||y,E=w?rl(e.length,_f):[],D=E.length;for(var q in e)(r||qe.call(e,q))&&!(w&&(q=="length"||_&&(q=="offset"||q=="parent")||y&&(q=="buffer"||q=="byteLength"||q=="byteOffset")||wn(q,D)))&&E.push(q);return E}function is(e){var r=e.length;return r?e[yl(0,r-1)]:t}function s9(e,r){return ki(Lt(e),xn(r,0,e.length))}function u9(e){return ki(Lt(e))}function fl(e,r,l){(l!==t&&!un(e[r],l)||l===t&&!(r in e))&&vn(e,r,l)}function Rr(e,r,l){var h=e[r];(!(qe.call(e,r)&&un(h,l))||l===t&&!(r in e))&&vn(e,r,l)}function fi(e,r){for(var l=e.length;l--;)if(un(e[l][0],r))return l;return-1}function a9(e,r,l,h){return Dn(e,function(_,y,w){r(h,_,l(_),w)}),h}function ls(e,r){return e&&cn(r,gt(r),e)}function f9(e,r){return e&&cn(r,Bt(r),e)}function vn(e,r,l){r=="__proto__"&&ii?ii(e,r,{configurable:!0,enumerable:!0,value:l,writable:!0}):e[r]=l}function cl(e,r){for(var l=-1,h=r.length,_=B(h),y=e==null;++l<h;)_[l]=y?t:Gl(e,r[l]);return _}function xn(e,r,l){return e===e&&(l!==t&&(e=e<=l?e:l),r!==t&&(e=e>=r?e:r)),e}function $t(e,r,l,h,_,y){var w,E=r&p,D=r&m,q=r&v;if(l&&(w=_?l(e,h,_,y):l(e)),w!==t)return w;if(!tt(e))return e;var G=ve(e);if(G){if(w=Q9(e),!E)return Lt(e,w)}else{var X=yt(e),le=X==ct||X==Xe;if(Mn(e))return As(e,E);if(X==Wt||X==st||le&&!_){if(w=D||le?{}:Ks(e),!E)return D?H9(e,f9(w,e)):W9(e,ls(w,e))}else{if(!Ye[X])return _?e:{};w=$9(e,X,E)}}y||(y=new sn);var fe=y.get(e);if(fe)return fe;y.set(e,w),k0(e)?e.forEach(function(pe){w.add($t(pe,r,l,pe,e,y))}):w0(e)&&e.forEach(function(pe,Oe){w.set(Oe,$t(pe,r,l,Oe,e,y))});var de=q?D?Rl:Dl:D?Bt:gt,Ce=G?t:de(e);return Zt(Ce||e,function(pe,Oe){Ce&&(Oe=pe,pe=e[Oe]),Rr(w,Oe,$t(pe,r,l,Oe,e,y))}),w}function c9(e){var r=gt(e);return function(l){return os(l,e,r)}}function os(e,r,l){var h=l.length;if(e==null)return!h;for(e=Je(e);h--;){var _=l[h],y=r[_],w=e[_];if(w===t&&!(_ in e)||!y(w))return!1}return!0}function ss(e,r,l){if(typeof e!="function")throw new Xt(u);return Ur(function(){e.apply(t,l)},r)}function Pr(e,r,l,h){var _=-1,y=Jr,w=!0,E=e.length,D=[],q=r.length;if(!E)return D;l&&(r=et(r,Vt(l))),h?(y=Xi,w=!1):r.length>=o&&(y=Er,w=!1,r=new Hn(r));e:for(;++_<E;){var G=e[_],X=l==null?G:l(G);if(G=h||G!==0?G:0,w&&X===X){for(var le=q;le--;)if(r[le]===X)continue e;D.push(G)}else y(r,X,h)||D.push(G)}return D}var Dn=Ms(fn),us=Ms(dl,!0);function h9(e,r){var l=!0;return Dn(e,function(h,_,y){return l=!!r(h,_,y),l}),l}function ci(e,r,l){for(var h=-1,_=e.length;++h<_;){var y=e[h],w=r(y);if(w!=null&&(E===t?w===w&&!Gt(w):l(w,E)))var E=w,D=y}return D}function d9(e,r,l,h){var _=e.length;for(l=we(l),l<0&&(l=-l>_?0:_+l),h=h===t||h>_?_:we(h),h<0&&(h+=_),h=l>h?0:E0(h);l<h;)e[l++]=r;return e}function as(e,r){var l=[];return Dn(e,function(h,_,y){r(h,_,y)&&l.push(h)}),l}function vt(e,r,l,h,_){var y=-1,w=e.length;for(l||(l=tc),_||(_=[]);++y<w;){var E=e[y];r>0&&l(E)?r>1?vt(E,r-1,l,h,_):In(_,E):h||(_[_.length]=E)}return _}var hl=Bs(),fs=Bs(!0);function fn(e,r){return e&&hl(e,r,gt)}function dl(e,r){return e&&fs(e,r,gt)}function hi(e,r){return On(r,function(l){return Cn(e[l])})}function Vn(e,r){r=Pn(r,e);for(var l=0,h=r.length;e!=null&&l<h;)e=e[hn(r[l++])];return l&&l==h?e:t}function cs(e,r,l){var h=r(e);return ve(e)?h:In(h,l(e))}function St(e){return e==null?e===t?_e:$n:Nn&&Nn in Je(e)?Y9(e):uc(e)}function pl(e,r){return e>r}function p9(e,r){return e!=null&&qe.call(e,r)}function g9(e,r){return e!=null&&r in Je(e)}function _9(e,r,l){return e>=bt(r,l)&&e<dt(r,l)}function gl(e,r,l){for(var h=l?Xi:Jr,_=e[0].length,y=e.length,w=y,E=B(y),D=1/0,q=[];w--;){var G=e[w];w&&r&&(G=et(G,Vt(r))),D=bt(G.length,D),E[w]=!l&&(r||_>=120&&G.length>=120)?new Hn(w&&G):t}G=e[0];var X=-1,le=E[0];e:for(;++X<_&&q.length<D;){var fe=G[X],de=r?r(fe):fe;if(fe=l||fe!==0?fe:0,!(le?Er(le,de):h(q,de,l))){for(w=y;--w;){var Ce=E[w];if(!(Ce?Er(Ce,de):h(e[w],de,l)))continue e}le&&le.push(de),q.push(fe)}}return q}function m9(e,r,l,h){return fn(e,function(_,y,w){r(h,l(_),y,w)}),h}function Lr(e,r,l){r=Pn(r,e),e=Qs(e,r);var h=e==null?e:e[hn(tn(r))];return h==null?t:xt(h,e,l)}function hs(e){return rt(e)&&St(e)==st}function v9(e){return rt(e)&&St(e)==Ct}function b9(e){return rt(e)&&St(e)==dn}function Mr(e,r,l,h,_){return e===r?!0:e==null||r==null||!rt(e)&&!rt(r)?e!==e&&r!==r:y9(e,r,l,h,Mr,_)}function y9(e,r,l,h,_,y){var w=ve(e),E=ve(r),D=w?ft:yt(e),q=E?ft:yt(r);D=D==st?Wt:D,q=q==st?Wt:q;var G=D==Wt,X=q==Wt,le=D==q;if(le&&Mn(e)){if(!Mn(r))return!1;w=!0,G=!1}if(le&&!G)return y||(y=new sn),w||pr(e)?Gs(e,r,l,h,_,y):J9(e,r,D,l,h,_,y);if(!(l&P)){var fe=G&&qe.call(e,"__wrapped__"),de=X&&qe.call(r,"__wrapped__");if(fe||de){var Ce=fe?e.value():e,pe=de?r.value():r;return y||(y=new sn),_(Ce,pe,l,h,y)}}return le?(y||(y=new sn),K9(e,r,l,h,_,y)):!1}function w9(e){return rt(e)&&yt(e)==pt}function _l(e,r,l,h){var _=l.length,y=_,w=!h;if(e==null)return!y;for(e=Je(e);_--;){var E=l[_];if(w&&E[2]?E[1]!==e[E[0]]:!(E[0]in e))return!1}for(;++_<y;){E=l[_];var D=E[0],q=e[D],G=E[1];if(w&&E[2]){if(q===t&&!(D in e))return!1}else{var X=new sn;if(h)var le=h(q,G,D,e,r,X);if(!(le===t?Mr(G,q,P|I,h,X):le))return!1}}return!0}function ds(e){if(!tt(e)||rc(e))return!1;var r=Cn(e)?wf:fa;return r.test(Gn(e))}function C9(e){return rt(e)&&St(e)==Fn}function k9(e){return rt(e)&&yt(e)==Ht}function S9(e){return rt(e)&&Ai(e.length)&&!!Qe[St(e)]}function ps(e){return typeof e=="function"?e:e==null?Ft:typeof e=="object"?ve(e)?ms(e[0],e[1]):_s(e):F0(e)}function ml(e){if(!zr(e))return If(e);var r=[];for(var l in Je(e))qe.call(e,l)&&l!="constructor"&&r.push(l);return r}function E9(e){if(!tt(e))return sc(e);var r=zr(e),l=[];for(var h in e)h=="constructor"&&(r||!qe.call(e,h))||l.push(h);return l}function vl(e,r){return e<r}function gs(e,r){var l=-1,h=Mt(e)?B(e.length):[];return Dn(e,function(_,y,w){h[++l]=r(_,y,w)}),h}function _s(e){var r=Ll(e);return r.length==1&&r[0][2]?Zs(r[0][0],r[0][1]):function(l){return l===e||_l(l,e,r)}}function ms(e,r){return Bl(e)&&Ys(r)?Zs(hn(e),r):function(l){var h=Gl(l,e);return h===t&&h===r?jl(l,e):Mr(r,h,P|I)}}function di(e,r,l,h,_){e!==r&&hl(r,function(y,w){if(_||(_=new sn),tt(y))O9(e,r,w,l,di,h,_);else{var E=h?h(zl(e,w),y,w+"",e,r,_):t;E===t&&(E=y),fl(e,w,E)}},Bt)}function O9(e,r,l,h,_,y,w){var E=zl(e,l),D=zl(r,l),q=w.get(D);if(q){fl(e,l,q);return}var G=y?y(E,D,l+"",e,r,w):t,X=G===t;if(X){var le=ve(D),fe=!le&&Mn(D),de=!le&&!fe&&pr(D);G=D,le||fe||de?ve(E)?G=E:ut(E)?G=Lt(E):fe?(X=!1,G=As(D,!0)):de?(X=!1,G=Ds(D,!0)):G=[]:Nr(D)||jn(D)?(G=E,jn(E)?G=O0(E):(!tt(E)||Cn(E))&&(G=Ks(D))):X=!1}X&&(w.set(D,G),_(G,D,h,y,w),w.delete(D)),fl(e,l,G)}function vs(e,r){var l=e.length;if(l)return r+=r<0?l:0,wn(r,l)?e[r]:t}function bs(e,r,l){r.length?r=et(r,function(y){return ve(y)?function(w){return Vn(w,y.length===1?y[0]:y)}:y}):r=[Ft];var h=-1;r=et(r,Vt(he()));var _=gs(e,function(y,w,E){var D=et(r,function(q){return q(y)});return{criteria:D,index:++h,value:y}});return Qa(_,function(y,w){return N9(y,w,l)})}function I9(e,r){return ys(e,r,function(l,h){return jl(e,h)})}function ys(e,r,l){for(var h=-1,_=r.length,y={};++h<_;){var w=r[h],E=Vn(e,w);l(E,w)&&Br(y,Pn(w,e),E)}return y}function T9(e){return function(r){return Vn(r,e)}}function bl(e,r,l,h){var _=h?Xa:rr,y=-1,w=r.length,E=e;for(e===r&&(r=Lt(r)),l&&(E=et(e,Vt(l)));++y<w;)for(var D=0,q=r[y],G=l?l(q):q;(D=_(E,G,D,h))>-1;)E!==e&&ri.call(E,D,1),ri.call(e,D,1);return e}function ws(e,r){for(var l=e?r.length:0,h=l-1;l--;){var _=r[l];if(l==h||_!==y){var y=_;wn(_)?ri.call(e,_,1):kl(e,_)}}return e}function yl(e,r){return e+oi(ts()*(r-e+1))}function A9(e,r,l,h){for(var _=-1,y=dt(li((r-e)/(l||1)),0),w=B(y);y--;)w[h?y:++_]=e,e+=l;return w}function wl(e,r){var l="";if(!e||r<1||r>Ke)return l;do r%2&&(l+=e),r=oi(r/2),r&&(e+=e);while(r);return l}function ke(e,r){return Ul(Xs(e,r,Ft),e+"")}function D9(e){return is(gr(e))}function R9(e,r){var l=gr(e);return ki(l,xn(r,0,l.length))}function Br(e,r,l,h){if(!tt(e))return e;r=Pn(r,e);for(var _=-1,y=r.length,w=y-1,E=e;E!=null&&++_<y;){var D=hn(r[_]),q=l;if(D==="__proto__"||D==="constructor"||D==="prototype")return e;if(_!=w){var G=E[D];q=h?h(G,D,E):t,q===t&&(q=tt(G)?G:wn(r[_+1])?[]:{})}Rr(E,D,q),E=E[D]}return e}var Cs=si?function(e,r){return si.set(e,r),e}:Ft,P9=ii?function(e,r){return ii(e,"toString",{configurable:!0,enumerable:!1,value:Kl(r),writable:!0})}:Ft;function L9(e){return ki(gr(e))}function en(e,r,l){var h=-1,_=e.length;r<0&&(r=-r>_?0:_+r),l=l>_?_:l,l<0&&(l+=_),_=r>l?0:l-r>>>0,r>>>=0;for(var y=B(_);++h<_;)y[h]=e[h+r];return y}function M9(e,r){var l;return Dn(e,function(h,_,y){return l=r(h,_,y),!l}),!!l}function pi(e,r,l){var h=0,_=e==null?h:e.length;if(typeof r=="number"&&r===r&&_<=Pe){for(;h<_;){var y=h+_>>>1,w=e[y];w!==null&&!Gt(w)&&(l?w<=r:w<r)?h=y+1:_=y}return _}return Cl(e,r,Ft,l)}function Cl(e,r,l,h){var _=0,y=e==null?0:e.length;if(y===0)return 0;r=l(r);for(var w=r!==r,E=r===null,D=Gt(r),q=r===t;_<y;){var G=oi((_+y)/2),X=l(e[G]),le=X!==t,fe=X===null,de=X===X,Ce=Gt(X);if(w)var pe=h||de;else q?pe=de&&(h||le):E?pe=de&&le&&(h||!fe):D?pe=de&&le&&!fe&&(h||!Ce):fe||Ce?pe=!1:pe=h?X<=r:X<r;pe?_=G+1:y=G}return bt(y,ce)}function ks(e,r){for(var l=-1,h=e.length,_=0,y=[];++l<h;){var w=e[l],E=r?r(w):w;if(!l||!un(E,D)){var D=E;y[_++]=w===0?0:w}}return y}function Ss(e){return typeof e=="number"?e:Gt(e)?Re:+e}function qt(e){if(typeof e=="string")return e;if(ve(e))return et(e,qt)+"";if(Gt(e))return ns?ns.call(e):"";var r=e+"";return r=="0"&&1/e==-Ee?"-0":r}function Rn(e,r,l){var h=-1,_=Jr,y=e.length,w=!0,E=[],D=E;if(l)w=!1,_=Xi;else if(y>=o){var q=r?null:G9(e);if(q)return Yr(q);w=!1,_=Er,D=new Hn}else D=r?[]:E;e:for(;++h<y;){var G=e[h],X=r?r(G):G;if(G=l||G!==0?G:0,w&&X===X){for(var le=D.length;le--;)if(D[le]===X)continue e;r&&D.push(X),E.push(G)}else _(D,X,l)||(D!==E&&D.push(X),E.push(G))}return E}function kl(e,r){return r=Pn(r,e),e=Qs(e,r),e==null||delete e[hn(tn(r))]}function Es(e,r,l,h){return Br(e,r,l(Vn(e,r)),h)}function gi(e,r,l,h){for(var _=e.length,y=h?_:-1;(h?y--:++y<_)&&r(e[y],y,e););return l?en(e,h?0:y,h?y+1:_):en(e,h?y+1:0,h?_:y)}function Os(e,r){var l=e;return l instanceof Te&&(l=l.value()),Qi(r,function(h,_){return _.func.apply(_.thisArg,In([h],_.args))},l)}function Sl(e,r,l){var h=e.length;if(h<2)return h?Rn(e[0]):[];for(var _=-1,y=B(h);++_<h;)for(var w=e[_],E=-1;++E<h;)E!=_&&(y[_]=Pr(y[_]||w,e[E],r,l));return Rn(vt(y,1),r,l)}function Is(e,r,l){for(var h=-1,_=e.length,y=r.length,w={};++h<_;){var E=h<y?r[h]:t;l(w,e[h],E)}return w}function El(e){return ut(e)?e:[]}function Ol(e){return typeof e=="function"?e:Ft}function Pn(e,r){return ve(e)?e:Bl(e,r)?[e]:n0(Fe(e))}var B9=ke;function Ln(e,r,l){var h=e.length;return l=l===t?h:l,!r&&l>=h?e:en(e,r,l)}var Ts=Cf||function(e){return mt.clearTimeout(e)};function As(e,r){if(r)return e.slice();var l=e.length,h=Zo?Zo(l):new e.constructor(l);return e.copy(h),h}function Il(e){var r=new e.constructor(e.byteLength);return new ti(r).set(new ti(e)),r}function F9(e,r){var l=r?Il(e.buffer):e.buffer;return new e.constructor(l,e.byteOffset,e.byteLength)}function z9(e){var r=new e.constructor(e.source,co.exec(e));return r.lastIndex=e.lastIndex,r}function U9(e){return Dr?Je(Dr.call(e)):{}}function Ds(e,r){var l=r?Il(e.buffer):e.buffer;return new e.constructor(l,e.byteOffset,e.length)}function Rs(e,r){if(e!==r){var l=e!==t,h=e===null,_=e===e,y=Gt(e),w=r!==t,E=r===null,D=r===r,q=Gt(r);if(!E&&!q&&!y&&e>r||y&&w&&D&&!E&&!q||h&&w&&D||!l&&D||!_)return 1;if(!h&&!y&&!q&&e<r||q&&l&&_&&!h&&!y||E&&l&&_||!w&&_||!D)return-1}return 0}function N9(e,r,l){for(var h=-1,_=e.criteria,y=r.criteria,w=_.length,E=l.length;++h<w;){var D=Rs(_[h],y[h]);if(D){if(h>=E)return D;var q=l[h];return D*(q=="desc"?-1:1)}}return e.index-r.index}function Ps(e,r,l,h){for(var _=-1,y=e.length,w=l.length,E=-1,D=r.length,q=dt(y-w,0),G=B(D+q),X=!h;++E<D;)G[E]=r[E];for(;++_<w;)(X||_<y)&&(G[l[_]]=e[_]);for(;q--;)G[E++]=e[_++];return G}function Ls(e,r,l,h){for(var _=-1,y=e.length,w=-1,E=l.length,D=-1,q=r.length,G=dt(y-E,0),X=B(G+q),le=!h;++_<G;)X[_]=e[_];for(var fe=_;++D<q;)X[fe+D]=r[D];for(;++w<E;)(le||_<y)&&(X[fe+l[w]]=e[_++]);return X}function Lt(e,r){var l=-1,h=e.length;for(r||(r=B(h));++l<h;)r[l]=e[l];return r}function cn(e,r,l,h){var _=!l;l||(l={});for(var y=-1,w=r.length;++y<w;){var E=r[y],D=h?h(l[E],e[E],E,l,e):t;D===t&&(D=e[E]),_?vn(l,E,D):Rr(l,E,D)}return l}function W9(e,r){return cn(e,Ml(e),r)}function H9(e,r){return cn(e,js(e),r)}function _i(e,r){return function(l,h){var _=ve(l)?Ga:a9,y=r?r():{};return _(l,e,he(h,2),y)}}function cr(e){return ke(function(r,l){var h=-1,_=l.length,y=_>1?l[_-1]:t,w=_>2?l[2]:t;for(y=e.length>3&&typeof y=="function"?(_--,y):t,w&&Et(l[0],l[1],w)&&(y=_<3?t:y,_=1),r=Je(r);++h<_;){var E=l[h];E&&e(r,E,h,y)}return r})}function Ms(e,r){return function(l,h){if(l==null)return l;if(!Mt(l))return e(l,h);for(var _=l.length,y=r?_:-1,w=Je(l);(r?y--:++y<_)&&h(w[y],y,w)!==!1;);return l}}function Bs(e){return function(r,l,h){for(var _=-1,y=Je(r),w=h(r),E=w.length;E--;){var D=w[e?E:++_];if(l(y[D],D,y)===!1)break}return r}}function x9(e,r,l){var h=r&O,_=Fr(e);function y(){var w=this&&this!==mt&&this instanceof y?_:e;return w.apply(h?l:this,arguments)}return y}function Fs(e){return function(r){r=Fe(r);var l=ir(r)?on(r):t,h=l?l[0]:r.charAt(0),_=l?Ln(l,1).join(""):r.slice(1);return h[e]()+_}}function hr(e){return function(r){return Qi(M0(L0(r).replace(Ra,"")),e,"")}}function Fr(e){return function(){var r=arguments;switch(r.length){case 0:return new e;case 1:return new e(r[0]);case 2:return new e(r[0],r[1]);case 3:return new e(r[0],r[1],r[2]);case 4:return new e(r[0],r[1],r[2],r[3]);case 5:return new e(r[0],r[1],r[2],r[3],r[4]);case 6:return new e(r[0],r[1],r[2],r[3],r[4],r[5]);case 7:return new e(r[0],r[1],r[2],r[3],r[4],r[5],r[6])}var l=fr(e.prototype),h=e.apply(l,r);return tt(h)?h:l}}function V9(e,r,l){var h=Fr(e);function _(){for(var y=arguments.length,w=B(y),E=y,D=dr(_);E--;)w[E]=arguments[E];var q=y<3&&w[0]!==D&&w[y-1]!==D?[]:Tn(w,D);if(y-=q.length,y<l)return Hs(e,r,mi,_.placeholder,t,w,q,t,t,l-y);var G=this&&this!==mt&&this instanceof _?h:e;return xt(G,this,w)}return _}function zs(e){return function(r,l,h){var _=Je(r);if(!Mt(r)){var y=he(l,3);r=gt(r),l=function(E){return y(_[E],E,_)}}var w=e(r,l,h);return w>-1?_[y?r[w]:w]:t}}function Us(e){return yn(function(r){var l=r.length,h=l,_=Qt.prototype.thru;for(e&&r.reverse();h--;){var y=r[h];if(typeof y!="function")throw new Xt(u);if(_&&!w&&wi(y)=="wrapper")var w=new Qt([],!0)}for(h=w?h:l;++h<l;){y=r[h];var E=wi(y),D=E=="wrapper"?Pl(y):t;D&&Fl(D[0])&&D[1]==(R|H|ee|j)&&!D[4].length&&D[9]==1?w=w[wi(D[0])].apply(w,D[3]):w=y.length==1&&Fl(y)?w[E]():w.thru(y)}return function(){var q=arguments,G=q[0];if(w&&q.length==1&&ve(G))return w.plant(G).value();for(var X=0,le=l?r[X].apply(this,q):G;++X<l;)le=r[X].call(this,le);return le}})}function mi(e,r,l,h,_,y,w,E,D,q){var G=r&R,X=r&O,le=r&A,fe=r&(H|M),de=r&Z,Ce=le?t:Fr(e);function pe(){for(var Oe=arguments.length,Ae=B(Oe),jt=Oe;jt--;)Ae[jt]=arguments[jt];if(fe)var Ot=dr(pe),Jt=ef(Ae,Ot);if(h&&(Ae=Ps(Ae,h,_,fe)),y&&(Ae=Ls(Ae,y,w,fe)),Oe-=Jt,fe&&Oe<q){var at=Tn(Ae,Ot);return Hs(e,r,mi,pe.placeholder,l,Ae,at,E,D,q-Oe)}var an=X?l:this,Sn=le?an[e]:e;return Oe=Ae.length,E?Ae=ac(Ae,E):de&&Oe>1&&Ae.reverse(),G&&D<Oe&&(Ae.length=D),this&&this!==mt&&this instanceof pe&&(Sn=Ce||Fr(Sn)),Sn.apply(an,Ae)}return pe}function Ns(e,r){return function(l,h){return m9(l,e,r(h),{})}}function vi(e,r){return function(l,h){var _;if(l===t&&h===t)return r;if(l!==t&&(_=l),h!==t){if(_===t)return h;typeof l=="string"||typeof h=="string"?(l=qt(l),h=qt(h)):(l=Ss(l),h=Ss(h)),_=e(l,h)}return _}}function Tl(e){return yn(function(r){return r=et(r,Vt(he())),ke(function(l){var h=this;return e(r,function(_){return xt(_,h,l)})})})}function bi(e,r){r=r===t?" ":qt(r);var l=r.length;if(l<2)return l?wl(r,e):r;var h=wl(r,li(e/lr(r)));return ir(r)?Ln(on(h),0,e).join(""):h.slice(0,e)}function q9(e,r,l,h){var _=r&O,y=Fr(e);function w(){for(var E=-1,D=arguments.length,q=-1,G=h.length,X=B(G+D),le=this&&this!==mt&&this instanceof w?y:e;++q<G;)X[q]=h[q];for(;D--;)X[q++]=arguments[++E];return xt(le,_?l:this,X)}return w}function Ws(e){return function(r,l,h){return h&&typeof h!="number"&&Et(r,l,h)&&(l=h=t),r=kn(r),l===t?(l=r,r=0):l=kn(l),h=h===t?r<l?1:-1:kn(h),A9(r,l,h,e)}}function yi(e){return function(r,l){return typeof r=="string"&&typeof l=="string"||(r=nn(r),l=nn(l)),e(r,l)}}function Hs(e,r,l,h,_,y,w,E,D,q){var G=r&H,X=G?w:t,le=G?t:w,fe=G?y:t,de=G?t:y;r|=G?ee:x,r&=~(G?x:ee),r&z||(r&=~(O|A));var Ce=[e,r,_,fe,X,de,le,E,D,q],pe=l.apply(t,Ce);return Fl(e)&&$s(pe,Ce),pe.placeholder=h,e0(pe,e,r)}function Al(e){var r=ht[e];return function(l,h){if(l=nn(l),h=h==null?0:bt(we(h),292),h&&es(l)){var _=(Fe(l)+"e").split("e"),y=r(_[0]+"e"+(+_[1]+h));return _=(Fe(y)+"e").split("e"),+(_[0]+"e"+(+_[1]-h))}return r(l)}}var G9=ur&&1/Yr(new ur([,-0]))[1]==Ee?function(e){return new ur(e)}:Xl;function xs(e){return function(r){var l=yt(r);return l==pt?ll(r):l==Ht?uf(r):$a(r,e(r))}}function bn(e,r,l,h,_,y,w,E){var D=r&A;if(!D&&typeof e!="function")throw new Xt(u);var q=h?h.length:0;if(q||(r&=~(ee|x),h=_=t),w=w===t?w:dt(we(w),0),E=E===t?E:we(E),q-=_?_.length:0,r&x){var G=h,X=_;h=_=t}var le=D?t:Pl(e),fe=[e,r,l,h,_,G,X,y,w,E];if(le&&oc(fe,le),e=fe[0],r=fe[1],l=fe[2],h=fe[3],_=fe[4],E=fe[9]=fe[9]===t?D?0:e.length:dt(fe[9]-q,0),!E&&r&(H|M)&&(r&=~(H|M)),!r||r==O)var de=x9(e,r,l);else r==H||r==M?de=V9(e,r,E):(r==ee||r==(O|ee))&&!_.length?de=q9(e,r,l,h):de=mi.apply(t,fe);var Ce=le?Cs:$s;return e0(Ce(de,fe),e,r)}function Vs(e,r,l,h){return e===t||un(e,sr[l])&&!qe.call(h,l)?r:e}function qs(e,r,l,h,_,y){return tt(e)&&tt(r)&&(y.set(r,e),di(e,r,t,qs,y),y.delete(r)),e}function j9(e){return Nr(e)?t:e}function Gs(e,r,l,h,_,y){var w=l&P,E=e.length,D=r.length;if(E!=D&&!(w&&D>E))return!1;var q=y.get(e),G=y.get(r);if(q&&G)return q==r&&G==e;var X=-1,le=!0,fe=l&I?new Hn:t;for(y.set(e,r),y.set(r,e);++X<E;){var de=e[X],Ce=r[X];if(h)var pe=w?h(Ce,de,X,r,e,y):h(de,Ce,X,e,r,y);if(pe!==t){if(pe)continue;le=!1;break}if(fe){if(!$i(r,function(Oe,Ae){if(!Er(fe,Ae)&&(de===Oe||_(de,Oe,l,h,y)))return fe.push(Ae)})){le=!1;break}}else if(!(de===Ce||_(de,Ce,l,h,y))){le=!1;break}}return y.delete(e),y.delete(r),le}function J9(e,r,l,h,_,y,w){switch(l){case Pt:if(e.byteLength!=r.byteLength||e.byteOffset!=r.byteOffset)return!1;e=e.buffer,r=r.buffer;case Ct:return!(e.byteLength!=r.byteLength||!y(new ti(e),new ti(r)));case Dt:case dn:case Bn:return un(+e,+r);case te:return e.name==r.name&&e.message==r.message;case Fn:case pn:return e==r+"";case pt:var E=ll;case Ht:var D=h&P;if(E||(E=Yr),e.size!=r.size&&!D)return!1;var q=w.get(e);if(q)return q==r;h|=I,w.set(e,r);var G=Gs(E(e),E(r),h,_,y,w);return w.delete(e),G;case $:if(Dr)return Dr.call(e)==Dr.call(r)}return!1}function K9(e,r,l,h,_,y){var w=l&P,E=Dl(e),D=E.length,q=Dl(r),G=q.length;if(D!=G&&!w)return!1;for(var X=D;X--;){var le=E[X];if(!(w?le in r:qe.call(r,le)))return!1}var fe=y.get(e),de=y.get(r);if(fe&&de)return fe==r&&de==e;var Ce=!0;y.set(e,r),y.set(r,e);for(var pe=w;++X<D;){le=E[X];var Oe=e[le],Ae=r[le];if(h)var jt=w?h(Ae,Oe,le,r,e,y):h(Oe,Ae,le,e,r,y);if(!(jt===t?Oe===Ae||_(Oe,Ae,l,h,y):jt)){Ce=!1;break}pe||(pe=le=="constructor")}if(Ce&&!pe){var Ot=e.constructor,Jt=r.constructor;Ot!=Jt&&"constructor"in e&&"constructor"in r&&!(typeof Ot=="function"&&Ot instanceof Ot&&typeof Jt=="function"&&Jt instanceof Jt)&&(Ce=!1)}return y.delete(e),y.delete(r),Ce}function yn(e){return Ul(Xs(e,t,o0),e+"")}function Dl(e){return cs(e,gt,Ml)}function Rl(e){return cs(e,Bt,js)}var Pl=si?function(e){return si.get(e)}:Xl;function wi(e){for(var r=e.name+"",l=ar[r],h=qe.call(ar,r)?l.length:0;h--;){var _=l[h],y=_.func;if(y==null||y==e)return _.name}return r}function dr(e){var r=qe.call(b,"placeholder")?b:e;return r.placeholder}function he(){var e=b.iteratee||Yl;return e=e===Yl?ps:e,arguments.length?e(arguments[0],arguments[1]):e}function Ci(e,r){var l=e.__data__;return nc(r)?l[typeof r=="string"?"string":"hash"]:l.map}function Ll(e){for(var r=gt(e),l=r.length;l--;){var h=r[l],_=e[h];r[l]=[h,_,Ys(_)]}return r}function qn(e,r){var l=lf(e,r);return ds(l)?l:t}function Y9(e){var r=qe.call(e,Nn),l=e[Nn];try{e[Nn]=t;var h=!0}catch{}var _=$r.call(e);return h&&(r?e[Nn]=l:delete e[Nn]),_}var Ml=sl?function(e){return e==null?[]:(e=Je(e),On(sl(e),function(r){return Qo.call(e,r)}))}:Ql,js=sl?function(e){for(var r=[];e;)In(r,Ml(e)),e=ni(e);return r}:Ql,yt=St;(ul&&yt(new ul(new ArrayBuffer(1)))!=Pt||Ir&&yt(new Ir)!=pt||al&&yt(al.resolve())!=Vr||ur&&yt(new ur)!=Ht||Tr&&yt(new Tr)!=Rt)&&(yt=function(e){var r=St(e),l=r==Wt?e.constructor:t,h=l?Gn(l):"";if(h)switch(h){case Rf:return Pt;case Pf:return pt;case Lf:return Vr;case Mf:return Ht;case Bf:return Rt}return r});function Z9(e,r,l){for(var h=-1,_=l.length;++h<_;){var y=l[h],w=y.size;switch(y.type){case"drop":e+=w;break;case"dropRight":r-=w;break;case"take":r=bt(r,e+w);break;case"takeRight":e=dt(e,r-w);break}}return{start:e,end:r}}function X9(e){var r=e.match(na);return r?r[1].split(ra):[]}function Js(e,r,l){r=Pn(r,e);for(var h=-1,_=r.length,y=!1;++h<_;){var w=hn(r[h]);if(!(y=e!=null&&l(e,w)))break;e=e[w]}return y||++h!=_?y:(_=e==null?0:e.length,!!_&&Ai(_)&&wn(w,_)&&(ve(e)||jn(e)))}function Q9(e){var r=e.length,l=new e.constructor(r);return r&&typeof e[0]=="string"&&qe.call(e,"index")&&(l.index=e.index,l.input=e.input),l}function Ks(e){return typeof e.constructor=="function"&&!zr(e)?fr(ni(e)):{}}function $9(e,r,l){var h=e.constructor;switch(r){case Ct:return Il(e);case Dt:case dn:return new h(+e);case Pt:return F9(e,l);case kt:case tr:case gn:case zn:case zi:case Ui:case Ni:case Wi:case Hi:return Ds(e,l);case pt:return new h;case Bn:case pn:return new h(e);case Fn:return z9(e);case Ht:return new h;case $:return U9(e)}}function ec(e,r){var l=r.length;if(!l)return e;var h=l-1;return r[h]=(l>1?"& ":"")+r[h],r=r.join(l>2?", ":" "),e.replace(ta,`{
/* [wrapped with `+r+`] */
`)}function tc(e){return ve(e)||jn(e)||!!($o&&e&&e[$o])}function wn(e,r){var l=typeof e;return r=r??Ke,!!r&&(l=="number"||l!="symbol"&&ha.test(e))&&e>-1&&e%1==0&&e<r}function Et(e,r,l){if(!tt(l))return!1;var h=typeof r;return(h=="number"?Mt(l)&&wn(r,l.length):h=="string"&&r in l)?un(l[r],e):!1}function Bl(e,r){if(ve(e))return!1;var l=typeof e;return l=="number"||l=="symbol"||l=="boolean"||e==null||Gt(e)?!0:Xu.test(e)||!Zu.test(e)||r!=null&&e in Je(r)}function nc(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}function Fl(e){var r=wi(e),l=b[r];if(typeof l!="function"||!(r in Te.prototype))return!1;if(e===l)return!0;var h=Pl(l);return!!h&&e===h[0]}function rc(e){return!!Yo&&Yo in e}var ic=Xr?Cn:$l;function zr(e){var r=e&&e.constructor,l=typeof r=="function"&&r.prototype||sr;return e===l}function Ys(e){return e===e&&!tt(e)}function Zs(e,r){return function(l){return l==null?!1:l[e]===r&&(r!==t||e in Je(l))}}function lc(e){var r=Ii(e,function(h){return l.size===d&&l.clear(),h}),l=r.cache;return r}function oc(e,r){var l=e[1],h=r[1],_=l|h,y=_<(O|A|R),w=h==R&&l==H||h==R&&l==j&&e[7].length<=r[8]||h==(R|j)&&r[7].length<=r[8]&&l==H;if(!(y||w))return e;h&O&&(e[2]=r[2],_|=l&O?0:z);var E=r[3];if(E){var D=e[3];e[3]=D?Ps(D,E,r[4]):E,e[4]=D?Tn(e[3],g):r[4]}return E=r[5],E&&(D=e[5],e[5]=D?Ls(D,E,r[6]):E,e[6]=D?Tn(e[5],g):r[6]),E=r[7],E&&(e[7]=E),h&R&&(e[8]=e[8]==null?r[8]:bt(e[8],r[8])),e[9]==null&&(e[9]=r[9]),e[0]=r[0],e[1]=_,e}function sc(e){var r=[];if(e!=null)for(var l in Je(e))r.push(l);return r}function uc(e){return $r.call(e)}function Xs(e,r,l){return r=dt(r===t?e.length-1:r,0),function(){for(var h=arguments,_=-1,y=dt(h.length-r,0),w=B(y);++_<y;)w[_]=h[r+_];_=-1;for(var E=B(r+1);++_<r;)E[_]=h[_];return E[r]=l(w),xt(e,this,E)}}function Qs(e,r){return r.length<2?e:Vn(e,en(r,0,-1))}function ac(e,r){for(var l=e.length,h=bt(r.length,l),_=Lt(e);h--;){var y=r[h];e[h]=wn(y,l)?_[y]:t}return e}function zl(e,r){if(!(r==="constructor"&&typeof e[r]=="function")&&r!="__proto__")return e[r]}var $s=t0(Cs),Ur=Sf||function(e,r){return mt.setTimeout(e,r)},Ul=t0(P9);function e0(e,r,l){var h=r+"";return Ul(e,ec(h,fc(X9(h),l)))}function t0(e){var r=0,l=0;return function(){var h=Tf(),_=ge-(h-l);if(l=h,_>0){if(++r>=V)return arguments[0]}else r=0;return e.apply(t,arguments)}}function ki(e,r){var l=-1,h=e.length,_=h-1;for(r=r===t?h:r;++l<r;){var y=yl(l,_),w=e[y];e[y]=e[l],e[l]=w}return e.length=r,e}var n0=lc(function(e){var r=[];return e.charCodeAt(0)===46&&r.push(""),e.replace(Qu,function(l,h,_,y){r.push(_?y.replace(oa,"$1"):h||l)}),r});function hn(e){if(typeof e=="string"||Gt(e))return e;var r=e+"";return r=="0"&&1/e==-Ee?"-0":r}function Gn(e){if(e!=null){try{return Qr.call(e)}catch{}try{return e+""}catch{}}return""}function fc(e,r){return Zt(Ze,function(l){var h="_."+l[0];r&l[1]&&!Jr(e,h)&&e.push(h)}),e.sort()}function r0(e){if(e instanceof Te)return e.clone();var r=new Qt(e.__wrapped__,e.__chain__);return r.__actions__=Lt(e.__actions__),r.__index__=e.__index__,r.__values__=e.__values__,r}function cc(e,r,l){(l?Et(e,r,l):r===t)?r=1:r=dt(we(r),0);var h=e==null?0:e.length;if(!h||r<1)return[];for(var _=0,y=0,w=B(li(h/r));_<h;)w[y++]=en(e,_,_+=r);return w}function hc(e){for(var r=-1,l=e==null?0:e.length,h=0,_=[];++r<l;){var y=e[r];y&&(_[h++]=y)}return _}function dc(){var e=arguments.length;if(!e)return[];for(var r=B(e-1),l=arguments[0],h=e;h--;)r[h-1]=arguments[h];return In(ve(l)?Lt(l):[l],vt(r,1))}var gc=ke(function(e,r){return ut(e)?Pr(e,vt(r,1,ut,!0)):[]}),_c=ke(function(e,r){var l=tn(r);return ut(l)&&(l=t),ut(e)?Pr(e,vt(r,1,ut,!0),he(l,2)):[]}),mc=ke(function(e,r){var l=tn(r);return ut(l)&&(l=t),ut(e)?Pr(e,vt(r,1,ut,!0),t,l):[]});function vc(e,r,l){var h=e==null?0:e.length;return h?(r=l||r===t?1:we(r),en(e,r<0?0:r,h)):[]}function bc(e,r,l){var h=e==null?0:e.length;return h?(r=l||r===t?1:we(r),r=h-r,en(e,0,r<0?0:r)):[]}function yc(e,r){return e&&e.length?gi(e,he(r,3),!0,!0):[]}function wc(e,r){return e&&e.length?gi(e,he(r,3),!0):[]}function Cc(e,r,l,h){var _=e==null?0:e.length;return _?(l&&typeof l!="number"&&Et(e,r,l)&&(l=0,h=_),d9(e,r,l,h)):[]}function i0(e,r,l){var h=e==null?0:e.length;if(!h)return-1;var _=l==null?0:we(l);return _<0&&(_=dt(h+_,0)),Kr(e,he(r,3),_)}function l0(e,r,l){var h=e==null?0:e.length;if(!h)return-1;var _=h-1;return l!==t&&(_=we(l),_=l<0?dt(h+_,0):bt(_,h-1)),Kr(e,he(r,3),_,!0)}function o0(e){var r=e==null?0:e.length;return r?vt(e,1):[]}function kc(e){var r=e==null?0:e.length;return r?vt(e,Ee):[]}function Sc(e,r){var l=e==null?0:e.length;return l?(r=r===t?1:we(r),vt(e,r)):[]}function Ec(e){for(var r=-1,l=e==null?0:e.length,h={};++r<l;){var _=e[r];h[_[0]]=_[1]}return h}function s0(e){return e&&e.length?e[0]:t}function Oc(e,r,l){var h=e==null?0:e.length;if(!h)return-1;var _=l==null?0:we(l);return _<0&&(_=dt(h+_,0)),rr(e,r,_)}function Ic(e){var r=e==null?0:e.length;return r?en(e,0,-1):[]}var Tc=ke(function(e){var r=et(e,El);return r.length&&r[0]===e[0]?gl(r):[]}),Ac=ke(function(e){var r=tn(e),l=et(e,El);return r===tn(l)?r=t:l.pop(),l.length&&l[0]===e[0]?gl(l,he(r,2)):[]}),Dc=ke(function(e){var r=tn(e),l=et(e,El);return r=typeof r=="function"?r:t,r&&l.pop(),l.length&&l[0]===e[0]?gl(l,t,r):[]});function Rc(e,r){return e==null?"":Of.call(e,r)}function tn(e){var r=e==null?0:e.length;return r?e[r-1]:t}function Pc(e,r,l){var h=e==null?0:e.length;if(!h)return-1;var _=h;return l!==t&&(_=we(l),_=_<0?dt(h+_,0):bt(_,h-1)),r===r?ff(e,r,_):Kr(e,Ho,_,!0)}function Lc(e,r){return e&&e.length?vs(e,we(r)):t}var Mc=ke(u0);function u0(e,r){return e&&e.length&&r&&r.length?bl(e,r):e}function Bc(e,r,l){return e&&e.length&&r&&r.length?bl(e,r,he(l,2)):e}function Fc(e,r,l){return e&&e.length&&r&&r.length?bl(e,r,t,l):e}var zc=yn(function(e,r){var l=e==null?0:e.length,h=cl(e,r);return ws(e,et(r,function(_){return wn(_,l)?+_:_}).sort(Rs)),h});function Uc(e,r){var l=[];if(!(e&&e.length))return l;var h=-1,_=[],y=e.length;for(r=he(r,3);++h<y;){var w=e[h];r(w,h,e)&&(l.push(w),_.push(h))}return ws(e,_),l}function Nl(e){return e==null?e:Df.call(e)}function Nc(e,r,l){var h=e==null?0:e.length;return h?(l&&typeof l!="number"&&Et(e,r,l)?(r=0,l=h):(r=r==null?0:we(r),l=l===t?h:we(l)),en(e,r,l)):[]}function Wc(e,r){return pi(e,r)}function Hc(e,r,l){return Cl(e,r,he(l,2))}function xc(e,r){var l=e==null?0:e.length;if(l){var h=pi(e,r);if(h<l&&un(e[h],r))return h}return-1}function Vc(e,r){return pi(e,r,!0)}function qc(e,r,l){return Cl(e,r,he(l,2),!0)}function Gc(e,r){var l=e==null?0:e.length;if(l){var h=pi(e,r,!0)-1;if(un(e[h],r))return h}return-1}function jc(e){return e&&e.length?ks(e):[]}function Jc(e,r){return e&&e.length?ks(e,he(r,2)):[]}function Kc(e){var r=e==null?0:e.length;return r?en(e,1,r):[]}function Yc(e,r,l){return e&&e.length?(r=l||r===t?1:we(r),en(e,0,r<0?0:r)):[]}function Zc(e,r,l){var h=e==null?0:e.length;return h?(r=l||r===t?1:we(r),r=h-r,en(e,r<0?0:r,h)):[]}function Xc(e,r){return e&&e.length?gi(e,he(r,3),!1,!0):[]}function Qc(e,r){return e&&e.length?gi(e,he(r,3)):[]}var $c=ke(function(e){return Rn(vt(e,1,ut,!0))}),eh=ke(function(e){var r=tn(e);return ut(r)&&(r=t),Rn(vt(e,1,ut,!0),he(r,2))}),th=ke(function(e){var r=tn(e);return r=typeof r=="function"?r:t,Rn(vt(e,1,ut,!0),t,r)});function nh(e){return e&&e.length?Rn(e):[]}function rh(e,r){return e&&e.length?Rn(e,he(r,2)):[]}function ih(e,r){return r=typeof r=="function"?r:t,e&&e.length?Rn(e,t,r):[]}function Wl(e){if(!(e&&e.length))return[];var r=0;return e=On(e,function(l){if(ut(l))return r=dt(l.length,r),!0}),rl(r,function(l){return et(e,el(l))})}function a0(e,r){if(!(e&&e.length))return[];var l=Wl(e);return r==null?l:et(l,function(h){return xt(r,t,h)})}var lh=ke(function(e,r){return ut(e)?Pr(e,r):[]}),oh=ke(function(e){return Sl(On(e,ut))}),sh=ke(function(e){var r=tn(e);return ut(r)&&(r=t),Sl(On(e,ut),he(r,2))}),uh=ke(function(e){var r=tn(e);return r=typeof r=="function"?r:t,Sl(On(e,ut),t,r)}),ah=ke(Wl);function fh(e,r){return Is(e||[],r||[],Rr)}function ch(e,r){return Is(e||[],r||[],Br)}var hh=ke(function(e){var r=e.length,l=r>1?e[r-1]:t;return l=typeof l=="function"?(e.pop(),l):t,a0(e,l)});function f0(e){var r=b(e);return r.__chain__=!0,r}function dh(e,r){return r(e),e}function Si(e,r){return r(e)}var ph=yn(function(e){var r=e.length,l=r?e[0]:0,h=this.__wrapped__,_=function(y){return cl(y,e)};return r>1||this.__actions__.length||!(h instanceof Te)||!wn(l)?this.thru(_):(h=h.slice(l,+l+(r?1:0)),h.__actions__.push({func:Si,args:[_],thisArg:t}),new Qt(h,this.__chain__).thru(function(y){return r&&!y.length&&y.push(t),y}))});function gh(){return f0(this)}function _h(){return new Qt(this.value(),this.__chain__)}function mh(){this.__values__===t&&(this.__values__=S0(this.value()));var e=this.__index__>=this.__values__.length,r=e?t:this.__values__[this.__index__++];return{done:e,value:r}}function vh(){return this}function bh(e){for(var r,l=this;l instanceof ai;){var h=r0(l);h.__index__=0,h.__values__=t,r?_.__wrapped__=h:r=h;var _=h;l=l.__wrapped__}return _.__wrapped__=e,r}function yh(){var e=this.__wrapped__;if(e instanceof Te){var r=e;return this.__actions__.length&&(r=new Te(this)),r=r.reverse(),r.__actions__.push({func:Si,args:[Nl],thisArg:t}),new Qt(r,this.__chain__)}return this.thru(Nl)}function wh(){return Os(this.__wrapped__,this.__actions__)}var Ch=_i(function(e,r,l){qe.call(e,l)?++e[l]:vn(e,l,1)});function kh(e,r,l){var h=ve(e)?No:h9;return l&&Et(e,r,l)&&(r=t),h(e,he(r,3))}function Sh(e,r){var l=ve(e)?On:as;return l(e,he(r,3))}var Eh=zs(i0),Oh=zs(l0);function Ih(e,r){return vt(Ei(e,r),1)}function Th(e,r){return vt(Ei(e,r),Ee)}function Ah(e,r,l){return l=l===t?1:we(l),vt(Ei(e,r),l)}function c0(e,r){var l=ve(e)?Zt:Dn;return l(e,he(r,3))}function h0(e,r){var l=ve(e)?ja:us;return l(e,he(r,3))}var Dh=_i(function(e,r,l){qe.call(e,l)?e[l].push(r):vn(e,l,[r])});function Rh(e,r,l,h){e=Mt(e)?e:gr(e),l=l&&!h?we(l):0;var _=e.length;return l<0&&(l=dt(_+l,0)),Di(e)?l<=_&&e.indexOf(r,l)>-1:!!_&&rr(e,r,l)>-1}var Ph=ke(function(e,r,l){var h=-1,_=typeof r=="function",y=Mt(e)?B(e.length):[];return Dn(e,function(w){y[++h]=_?xt(r,w,l):Lr(w,r,l)}),y}),Lh=_i(function(e,r,l){vn(e,l,r)});function Ei(e,r){var l=ve(e)?et:gs;return l(e,he(r,3))}function Mh(e,r,l,h){return e==null?[]:(ve(r)||(r=r==null?[]:[r]),l=h?t:l,ve(l)||(l=l==null?[]:[l]),bs(e,r,l))}var Bh=_i(function(e,r,l){e[l?0:1].push(r)},function(){return[[],[]]});function Fh(e,r,l){var h=ve(e)?Qi:Vo,_=arguments.length<3;return h(e,he(r,4),l,_,Dn)}function zh(e,r,l){var h=ve(e)?Ja:Vo,_=arguments.length<3;return h(e,he(r,4),l,_,us)}function Uh(e,r){var l=ve(e)?On:as;return l(e,Ti(he(r,3)))}function Nh(e){var r=ve(e)?is:D9;return r(e)}function Wh(e,r,l){(l?Et(e,r,l):r===t)?r=1:r=we(r);var h=ve(e)?s9:R9;return h(e,r)}function Hh(e){var r=ve(e)?u9:L9;return r(e)}function xh(e){if(e==null)return 0;if(Mt(e))return Di(e)?lr(e):e.length;var r=yt(e);return r==pt||r==Ht?e.size:ml(e).length}function Vh(e,r,l){var h=ve(e)?$i:M9;return l&&Et(e,r,l)&&(r=t),h(e,he(r,3))}var qh=ke(function(e,r){if(e==null)return[];var l=r.length;return l>1&&Et(e,r[0],r[1])?r=[]:l>2&&Et(r[0],r[1],r[2])&&(r=[r[0]]),bs(e,vt(r,1),[])}),Oi=kf||function(){return mt.Date.now()};function Gh(e,r){if(typeof r!="function")throw new Xt(u);return e=we(e),function(){if(--e<1)return r.apply(this,arguments)}}function d0(e,r,l){return r=l?t:r,r=e&&r==null?e.length:r,bn(e,R,t,t,t,t,r)}function p0(e,r){var l;if(typeof r!="function")throw new Xt(u);return e=we(e),function(){return--e>0&&(l=r.apply(this,arguments)),e<=1&&(r=t),l}}var Hl=ke(function(e,r,l){var h=O;if(l.length){var _=Tn(l,dr(Hl));h|=ee}return bn(e,h,r,l,_)}),g0=ke(function(e,r,l){var h=O|A;if(l.length){var _=Tn(l,dr(g0));h|=ee}return bn(r,h,e,l,_)});function _0(e,r,l){r=l?t:r;var h=bn(e,H,t,t,t,t,t,r);return h.placeholder=_0.placeholder,h}function m0(e,r,l){r=l?t:r;var h=bn(e,M,t,t,t,t,t,r);return h.placeholder=m0.placeholder,h}function v0(e,r,l){var h,_,y,w,E,D,q=0,G=!1,X=!1,le=!0;if(typeof e!="function")throw new Xt(u);r=nn(r)||0,tt(l)&&(G=!!l.leading,X="maxWait"in l,y=X?dt(nn(l.maxWait)||0,r):y,le="trailing"in l?!!l.trailing:le);function fe(at){var an=h,Sn=_;return h=_=t,q=at,w=e.apply(Sn,an),w}function de(at){return q=at,E=Ur(Oe,r),G?fe(at):w}function Ce(at){var an=at-D,Sn=at-q,z0=r-an;return X?bt(z0,y-Sn):z0}function pe(at){var an=at-D,Sn=at-q;return D===t||an>=r||an<0||X&&Sn>=y}function Oe(){var at=Oi();if(pe(at))return Ae(at);E=Ur(Oe,Ce(at))}function Ae(at){return E=t,le&&h?fe(at):(h=_=t,w)}function jt(){E!==t&&Ts(E),q=0,h=D=_=E=t}function Ot(){return E===t?w:Ae(Oi())}function Jt(){var at=Oi(),an=pe(at);if(h=arguments,_=this,D=at,an){if(E===t)return de(D);if(X)return Ts(E),E=Ur(Oe,r),fe(D)}return E===t&&(E=Ur(Oe,r)),w}return Jt.cancel=jt,Jt.flush=Ot,Jt}var jh=ke(function(e,r){return ss(e,1,r)}),Jh=ke(function(e,r,l){return ss(e,nn(r)||0,l)});function Kh(e){return bn(e,Z)}function Ii(e,r){if(typeof e!="function"||r!=null&&typeof r!="function")throw new Xt(u);var l=function(){var h=arguments,_=r?r.apply(this,h):h[0],y=l.cache;if(y.has(_))return y.get(_);var w=e.apply(this,h);return l.cache=y.set(_,w)||y,w};return l.cache=new(Ii.Cache||mn),l}Ii.Cache=mn;function Ti(e){if(typeof e!="function")throw new Xt(u);return function(){var r=arguments;switch(r.length){case 0:return!e.call(this);case 1:return!e.call(this,r[0]);case 2:return!e.call(this,r[0],r[1]);case 3:return!e.call(this,r[0],r[1],r[2])}return!e.apply(this,r)}}function Yh(e){return p0(2,e)}var Zh=B9(function(e,r){r=r.length==1&&ve(r[0])?et(r[0],Vt(he())):et(vt(r,1),Vt(he()));var l=r.length;return ke(function(h){for(var _=-1,y=bt(h.length,l);++_<y;)h[_]=r[_].call(this,h[_]);return xt(e,this,h)})}),xl=ke(function(e,r){var l=Tn(r,dr(xl));return bn(e,ee,t,r,l)}),b0=ke(function(e,r){var l=Tn(r,dr(b0));return bn(e,x,t,r,l)}),Xh=yn(function(e,r){return bn(e,j,t,t,t,r)});function Qh(e,r){if(typeof e!="function")throw new Xt(u);return r=r===t?r:we(r),ke(e,r)}function $h(e,r){if(typeof e!="function")throw new Xt(u);return r=r==null?0:dt(we(r),0),ke(function(l){var h=l[r],_=Ln(l,0,r);return h&&In(_,h),xt(e,this,_)})}function ed(e,r,l){var h=!0,_=!0;if(typeof e!="function")throw new Xt(u);return tt(l)&&(h="leading"in l?!!l.leading:h,_="trailing"in l?!!l.trailing:_),v0(e,r,{leading:h,maxWait:r,trailing:_})}function td(e){return d0(e,1)}function nd(e,r){return xl(Ol(r),e)}function rd(){if(!arguments.length)return[];var e=arguments[0];return ve(e)?e:[e]}function id(e){return $t(e,v)}function ld(e,r){return r=typeof r=="function"?r:t,$t(e,v,r)}function od(e){return $t(e,p|v)}function sd(e,r){return r=typeof r=="function"?r:t,$t(e,p|v,r)}function ud(e,r){return r==null||os(e,r,gt(r))}function un(e,r){return e===r||e!==e&&r!==r}var ad=yi(pl),fd=yi(function(e,r){return e>=r}),jn=hs(function(){return arguments}())?hs:function(e){return rt(e)&&qe.call(e,"callee")&&!Qo.call(e,"callee")},ve=B.isArray,cd=Lo?Vt(Lo):v9;function Mt(e){return e!=null&&Ai(e.length)&&!Cn(e)}function ut(e){return rt(e)&&Mt(e)}function hd(e){return e===!0||e===!1||rt(e)&&St(e)==Dt}var Mn=Ef||$l,dd=Mo?Vt(Mo):b9;function pd(e){return rt(e)&&e.nodeType===1&&!Nr(e)}function gd(e){if(e==null)return!0;if(Mt(e)&&(ve(e)||typeof e=="string"||typeof e.splice=="function"||Mn(e)||pr(e)||jn(e)))return!e.length;var r=yt(e);if(r==pt||r==Ht)return!e.size;if(zr(e))return!ml(e).length;for(var l in e)if(qe.call(e,l))return!1;return!0}function _d(e,r){return Mr(e,r)}function md(e,r,l){l=typeof l=="function"?l:t;var h=l?l(e,r):t;return h===t?Mr(e,r,t,l):!!h}function Vl(e){if(!rt(e))return!1;var r=St(e);return r==te||r==Qn||typeof e.message=="string"&&typeof e.name=="string"&&!Nr(e)}function vd(e){return typeof e=="number"&&es(e)}function Cn(e){if(!tt(e))return!1;var r=St(e);return r==ct||r==Xe||r==At||r==er}function y0(e){return typeof e=="number"&&e==we(e)}function Ai(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Ke}function tt(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}function rt(e){return e!=null&&typeof e=="object"}var w0=Bo?Vt(Bo):w9;function bd(e,r){return e===r||_l(e,r,Ll(r))}function yd(e,r,l){return l=typeof l=="function"?l:t,_l(e,r,Ll(r),l)}function wd(e){return C0(e)&&e!=+e}function Cd(e){if(ic(e))throw new me(a);return ds(e)}function kd(e){return e===null}function Sd(e){return e==null}function C0(e){return typeof e=="number"||rt(e)&&St(e)==Bn}function Nr(e){if(!rt(e)||St(e)!=Wt)return!1;var r=ni(e);if(r===null)return!0;var l=qe.call(r,"constructor")&&r.constructor;return typeof l=="function"&&l instanceof l&&Qr.call(l)==bf}var ql=Fo?Vt(Fo):C9;function Ed(e){return y0(e)&&e>=-Ke&&e<=Ke}var k0=zo?Vt(zo):k9;function Di(e){return typeof e=="string"||!ve(e)&&rt(e)&&St(e)==pn}function Gt(e){return typeof e=="symbol"||rt(e)&&St(e)==$}var pr=Uo?Vt(Uo):S9;function Od(e){return e===t}function Id(e){return rt(e)&&yt(e)==Rt}function Td(e){return rt(e)&&St(e)==En}var Ad=yi(vl),Dd=yi(function(e,r){return e<=r});function S0(e){if(!e)return[];if(Mt(e))return Di(e)?on(e):Lt(e);if(Or&&e[Or])return sf(e[Or]());var r=yt(e),l=r==pt?ll:r==Ht?Yr:gr;return l(e)}function kn(e){if(!e)return e===0?e:0;if(e=nn(e),e===Ee||e===-Ee){var r=e<0?-1:1;return r*ot}return e===e?e:0}function we(e){var r=kn(e),l=r%1;return r===r?l?r-l:r:0}function E0(e){return e?xn(we(e),0,ye):0}function nn(e){if(typeof e=="number")return e;if(Gt(e))return Re;if(tt(e)){var r=typeof e.valueOf=="function"?e.valueOf():e;e=tt(r)?r+"":r}if(typeof e!="string")return e===0?e:+e;e=qo(e);var l=aa.test(e);return l||ca.test(e)?Va(e.slice(2),l?2:8):ua.test(e)?Re:+e}function O0(e){return cn(e,Bt(e))}function Rd(e){return e?xn(we(e),-Ke,Ke):e===0?e:0}function Fe(e){return e==null?"":qt(e)}var Pd=cr(function(e,r){if(zr(r)||Mt(r)){cn(r,gt(r),e);return}for(var l in r)qe.call(r,l)&&Rr(e,l,r[l])}),I0=cr(function(e,r){cn(r,Bt(r),e)}),Ri=cr(function(e,r,l,h){cn(r,Bt(r),e,h)}),Ld=cr(function(e,r,l,h){cn(r,gt(r),e,h)}),Md=yn(cl);function Bd(e,r){var l=fr(e);return r==null?l:ls(l,r)}var Fd=ke(function(e,r){e=Je(e);var l=-1,h=r.length,_=h>2?r[2]:t;for(_&&Et(r[0],r[1],_)&&(h=1);++l<h;)for(var y=r[l],w=Bt(y),E=-1,D=w.length;++E<D;){var q=w[E],G=e[q];(G===t||un(G,sr[q])&&!qe.call(e,q))&&(e[q]=y[q])}return e}),zd=ke(function(e){return e.push(t,qs),xt(T0,t,e)});function Ud(e,r){return Wo(e,he(r,3),fn)}function Nd(e,r){return Wo(e,he(r,3),dl)}function Wd(e,r){return e==null?e:hl(e,he(r,3),Bt)}function Hd(e,r){return e==null?e:fs(e,he(r,3),Bt)}function xd(e,r){return e&&fn(e,he(r,3))}function Vd(e,r){return e&&dl(e,he(r,3))}function qd(e){return e==null?[]:hi(e,gt(e))}function Gd(e){return e==null?[]:hi(e,Bt(e))}function Gl(e,r,l){var h=e==null?t:Vn(e,r);return h===t?l:h}function jd(e,r){return e!=null&&Js(e,r,p9)}function jl(e,r){return e!=null&&Js(e,r,g9)}var Jd=Ns(function(e,r,l){r!=null&&typeof r.toString!="function"&&(r=$r.call(r)),e[r]=l},Kl(Ft)),Kd=Ns(function(e,r,l){r!=null&&typeof r.toString!="function"&&(r=$r.call(r)),qe.call(e,r)?e[r].push(l):e[r]=[l]},he),Yd=ke(Lr);function gt(e){return Mt(e)?rs(e):ml(e)}function Bt(e){return Mt(e)?rs(e,!0):E9(e)}function Zd(e,r){var l={};return r=he(r,3),fn(e,function(h,_,y){vn(l,r(h,_,y),h)}),l}function Xd(e,r){var l={};return r=he(r,3),fn(e,function(h,_,y){vn(l,_,r(h,_,y))}),l}var Qd=cr(function(e,r,l){di(e,r,l)}),T0=cr(function(e,r,l,h){di(e,r,l,h)}),$d=yn(function(e,r){var l={};if(e==null)return l;var h=!1;r=et(r,function(y){return y=Pn(y,e),h||(h=y.length>1),y}),cn(e,Rl(e),l),h&&(l=$t(l,p|m|v,j9));for(var _=r.length;_--;)kl(l,r[_]);return l});function ep(e,r){return A0(e,Ti(he(r)))}var tp=yn(function(e,r){return e==null?{}:I9(e,r)});function A0(e,r){if(e==null)return{};var l=et(Rl(e),function(h){return[h]});return r=he(r),ys(e,l,function(h,_){return r(h,_[0])})}function np(e,r,l){r=Pn(r,e);var h=-1,_=r.length;for(_||(_=1,e=t);++h<_;){var y=e==null?t:e[hn(r[h])];y===t&&(h=_,y=l),e=Cn(y)?y.call(e):y}return e}function rp(e,r,l){return e==null?e:Br(e,r,l)}function ip(e,r,l,h){return h=typeof h=="function"?h:t,e==null?e:Br(e,r,l,h)}var D0=xs(gt),R0=xs(Bt);function lp(e,r,l){var h=ve(e),_=h||Mn(e)||pr(e);if(r=he(r,4),l==null){var y=e&&e.constructor;_?l=h?new y:[]:tt(e)?l=Cn(y)?fr(ni(e)):{}:l={}}return(_?Zt:fn)(e,function(w,E,D){return r(l,w,E,D)}),l}function op(e,r){return e==null?!0:kl(e,r)}function sp(e,r,l){return e==null?e:Es(e,r,Ol(l))}function up(e,r,l,h){return h=typeof h=="function"?h:t,e==null?e:Es(e,r,Ol(l),h)}function gr(e){return e==null?[]:il(e,gt(e))}function ap(e){return e==null?[]:il(e,Bt(e))}function fp(e,r,l){return l===t&&(l=r,r=t),l!==t&&(l=nn(l),l=l===l?l:0),r!==t&&(r=nn(r),r=r===r?r:0),xn(nn(e),r,l)}function cp(e,r,l){return r=kn(r),l===t?(l=r,r=0):l=kn(l),e=nn(e),_9(e,r,l)}function hp(e,r,l){if(l&&typeof l!="boolean"&&Et(e,r,l)&&(r=l=t),l===t&&(typeof r=="boolean"?(l=r,r=t):typeof e=="boolean"&&(l=e,e=t)),e===t&&r===t?(e=0,r=1):(e=kn(e),r===t?(r=e,e=0):r=kn(r)),e>r){var h=e;e=r,r=h}if(l||e%1||r%1){var _=ts();return bt(e+_*(r-e+xa("1e-"+((_+"").length-1))),r)}return yl(e,r)}var dp=hr(function(e,r,l){return r=r.toLowerCase(),e+(l?P0(r):r)});function P0(e){return Jl(Fe(e).toLowerCase())}function L0(e){return e=Fe(e),e&&e.replace(da,tf).replace(Pa,"")}function pp(e,r,l){e=Fe(e),r=qt(r);var h=e.length;l=l===t?h:xn(we(l),0,h);var _=l;return l-=r.length,l>=0&&e.slice(l,_)==r}function gp(e){return e=Fe(e),e&&Ju.test(e)?e.replace(ao,nf):e}function _p(e){return e=Fe(e),e&&$u.test(e)?e.replace(xi,"\\$&"):e}var mp=hr(function(e,r,l){return e+(l?"-":"")+r.toLowerCase()}),vp=hr(function(e,r,l){return e+(l?" ":"")+r.toLowerCase()}),bp=Fs("toLowerCase");function yp(e,r,l){e=Fe(e),r=we(r);var h=r?lr(e):0;if(!r||h>=r)return e;var _=(r-h)/2;return bi(oi(_),l)+e+bi(li(_),l)}function wp(e,r,l){e=Fe(e),r=we(r);var h=r?lr(e):0;return r&&h<r?e+bi(r-h,l):e}function Cp(e,r,l){e=Fe(e),r=we(r);var h=r?lr(e):0;return r&&h<r?bi(r-h,l)+e:e}function kp(e,r,l){return l||r==null?r=0:r&&(r=+r),Af(Fe(e).replace(Vi,""),r||0)}function Sp(e,r,l){return(l?Et(e,r,l):r===t)?r=1:r=we(r),wl(Fe(e),r)}function Ep(){var e=arguments,r=Fe(e[0]);return e.length<3?r:r.replace(e[1],e[2])}var Op=hr(function(e,r,l){return e+(l?"_":"")+r.toLowerCase()});function Ip(e,r,l){return l&&typeof l!="number"&&Et(e,r,l)&&(r=l=t),l=l===t?ye:l>>>0,l?(e=Fe(e),e&&(typeof r=="string"||r!=null&&!ql(r))&&(r=qt(r),!r&&ir(e))?Ln(on(e),0,l):e.split(r,l)):[]}var Tp=hr(function(e,r,l){return e+(l?" ":"")+Jl(r)});function Ap(e,r,l){return e=Fe(e),l=l==null?0:xn(we(l),0,e.length),r=qt(r),e.slice(l,l+r.length)==r}function Dp(e,r,l){var h=b.templateSettings;l&&Et(e,r,l)&&(r=t),e=Fe(e),r=Ri({},r,h,Vs);var _=Ri({},r.imports,h.imports,Vs),y=gt(_),w=il(_,y),E,D,q=0,G=r.interpolate||qr,X="__p += '",le=ol((r.escape||qr).source+"|"+G.source+"|"+(G===fo?sa:qr).source+"|"+(r.evaluate||qr).source+"|$","g"),fe="//# sourceURL="+(qe.call(r,"sourceURL")?(r.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++za+"]")+`
`;e.replace(le,function(pe,Oe,Ae,jt,Ot,Jt){return Ae||(Ae=jt),X+=e.slice(q,Jt).replace(pa,rf),Oe&&(E=!0,X+=`' +
__e(`+Oe+`) +
'`),Ot&&(D=!0,X+=`';
`+Ot+`;
__p += '`),Ae&&(X+=`' +
((__t = (`+Ae+`)) == null ? '' : __t) +
'`),q=Jt+pe.length,pe}),X+=`';
`;var de=qe.call(r,"variable")&&r.variable;if(!de)X=`with (obj) {
`+X+`
}
`;else if(la.test(de))throw new me(f);X=(D?X.replace(Vu,""):X).replace(qu,"$1").replace(Gu,"$1;"),X="function("+(de||"obj")+`) {
`+(de?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(E?", __e = _.escape":"")+(D?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+X+`return __p
}`;var Ce=B0(function(){return Be(y,fe+"return "+X).apply(t,w)});if(Ce.source=X,Vl(Ce))throw Ce;return Ce}function Rp(e){return Fe(e).toLowerCase()}function Pp(e){return Fe(e).toUpperCase()}function Lp(e,r,l){if(e=Fe(e),e&&(l||r===t))return qo(e);if(!e||!(r=qt(r)))return e;var h=on(e),_=on(r),y=Go(h,_),w=jo(h,_)+1;return Ln(h,y,w).join("")}function Mp(e,r,l){if(e=Fe(e),e&&(l||r===t))return e.slice(0,Ko(e)+1);if(!e||!(r=qt(r)))return e;var h=on(e),_=jo(h,on(r))+1;return Ln(h,0,_).join("")}function Bp(e,r,l){if(e=Fe(e),e&&(l||r===t))return e.replace(Vi,"");if(!e||!(r=qt(r)))return e;var h=on(e),_=Go(h,on(r));return Ln(h,_).join("")}function Fp(e,r){var l=Y,h=K;if(tt(r)){var _="separator"in r?r.separator:_;l="length"in r?we(r.length):l,h="omission"in r?qt(r.omission):h}e=Fe(e);var y=e.length;if(ir(e)){var w=on(e);y=w.length}if(l>=y)return e;var E=l-lr(h);if(E<1)return h;var D=w?Ln(w,0,E).join(""):e.slice(0,E);if(_===t)return D+h;if(w&&(E+=D.length-E),ql(_)){if(e.slice(E).search(_)){var q,G=D;for(_.global||(_=ol(_.source,Fe(co.exec(_))+"g")),_.lastIndex=0;q=_.exec(G);)var X=q.index;D=D.slice(0,X===t?E:X)}}else if(e.indexOf(qt(_),E)!=E){var le=D.lastIndexOf(_);le>-1&&(D=D.slice(0,le))}return D+h}function zp(e){return e=Fe(e),e&&ju.test(e)?e.replace(uo,cf):e}var Up=hr(function(e,r,l){return e+(l?" ":"")+r.toUpperCase()}),Jl=Fs("toUpperCase");function M0(e,r,l){return e=Fe(e),r=l?t:r,r===t?of(e)?pf(e):Za(e):e.match(r)||[]}var B0=ke(function(e,r){try{return xt(e,t,r)}catch(l){return Vl(l)?l:new me(l)}}),Np=yn(function(e,r){return Zt(r,function(l){l=hn(l),vn(e,l,Hl(e[l],e))}),e});function Wp(e){var r=e==null?0:e.length,l=he();return e=r?et(e,function(h){if(typeof h[1]!="function")throw new Xt(u);return[l(h[0]),h[1]]}):[],ke(function(h){for(var _=-1;++_<r;){var y=e[_];if(xt(y[0],this,h))return xt(y[1],this,h)}})}function Hp(e){return c9($t(e,p))}function Kl(e){return function(){return e}}function xp(e,r){return e==null||e!==e?r:e}var Vp=Us(),qp=Us(!0);function Ft(e){return e}function Yl(e){return ps(typeof e=="function"?e:$t(e,p))}function Gp(e){return _s($t(e,p))}function jp(e,r){return ms(e,$t(r,p))}var Jp=ke(function(e,r){return function(l){return Lr(l,e,r)}}),Kp=ke(function(e,r){return function(l){return Lr(e,l,r)}});function Zl(e,r,l){var h=gt(r),_=hi(r,h);l==null&&!(tt(r)&&(_.length||!h.length))&&(l=r,r=e,e=this,_=hi(r,gt(r)));var y=!(tt(l)&&"chain"in l)||!!l.chain,w=Cn(e);return Zt(_,function(E){var D=r[E];e[E]=D,w&&(e.prototype[E]=function(){var q=this.__chain__;if(y||q){var G=e(this.__wrapped__),X=G.__actions__=Lt(this.__actions__);return X.push({func:D,args:arguments,thisArg:e}),G.__chain__=q,G}return D.apply(e,In([this.value()],arguments))})}),e}function Yp(){return mt._===this&&(mt._=yf),this}function Xl(){}function Zp(e){return e=we(e),ke(function(r){return vs(r,e)})}var Xp=Tl(et),Qp=Tl(No),$p=Tl($i);function F0(e){return Bl(e)?el(hn(e)):T9(e)}function e1(e){return function(r){return e==null?t:Vn(e,r)}}var t1=Ws(),n1=Ws(!0);function Ql(){return[]}function $l(){return!1}function r1(){return{}}function i1(){return""}function l1(){return!0}function o1(e,r){if(e=we(e),e<1||e>Ke)return[];var l=ye,h=bt(e,ye);r=he(r),e-=ye;for(var _=rl(h,r);++l<e;)r(l);return _}function s1(e){return ve(e)?et(e,hn):Gt(e)?[e]:Lt(n0(Fe(e)))}function u1(e){var r=++vf;return Fe(e)+r}var a1=vi(function(e,r){return e+r},0),f1=Al("ceil"),c1=vi(function(e,r){return e/r},1),h1=Al("floor");function d1(e){return e&&e.length?ci(e,Ft,pl):t}function p1(e,r){return e&&e.length?ci(e,he(r,2),pl):t}function g1(e){return xo(e,Ft)}function _1(e,r){return xo(e,he(r,2))}function m1(e){return e&&e.length?ci(e,Ft,vl):t}function v1(e,r){return e&&e.length?ci(e,he(r,2),vl):t}var b1=vi(function(e,r){return e*r},1),y1=Al("round"),w1=vi(function(e,r){return e-r},0);function C1(e){return e&&e.length?nl(e,Ft):0}function k1(e,r){return e&&e.length?nl(e,he(r,2)):0}return b.after=Gh,b.ary=d0,b.assign=Pd,b.assignIn=I0,b.assignInWith=Ri,b.assignWith=Ld,b.at=Md,b.before=p0,b.bind=Hl,b.bindAll=Np,b.bindKey=g0,b.castArray=rd,b.chain=f0,b.chunk=cc,b.compact=hc,b.concat=dc,b.cond=Wp,b.conforms=Hp,b.constant=Kl,b.countBy=Ch,b.create=Bd,b.curry=_0,b.curryRight=m0,b.debounce=v0,b.defaults=Fd,b.defaultsDeep=zd,b.defer=jh,b.delay=Jh,b.difference=gc,b.differenceBy=_c,b.differenceWith=mc,b.drop=vc,b.dropRight=bc,b.dropRightWhile=yc,b.dropWhile=wc,b.fill=Cc,b.filter=Sh,b.flatMap=Ih,b.flatMapDeep=Th,b.flatMapDepth=Ah,b.flatten=o0,b.flattenDeep=kc,b.flattenDepth=Sc,b.flip=Kh,b.flow=Vp,b.flowRight=qp,b.fromPairs=Ec,b.functions=qd,b.functionsIn=Gd,b.groupBy=Dh,b.initial=Ic,b.intersection=Tc,b.intersectionBy=Ac,b.intersectionWith=Dc,b.invert=Jd,b.invertBy=Kd,b.invokeMap=Ph,b.iteratee=Yl,b.keyBy=Lh,b.keys=gt,b.keysIn=Bt,b.map=Ei,b.mapKeys=Zd,b.mapValues=Xd,b.matches=Gp,b.matchesProperty=jp,b.memoize=Ii,b.merge=Qd,b.mergeWith=T0,b.method=Jp,b.methodOf=Kp,b.mixin=Zl,b.negate=Ti,b.nthArg=Zp,b.omit=$d,b.omitBy=ep,b.once=Yh,b.orderBy=Mh,b.over=Xp,b.overArgs=Zh,b.overEvery=Qp,b.overSome=$p,b.partial=xl,b.partialRight=b0,b.partition=Bh,b.pick=tp,b.pickBy=A0,b.property=F0,b.propertyOf=e1,b.pull=Mc,b.pullAll=u0,b.pullAllBy=Bc,b.pullAllWith=Fc,b.pullAt=zc,b.range=t1,b.rangeRight=n1,b.rearg=Xh,b.reject=Uh,b.remove=Uc,b.rest=Qh,b.reverse=Nl,b.sampleSize=Wh,b.set=rp,b.setWith=ip,b.shuffle=Hh,b.slice=Nc,b.sortBy=qh,b.sortedUniq=jc,b.sortedUniqBy=Jc,b.split=Ip,b.spread=$h,b.tail=Kc,b.take=Yc,b.takeRight=Zc,b.takeRightWhile=Xc,b.takeWhile=Qc,b.tap=dh,b.throttle=ed,b.thru=Si,b.toArray=S0,b.toPairs=D0,b.toPairsIn=R0,b.toPath=s1,b.toPlainObject=O0,b.transform=lp,b.unary=td,b.union=$c,b.unionBy=eh,b.unionWith=th,b.uniq=nh,b.uniqBy=rh,b.uniqWith=ih,b.unset=op,b.unzip=Wl,b.unzipWith=a0,b.update=sp,b.updateWith=up,b.values=gr,b.valuesIn=ap,b.without=lh,b.words=M0,b.wrap=nd,b.xor=oh,b.xorBy=sh,b.xorWith=uh,b.zip=ah,b.zipObject=fh,b.zipObjectDeep=ch,b.zipWith=hh,b.entries=D0,b.entriesIn=R0,b.extend=I0,b.extendWith=Ri,Zl(b,b),b.add=a1,b.attempt=B0,b.camelCase=dp,b.capitalize=P0,b.ceil=f1,b.clamp=fp,b.clone=id,b.cloneDeep=od,b.cloneDeepWith=sd,b.cloneWith=ld,b.conformsTo=ud,b.deburr=L0,b.defaultTo=xp,b.divide=c1,b.endsWith=pp,b.eq=un,b.escape=gp,b.escapeRegExp=_p,b.every=kh,b.find=Eh,b.findIndex=i0,b.findKey=Ud,b.findLast=Oh,b.findLastIndex=l0,b.findLastKey=Nd,b.floor=h1,b.forEach=c0,b.forEachRight=h0,b.forIn=Wd,b.forInRight=Hd,b.forOwn=xd,b.forOwnRight=Vd,b.get=Gl,b.gt=ad,b.gte=fd,b.has=jd,b.hasIn=jl,b.head=s0,b.identity=Ft,b.includes=Rh,b.indexOf=Oc,b.inRange=cp,b.invoke=Yd,b.isArguments=jn,b.isArray=ve,b.isArrayBuffer=cd,b.isArrayLike=Mt,b.isArrayLikeObject=ut,b.isBoolean=hd,b.isBuffer=Mn,b.isDate=dd,b.isElement=pd,b.isEmpty=gd,b.isEqual=_d,b.isEqualWith=md,b.isError=Vl,b.isFinite=vd,b.isFunction=Cn,b.isInteger=y0,b.isLength=Ai,b.isMap=w0,b.isMatch=bd,b.isMatchWith=yd,b.isNaN=wd,b.isNative=Cd,b.isNil=Sd,b.isNull=kd,b.isNumber=C0,b.isObject=tt,b.isObjectLike=rt,b.isPlainObject=Nr,b.isRegExp=ql,b.isSafeInteger=Ed,b.isSet=k0,b.isString=Di,b.isSymbol=Gt,b.isTypedArray=pr,b.isUndefined=Od,b.isWeakMap=Id,b.isWeakSet=Td,b.join=Rc,b.kebabCase=mp,b.last=tn,b.lastIndexOf=Pc,b.lowerCase=vp,b.lowerFirst=bp,b.lt=Ad,b.lte=Dd,b.max=d1,b.maxBy=p1,b.mean=g1,b.meanBy=_1,b.min=m1,b.minBy=v1,b.stubArray=Ql,b.stubFalse=$l,b.stubObject=r1,b.stubString=i1,b.stubTrue=l1,b.multiply=b1,b.nth=Lc,b.noConflict=Yp,b.noop=Xl,b.now=Oi,b.pad=yp,b.padEnd=wp,b.padStart=Cp,b.parseInt=kp,b.random=hp,b.reduce=Fh,b.reduceRight=zh,b.repeat=Sp,b.replace=Ep,b.result=np,b.round=y1,b.runInContext=T,b.sample=Nh,b.size=xh,b.snakeCase=Op,b.some=Vh,b.sortedIndex=Wc,b.sortedIndexBy=Hc,b.sortedIndexOf=xc,b.sortedLastIndex=Vc,b.sortedLastIndexBy=qc,b.sortedLastIndexOf=Gc,b.startCase=Tp,b.startsWith=Ap,b.subtract=w1,b.sum=C1,b.sumBy=k1,b.template=Dp,b.times=o1,b.toFinite=kn,b.toInteger=we,b.toLength=E0,b.toLower=Rp,b.toNumber=nn,b.toSafeInteger=Rd,b.toString=Fe,b.toUpper=Pp,b.trim=Lp,b.trimEnd=Mp,b.trimStart=Bp,b.truncate=Fp,b.unescape=zp,b.uniqueId=u1,b.upperCase=Up,b.upperFirst=Jl,b.each=c0,b.eachRight=h0,b.first=s0,Zl(b,function(){var e={};return fn(b,function(r,l){qe.call(b.prototype,l)||(e[l]=r)}),e}(),{chain:!1}),b.VERSION=i,Zt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){b[e].placeholder=b}),Zt(["drop","take"],function(e,r){Te.prototype[e]=function(l){l=l===t?1:dt(we(l),0);var h=this.__filtered__&&!r?new Te(this):this.clone();return h.__filtered__?h.__takeCount__=bt(l,h.__takeCount__):h.__views__.push({size:bt(l,ye),type:e+(h.__dir__<0?"Right":"")}),h},Te.prototype[e+"Right"]=function(l){return this.reverse()[e](l).reverse()}}),Zt(["filter","map","takeWhile"],function(e,r){var l=r+1,h=l==Q||l==$e;Te.prototype[e]=function(_){var y=this.clone();return y.__iteratees__.push({iteratee:he(_,3),type:l}),y.__filtered__=y.__filtered__||h,y}}),Zt(["head","last"],function(e,r){var l="take"+(r?"Right":"");Te.prototype[e]=function(){return this[l](1).value()[0]}}),Zt(["initial","tail"],function(e,r){var l="drop"+(r?"":"Right");Te.prototype[e]=function(){return this.__filtered__?new Te(this):this[l](1)}}),Te.prototype.compact=function(){return this.filter(Ft)},Te.prototype.find=function(e){return this.filter(e).head()},Te.prototype.findLast=function(e){return this.reverse().find(e)},Te.prototype.invokeMap=ke(function(e,r){return typeof e=="function"?new Te(this):this.map(function(l){return Lr(l,e,r)})}),Te.prototype.reject=function(e){return this.filter(Ti(he(e)))},Te.prototype.slice=function(e,r){e=we(e);var l=this;return l.__filtered__&&(e>0||r<0)?new Te(l):(e<0?l=l.takeRight(-e):e&&(l=l.drop(e)),r!==t&&(r=we(r),l=r<0?l.dropRight(-r):l.take(r-e)),l)},Te.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Te.prototype.toArray=function(){return this.take(ye)},fn(Te.prototype,function(e,r){var l=/^(?:filter|find|map|reject)|While$/.test(r),h=/^(?:head|last)$/.test(r),_=b[h?"take"+(r=="last"?"Right":""):r],y=h||/^find/.test(r);_&&(b.prototype[r]=function(){var w=this.__wrapped__,E=h?[1]:arguments,D=w instanceof Te,q=E[0],G=D||ve(w),X=function(Oe){var Ae=_.apply(b,In([Oe],E));return h&&le?Ae[0]:Ae};G&&l&&typeof q=="function"&&q.length!=1&&(D=G=!1);var le=this.__chain__,fe=!!this.__actions__.length,de=y&&!le,Ce=D&&!fe;if(!y&&G){w=Ce?w:new Te(this);var pe=e.apply(w,E);return pe.__actions__.push({func:Si,args:[X],thisArg:t}),new Qt(pe,le)}return de&&Ce?e.apply(this,E):(pe=this.thru(X),de?h?pe.value()[0]:pe.value():pe)})}),Zt(["pop","push","shift","sort","splice","unshift"],function(e){var r=Zr[e],l=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",h=/^(?:pop|shift)$/.test(e);b.prototype[e]=function(){var _=arguments;if(h&&!this.__chain__){var y=this.value();return r.apply(ve(y)?y:[],_)}return this[l](function(w){return r.apply(ve(w)?w:[],_)})}}),fn(Te.prototype,function(e,r){var l=b[r];if(l){var h=l.name+"";qe.call(ar,h)||(ar[h]=[]),ar[h].push({name:r,func:l})}}),ar[mi(t,A).name]=[{name:"wrapper",func:t}],Te.prototype.clone=Ff,Te.prototype.reverse=zf,Te.prototype.value=Uf,b.prototype.at=ph,b.prototype.chain=gh,b.prototype.commit=_h,b.prototype.next=mh,b.prototype.plant=bh,b.prototype.reverse=yh,b.prototype.toJSON=b.prototype.valueOf=b.prototype.value=wh,b.prototype.first=b.prototype.head,Or&&(b.prototype[Or]=vh),b},or=gf();Un?((Un.exports=or)._=or,Yi._=or):mt._=or}).call(_r)})(Bi,Bi.exports);var ig=Bi.exports;const Fu=oo(ig);function G0(s){let n,t,i,o;function a(c){s[12](c)}function u(c){s[13](c)}let f={};return s[3]!==void 0&&(f.profile=s[3]),s[2]!==void 0&&(f.selected=s[2]),n=new eg({props:f}),Se.push(()=>lt(n,"profile",a)),Se.push(()=>lt(n,"selected",u)),{c(){ze(n.$$.fragment)},l(c){Ue(n.$$.fragment,c)},m(c,d){Ne(n,c,d),o=!0},p(c,d){const g={};!t&&d&8&&(t=!0,g.profile=c[3],it(()=>t=!1)),!i&&d&4&&(i=!0,g.selected=c[2],it(()=>i=!1)),n.$set(g)},i(c){o||(ie(n.$$.fragment,c),o=!0)},o(c){ue(n.$$.fragment,c),o=!1},d(c){We(n,c)}}}function lg(s){let n,t,i,o,a=s[3]&&G0(s);function u(c){s[14](c)}let f={em:s[0],OnLongPress:s[4]};return s[1]!==void 0&&(f.status=s[1]),t=new rg({props:f}),Se.push(()=>lt(t,"status",u)),t.$on("click",s[6]),t.$on("mute",s[5]),{c(){a&&a.c(),n=ne(),ze(t.$$.fragment)},l(c){a&&a.l(c),n=re(c),Ue(t.$$.fragment,c)},m(c,d){a&&a.m(c,d),U(c,n,d),Ne(t,c,d),o=!0},p(c,[d]){c[3]?a?(a.p(c,d),d&8&&ie(a,1)):(a=G0(c),a.c(),ie(a,1),a.m(n.parentNode,n)):a&&(Ut(),ue(a,1,1,()=>{a=null}),Nt());const g={};d&1&&(g.em=c[0]),!i&&d&2&&(i=!0,g.status=c[1],it(()=>i=!1)),t.$set(g)},i(c){o||(ie(a),ie(t.$$.fragment,c),o=!0)},o(c){ue(a),ue(t.$$.fragment,c),o=!1},d(c){c&&k(n),a&&a.d(c),We(t,c)}}}function og(s,n,t){let i,o,a;Ie(s,Cr,K=>t(20,i=K)),Ie(s,kr,K=>t(10,o=K)),Ie(s,yr,K=>t(11,a=K));let{abonent:u,em:f,operator:c}=n;const{groupBy:d,find:g}=Fu,p=wr(u+f+c);let m,v,P,I="inactive",O=!1,A={video:{display:"none",srcObject:""},audio:{paused:!0,src:""}},z={video:{display:"none",srcObject:""},audio:{muted:!0,srcObject:""}},H={em:f,abonent:u,type:"user"};Tt(async()=>{t(9,m=new Y1(H,p,i)),t(9,m.OnOpenDataChannel=()=>{console.log("OnOpenDataChannel")},m),t(9,m.GetRemoteAudio=()=>z.audio.srcObject,m),t(9,m.SetRemoteAudio=K=>{z.audio.srcObject=K},m),t(9,m.SendToComponent=x,m),t(9,m.SetLocalVideo=K=>{A.video.srcObject=K},m),t(9,m.SetRemoteVideo=K=>{z.video.srcObject=K,z.video.display="block",t(1,I="talk"),A.audio.paused=!0},m)});function M(){}function ee(){t(1,I="talk"),R()}function x(K){if(K.operators&&K.operators[f]){let V=d(K.operators[f],"status");try{V&&V.offer?I!=="call"&&I!=="wait"&&t(1,I="active"):V.busy?I!=="call"&&t(1,I="busy"):V.close&&I!=="wait"&&(A.video.display="none",z.video.display="none",A.audio.paused=!0,z.audio.muted=!0,t(1,I="inactive"))}catch(ge){console.log(ge)}}K.operator&&K.operator.em===m.em&&t(1,I="active"),K.desc&&K.cand,K.func==="mute"&&(A.audio.paused=!0,z.audio.muted=!0,A.video.display="none",z.video.display="none",t(1,I="inactive")),K.func==="talk"&&(t(1,I="talk"),clearInterval(P),A.audio.paused=!0,z.audio.muted=!1),K.func==="redirect"&&(t(1,I="call"),A.audio.paused=!0,z.audio.muted=!0,z.video.srcObject=null,z.video.display="none"),K.status==="wait"&&t(1,I="wait")}async function R(){try{if(!window.AudioContext){window.AudioContext=window.AudioContext||window.webkitAudioContext;let K=new AudioContext;t(9,m.localSoundSrc=K.createMediaElementSource(m.localSound),m),m.localSoundSrc.connect(K.destination)}}catch{console.log("Web Audio API is not supported in this browser")}switch(I){case"inactive":break;case"wait":t(1,I="inactive"),m.SendCheck();break;case"active":let K=function(){m.Call(),t(1,I="call"),z.video.srcObject=null};localStorage.getItem("kolmit_abonent"),K();break;case"call":t(1,I="inactive"),A.audio.paused=!0,A.video.display="none",clearInterval(P),m.Hangup();break;case"talk":t(1,I="inactive"),z.audio.muted=!0,A.video.display="none",z.video.display="none",m.Hangup();break;case"muted":t(1,I="inactive");break;case"busy":m.Call(),t(1,I="wait");break;default:return}}function j(K){O=K,t(3,O)}function Z(K){v=K,t(2,v)}function Y(K){I=K,t(1,I)}return s.$$set=K=>{"abonent"in K&&t(7,u=K.abonent),"em"in K&&t(0,f=K.em),"operator"in K&&t(8,c=K.operator)},s.$$.update=()=>{if(s.$$.dirty&2048&&a&&x(a),s.$$.dirty&512&&m&&!m.em&&console.log(),s.$$.dirty&1027&&I){let K=g(o[0].staff,{email:f});K&&(K.status=I)}},[f,I,v,O,M,ee,R,u,c,m,o,a,j,Z,Y]}class sg extends xe{constructor(n){super(),Ve(this,n,og,lg,He,{abonent:7,em:0,operator:8})}}function ug(s){let n,t,i,o;const a=s[4].default,u=Jn(a,s,s[3],null);return{c(){n=N("div"),u&&u.c(),this.h()},l(f){n=W(f,"DIV",{style:!0});var c=J(n);u&&u.l(c),c.forEach(k),this.h()},h(){S(n,"position","relative"),S(n,"right","0px"),S(n,"top","70px")},m(f,c){U(f,n,c),u&&u.m(n,null),t=!0,i||(o=ae(n,"click",s[0]),i=!0)},p(f,[c]){u&&u.p&&(!t||c&8)&&Kn(u,a,f,f[3],t?Zn(a,f[3],c,null):Yn(f[3]),null)},i(f){t||(ie(u,f),t=!0)},o(f){ue(u,f),t=!1},d(f){f&&k(n),u&&u.d(f),i=!1,o()}}}function ag(s,n,t){let{$$slots:i={},$$scope:o}=n,{status:a}=n,{operator:u}=n;async function f(){document.querySelector("[src*='"+u+"']").contentWindow.document.querySelector(".callButton"),await new Promise(function(g,p){window.rtc.DC&&(window.rtc.DC.SendRedirect({operator:u},g),window.rtc.OnMessage({func:"mute"}))}),t(1,a="mute")}return s.$$set=c=>{"status"in c&&t(1,a=c.status),"operator"in c&&t(2,u=c.operator),"$$scope"in c&&t(3,o=c.$$scope)},[f,a,u,o,i]}class fg extends xe{constructor(n){super(),Ve(this,n,ag,ug,He,{status:1,operator:2})}}function cg(s){let n,t,i,o,a,u;const f=s[6].default,c=Jn(f,s,s[5],null);return{c(){n=N("div"),c&&c.c(),t=ne(),i=N("input"),this.h()},l(d){n=W(d,"DIV",{style:!0});var g=J(n);c&&c.l(g),t=re(g),i=W(g,"INPUT",{class:!0,accept:!0,id:!0,name:!0,type:!0,style:!0}),g.forEach(k),this.h()},h(){C(i,"class","file-upload"),C(i,"accept","*,*"),C(i,"id","file"),C(i,"name","file"),C(i,"type","file"),S(i,"display","none"),S(n,"position","relative"),S(n,"right","0px"),S(n,"top","70px")},m(d,g){U(d,n,g),c&&c.m(n,null),L(n,t),L(n,i),s[7](i),o=!0,a||(u=[ae(i,"change",s[3]),ae(i,"change",s[8]),ae(n,"click",s[2])],a=!0)},p(d,[g]){c&&c.p&&(!o||g&32)&&Kn(c,f,d,d[5],o?Zn(f,d[5],g,null):Yn(d[5]),null)},i(d){o||(ie(c,d),o=!0)},o(d){ue(c,d),o=!1},d(d){d&&k(n),c&&c.d(d),s[7](null),a=!1,Kt(u)}}}function hg(s,n,t){let{$$slots:i={},$$scope:o}=n,a,{operator:u}=n,f,c=globalThis;function d(v){let P=new PointerEvent("click",{bubbles:!1,cancelable:!0,view:c});document.getElementById("file").dispatchEvent(P)}async function g(v){try{let P=document.querySelector("[src*='"+u+"']"),O=await new Promise(function(A,z){let H=new FileReader;P.contentWindow.user?(H.onload=M=>{P.contentWindow.user.DC.SendFile(M.target.result,file.name)},H.readAsArrayBuffer(v.target.files[0])):(H.onload=M=>{c.rtc.DC.SendFile(M.target.result,file.name)},H.readAsArrayBuffer(v.target.files[0]))})}catch{}}function p(v){Se[v?"unshift":"push"](()=>{f=v,t(1,f)})}function m(){a=this.files,t(0,a)}return s.$$set=v=>{"operator"in v&&t(4,u=v.operator),"$$scope"in v&&t(5,o=v.$$scope)},[a,f,d,g,u,o,i,p,m]}class dg extends xe{constructor(n){super(),Ve(this,n,hg,cg,He,{operator:4})}}const zu=""+new URL("../assets/operator.7238a518.svg",import.meta.url).href;function j0(s){let n,t,i,o,a,u,f,c,d,g,p,m,v,P,I,O,A=s[1]&&J0(s);a=new sg({props:{em:s[0].email,operator:s[3].em,abonent:s[0].abonent}});let z=s[1]&&K0(s),H=s[15]&&pg(s),M=s[13]==="talk"&&s[14]==="active"&&s[0].email!==s[3].email&&Z0(s),ee=(s[14]==="talk"||s[13]==="talk"&&s[0].email===s[3].email)&&X0(s);return{c(){n=N("div"),t=N("video"),i=ne(),A&&A.c(),o=ne(),ze(a.$$.fragment),u=ne(),z&&z.c(),f=ne(),c=N("div"),H&&H.c(),d=ne(),g=N("textarea"),p=ne(),m=N("div"),M&&M.c(),v=ne(),ee&&ee.c(),this.h()},l(x){n=W(x,"DIV",{class:!0,style:!0});var R=J(n);t=W(R,"VIDEO",{id:!0,class:!0,poster:!0,style:!0}),J(t).forEach(k),i=re(R),A&&A.l(R),o=re(R),Ue(a.$$.fragment,R),u=re(R),z&&z.l(R),R.forEach(k),f=re(x),c=W(x,"DIV",{style:!0});var j=J(c);H&&H.l(j),d=re(j),g=W(j,"TEXTAREA",{type:!0,rows:!0,class:!0,placeholder:!0,style:!0}),J(g).forEach(k),j.forEach(k),p=re(x),m=W(x,"DIV",{style:!0});var Z=J(m);M&&M.l(Z),v=re(Z),ee&&ee.l(Z),Z.forEach(k),this.h()},h(){C(t,"id","localVideo"),C(t,"class","user_pic is-rounded"),C(t,"poster",s[4]),t.autoplay=!0,t.playsInline=!0,t.muted=!0,S(t,"display","block"),S(t,"position","absolute"),S(t,"top","0px"),S(t,"width","100px"),S(t,"height","100px"),C(n,"class","user_pic_div"),S(n,"position","relative"),S(n,"width","100px"),S(n,"height","100px"),C(g,"type","text"),C(g,"rows","3"),C(g,"class","user_desc svelte-81pd54"),C(g,"placeholder",s[8]),g.readOnly=s[10],S(g,"width","85%"),S(g,"overflow","auto"),S(g,"max-height","100px"),S(g,"resize","none"),S(c,"flex","1"),S(c,"margin-left","10px"),S(m,"display","flex"),S(m,"flex-flow","row nowrap"),S(m,"align-items","flex-start"),S(m,"flex-direction","column")},m(x,R){U(x,n,R),L(n,t),L(n,i),A&&A.m(n,null),L(n,o),Ne(a,n,null),L(n,u),z&&z.m(n,null),U(x,f,R),U(x,c,R),H&&H.m(c,null),L(c,d),L(c,g),nt(g,s[0].desc),U(x,p,R),U(x,m,R),M&&M.m(m,null),L(m,v),ee&&ee.m(m,null),P=!0,I||(O=[ae(t,"click",s[16]),ae(g,"change",s[18]),ae(g,"input",s[26])],I=!0)},p(x,R){(!P||R[0]&16)&&C(t,"poster",x[4]),x[1]?A?A.p(x,R):(A=J0(x),A.c(),A.m(n,o)):A&&(A.d(1),A=null);const j={};R[0]&1&&(j.em=x[0].email),R[0]&8&&(j.operator=x[3].em),R[0]&1&&(j.abonent=x[0].abonent),a.$set(j),x[1]?z?z.p(x,R):(z=K0(x),z.c(),z.m(n,null)):z&&(z.d(1),z=null),x[15]&&H.p(x,R),(!P||R[0]&256)&&C(g,"placeholder",x[8]),(!P||R[0]&1024)&&(g.readOnly=x[10]),R[0]&1&&nt(g,x[0].desc),x[13]==="talk"&&x[14]==="active"&&x[0].email!==x[3].email?M?(M.p(x,R),R[0]&8201&&ie(M,1)):(M=Z0(x),M.c(),ie(M,1),M.m(m,v)):M&&(Ut(),ue(M,1,1,()=>{M=null}),Nt()),x[14]==="talk"||x[13]==="talk"&&x[0].email===x[3].email?ee?(ee.p(x,R),R[0]&8201&&ie(ee,1)):(ee=X0(x),ee.c(),ie(ee,1),ee.m(m,null)):ee&&(Ut(),ue(ee,1,1,()=>{ee=null}),Nt())},i(x){P||(ie(a.$$.fragment,x),ie(M),ie(ee),P=!0)},o(x){ue(a.$$.fragment,x),ue(M),ue(ee),P=!1},d(x){x&&(k(n),k(f),k(c),k(p),k(m)),A&&A.d(),We(a),z&&z.d(),H&&H.d(),M&&M.d(),ee&&ee.d(),I=!1,Kt(O)}}}function J0(s){let n,t,i;return{c(){n=N("input"),this.h()},l(o){n=W(o,"INPUT",{class:!0,accept:!0,id:!0,name:!0,type:!0,style:!0}),this.h()},h(){C(n,"class","file-upload svelte-81pd54"),C(n,"accept","image/png, image/jpeg"),C(n,"id","avatar"),C(n,"name","avatar"),C(n,"type","file"),S(n,"display","none")},m(o,a){U(o,n,a),s[22](n),t||(i=[ae(n,"change",s[17]),ae(n,"change",s[23])],t=!0)},p:be,d(o){o&&k(n),s[22](null),t=!1,Kt(i)}}}function K0(s){let n,t=s[2].admin.email===s[3].email&&s[3].email!==s[0].email&&s[0].role==="operator"&&Y0(s);return{c(){t&&t.c(),n=De()},l(i){t&&t.l(i),n=De()},m(i,o){t&&t.m(i,o),U(i,n,o)},p(i,o){i[2].admin.email===i[3].email&&i[3].email!==i[0].email&&i[0].role==="operator"?t?t.p(i,o):(t=Y0(i),t.c(),t.m(n.parentNode,n)):t&&(t.d(1),t=null)},d(i){i&&k(n),t&&t.d(i)}}}function Y0(s){let n,t,i,o,a,u;return{c(){n=Le("svg"),t=Le("glyph"),i=Le("g"),o=Le("path"),this.h()},l(f){n=Me(f,"svg",{height:!0,width:!0,style:!0});var c=J(n);t=Me(c,"glyph",{"glyph-name":!0,unicode:!0,"horiz-adv-x":!0}),J(t).forEach(k),i=Me(c,"g",{class:!0});var d=J(i);o=Me(d,"path",{d:!0,transform:!0,style:!0}),J(o).forEach(k),d.forEach(k),c.forEach(k),this.h()},h(){C(t,"glyph-name","minus-circle"),C(t,"unicode",""),C(t,"horiz-adv-x","50"),C(o,"d","M500.2 62.5c-241.8 0-437.7 195.89999999999998-437.7 437.3 0 241.8 195.89999999999998 437.7 437.7 437.7 241.40000000000003 0 437.3-195.89999999999998 437.3-437.7 0-241.40000000000003-195.89999999999998-437.3-437.3-437.3z m301.59999999999997 466.5c-0.6999999999999318 9-2.199999999999932 19.100000000000023-4.699999999999932 30.299999999999955h-593.9000000000001c-2.499999999999943-11.199999999999932-4.299999999999926-21.699999999999932-5.0999999999999375-31.399999999999977-0.6999999999999886-9.699999999999932-1.0999999999999943-19.799999999999955-1.0999999999999943-30.299999999999955 0-9 0.4000000000000057-18 1.0999999999999943-26.700000000000045 0.700000000000017-9 2.5-19.099999999999966 5.099999999999994-30.299999999999955h593.9000000000001c2.4999999999998863 11.199999999999989 3.9999999999998863 21.599999999999966 4.699999999999818 31.399999999999977 1.1000000000000227 9.699999999999989 1.400000000000091 19.80000000000001 1.400000000000091 30.30000000000001 0.09999999999990905 9.099999999999966-0.3000000000000682 17.69999999999999-1.400000000000091 26.69999999999999z"),C(o,"transform","scale(.03)"),S(o,"fill","lightgrey"),S(o,"stroke","black"),S(o,"stroke-width","20px"),C(i,"class","currentLayer"),C(n,"height","30"),C(n,"width","30"),S(n,"position","absolute"),S(n,"bottom","-15px"),S(n,"left","-9px")},m(f,c){U(f,n,c),L(n,t),L(n,i),L(i,o),a||(u=ae(n,"click",function(){Sr(s[19](s[0]))&&s[19](s[0]).apply(this,arguments)}),a=!0)},p(f,c){s=f},d(f){f&&k(n),a=!1,u()}}}function pg(s){let n,t,i,o,a;return{c(){n=N("input"),t=ne(),i=N("input"),this.h()},l(u){n=W(u,"INPUT",{type:!0,class:!0,placeholder:!0,style:!0}),t=re(u),i=W(u,"INPUT",{type:!0,class:!0,placeholder:!0,style:!0}),this.h()},h(){C(n,"type","text"),C(n,"class","user_name svelte-81pd54"),C(n,"placeholder",s[6]),n.readOnly=s[10],S(n,"width","80%"),C(i,"type","text"),C(i,"class","user_email svelte-81pd54"),C(i,"placeholder",s[7]),i.readOnly=s[11],S(i,"width","100%"),S(i,"max-height","100px")},m(u,f){U(u,n,f),nt(n,s[0].name),U(u,t,f),U(u,i,f),nt(i,s[0].email),o||(a=[ae(n,"change",s[18]),ae(n,"input",s[24]),ae(i,"change",s[18]),ae(i,"input",s[25])],o=!0)},p(u,f){f[0]&64&&C(n,"placeholder",u[6]),f[0]&1024&&(n.readOnly=u[10]),f[0]&1&&n.value!==u[0].name&&nt(n,u[0].name),f[0]&128&&C(i,"placeholder",u[7]),f[0]&2048&&(i.readOnly=u[11]),f[0]&1&&i.value!==u[0].email&&nt(i,u[0].email)},d(u){u&&(k(n),k(t),k(i)),o=!1,Kt(a)}}}function Z0(s){let n,t,i;function o(u){s[27](u)}let a={operator:s[0].email,$$slots:{default:[gg]},$$scope:{ctx:s}};return s[13]!==void 0&&(a.$statust=s[13]),n=new fg({props:a}),Se.push(()=>lt(n,"$statust",o)),{c(){ze(n.$$.fragment)},l(u){Ue(n.$$.fragment,u)},m(u,f){Ne(n,u,f),i=!0},p(u,f){const c={};f[0]&1&&(c.operator=u[0].email),f[1]&16&&(c.$$scope={dirty:f,ctx:u}),!t&&f[0]&8192&&(t=!0,c.$statust=u[13],it(()=>t=!1)),n.$set(c)},i(u){i||(ie(n.$$.fragment,u),i=!0)},o(u){ue(n.$$.fragment,u),i=!1},d(u){We(n,u)}}}function gg(s){let n,t;return{c(){n=N("img"),this.h()},l(i){n=W(i,"IMG",{src:!0,alt:!0,width:!0,height:!0}),this.h()},h(){wt(n.src,t="./src/routes/assets/call-forward.svg")||C(n,"src",t),C(n,"alt","call-forward"),C(n,"width","30px"),C(n,"height","30px")},m(i,o){U(i,n,o)},p:be,d(i){i&&k(n)}}}function X0(s){let n,t;return n=new dg({props:{$statust:s[13],operator:s[0].email,$$slots:{default:[_g]},$$scope:{ctx:s}}}),{c(){ze(n.$$.fragment)},l(i){Ue(n.$$.fragment,i)},m(i,o){Ne(n,i,o),t=!0},p(i,o){const a={};o[0]&8192&&(a.$statust=i[13]),o[0]&1&&(a.operator=i[0].email),o[1]&16&&(a.$$scope={dirty:o,ctx:i}),n.$set(a)},i(i){t||(ie(n.$$.fragment,i),t=!0)},o(i){ue(n.$$.fragment,i),t=!1},d(i){We(n,i)}}}function _g(s){let n,t;return{c(){n=N("img"),this.h()},l(i){n=W(i,"IMG",{src:!0,alt:!0,width:!0,height:!0}),this.h()},h(){wt(n.src,t="./src/routes/assets/file-transfer.svg")||C(n,"src",t),C(n,"alt","file-transfer"),C(n,"width","30px"),C(n,"height","30px")},m(i,o){U(i,n,o)},p:be,d(i){i&&k(n)}}}function mg(s){let n,t,i=s[0].email!==s[3].em&&j0(s);return{c(){n=N("div"),i&&i.c(),this.h()},l(o){n=W(o,"DIV",{style:!0});var a=J(n);i&&i.l(a),a.forEach(k),this.h()},h(){S(n,"display","flex"),S(n,"flex-wrap","nowrap"),S(n,"justify-content","space-between"),S(n,"padding-bottom","20px")},m(o,a){U(o,n,a),i&&i.m(n,null),s[28](n),t=!0},p(o,a){o[0].email!==o[3].em?i?(i.p(o,a),a[0]&9&&ie(i,1)):(i=j0(o),i.c(),ie(i,1),i.m(n,null)):i&&(Ut(),ue(i,1,1,()=>{i=null}),Nt())},i(o){t||(ie(i),t=!0)},o(o){ue(i),t=!1},d(o){o&&k(n),i&&i.d(),s[28](null)}}}function vg(s,n,t){let i,o,a,u,f;Ie(s,rn,ce=>t(31,i=ce)),Ie(s,no,ce=>t(32,o=ce)),Ie(s,Wr,ce=>t(21,a=ce)),Ie(s,Li,ce=>t(33,u=ce)),Ie(s,Mi,ce=>t(13,f=ce));let{operator:c}=n,{id:d}=n,{dep:g}=n,{user:p}=n,m,v,P,I,O,A,z=u;z&&(P=z["input operator name"][i],I=z["input operator email"][i],O=z["input description"][i]);let H=zu;p.picture.medium&&(H=p.picture.medium);let{edited_display:M}=n,ee=!0,x=!0;p.abonent=c.abonent,p.email=p.email?p.email:"";const R=ce=>ce?ce.replace(/^([a-z])/,(Pe,Ze)=>Ze.toUpperCase()):"";p.name=R(p.name);let j;Tt(()=>{});function Z(ce){let Pe=new MouseEvent("click",{bubbles:!1,cancelable:!0,view:window});A&&A.dispatchEvent(Pe)}let Y,K;function V(ce){try{so(ce.target.files[0],function(Pe,Ze){Pe.type==="error"?console.error("Error loading image "):(Y=Pe.width,K=Pe.height,t(0,p.picture={medium:Pe.toDataURL()},p),ge())},{orientation:!0,maxWidth:100,maxHeight:100,minWidth:50,minHeight:50,canvas:!0})}catch(Pe){console.log(Pe)}}async function ge(ce){let Pe={};Pe.proj="kolmit",Pe.func="changeoper",Pe.abonent=c.abonent,Pe.em=c.email,Pe.dep_id=g.id,Pe.data=p,Pe.lang=i,fetch("/operator/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({par:Pe})})}async function Q(ce){let Pe=g.staff[d];if(Pe&&confirm("Delete "+Pe.name)){let Ze={};Ze.proj="kolmit",Ze.func="remoper",Ze.em=c.email,Ze.id=Pe.id,Ze.dep=g.id,Ze.lang=i,Ze.abonent=c.abonent;const ft=await(await fetch("/operator/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({par:Ze})})).json();t(2,g.staff=ft.dep.staff,g)}}function oe(ce){Se[ce?"unshift":"push"](()=>{A=ce,t(9,A)})}function $e(){m=this.files,t(5,m)}function Ee(){p.name=this.value,t(0,p)}function Ke(){p.email=this.value,t(0,p)}function ot(){p.desc=this.value,t(0,p)}function Re(ce){f=ce,Mi.set(f)}function ye(ce){Se[ce?"unshift":"push"](()=>{j=ce,t(12,j)})}return s.$$set=ce=>{"operator"in ce&&t(3,c=ce.operator),"id"in ce&&t(20,d=ce.id),"dep"in ce&&t(2,g=ce.dep),"user"in ce&&t(0,p=ce.user),"edited_display"in ce&&t(1,M=ce.edited_display)},s.$$.update=()=>{s.$$.dirty[0]&2097154&&a&&(t(1,M=a),t(10,ee=!M),t(11,x=!M)),s.$$.dirty[0]&25&&p.email&&c.em===p.email&&(console.log(c.em+" "+p.email),zt(no,o=H,o))},[p,M,g,c,H,m,P,I,O,A,ee,x,j,f,v,z,Z,V,ge,Q,d,a,oe,$e,Ee,Ke,ot,Re,ye]}class Uu extends xe{constructor(n){super(),Ve(this,n,vg,mg,He,{operator:3,id:20,dep:2,user:0,edited_display:1},null,[-1,-1])}}function Q0(s,n,t){const i=s.slice();return i[30]=n[t],i[31]=n,i[32]=t,i}function $0(s){let n,t,i,o,a,u=s[1]&&eu(s);return{c(){n=N("button"),t=N("input"),i=ne(),u&&u.c(),this.h()},l(f){n=W(f,"BUTTON",{class:!0,owner:!0});var c=J(n);t=W(c,"INPUT",{type:!0,style:!0,placeholder:!0,class:!0}),i=re(c),u&&u.l(c),c.forEach(k),this.h()},h(){C(t,"type","text"),t.readOnly=s[10],S(t,"border-width","0px"),C(t,"placeholder","input dep name"),C(t,"class","svelte-zwf51o"),C(n,"class","collapsible svelte-zwf51o"),C(n,"owner",s[2])},m(f,c){U(f,n,c),L(n,t),nt(t,s[0].alias),L(n,i),u&&u.m(n,null),s[17](n),o||(a=[ae(t,"change",function(){Sr(s[13]({dep:s[0]}))&&s[13]({dep:s[0]}).apply(this,arguments)}),ae(t,"click",s[12]),ae(t,"input",s[16]),ae(n,"click",s[14])],o=!0)},p(f,c){s=f,c[0]&1024&&(t.readOnly=s[10]),c[0]&1&&t.value!==s[0].alias&&nt(t,s[0].alias),s[1]?u?u.p(s,c):(u=eu(s),u.c(),u.m(n,null)):u&&(u.d(1),u=null),c[0]&4&&C(n,"owner",s[2])},d(f){f&&k(n),u&&u.d(),s[17](null),o=!1,Kt(a)}}}function eu(s){let n,t=s[3].email===s[3].abonent&&tu(s);return{c(){t&&t.c(),n=De()},l(i){t&&t.l(i),n=De()},m(i,o){t&&t.m(i,o),U(i,n,o)},p(i,o){i[3].email===i[3].abonent?t?t.p(i,o):(t=tu(i),t.c(),t.m(n.parentNode,n)):t&&(t.d(1),t=null)},d(i){i&&k(n),t&&t.d(i)}}}function tu(s){let n,t,i,o,a,u;return{c(){n=Le("svg"),t=Le("glyph"),i=Le("g"),o=Le("path"),this.h()},l(f){n=Me(f,"svg",{height:!0,width:!0,style:!0});var c=J(n);t=Me(c,"glyph",{"glyph-name":!0,unicode:!0,"horiz-adv-x":!0}),J(t).forEach(k),i=Me(c,"g",{class:!0});var d=J(i);o=Me(d,"path",{d:!0,transform:!0,style:!0}),J(o).forEach(k),d.forEach(k),c.forEach(k),this.h()},h(){C(t,"glyph-name","minus-circle"),C(t,"unicode",""),C(t,"horiz-adv-x","50"),C(o,"d","M500.2 62.5c-241.8 0-437.7 195.89999999999998-437.7 437.3 0 241.8 195.89999999999998 437.7 437.7 437.7 241.40000000000003 0 437.3-195.89999999999998 437.3-437.7 0-241.40000000000003-195.89999999999998-437.3-437.3-437.3z m301.59999999999997 466.5c-0.6999999999999318 9-2.199999999999932 19.100000000000023-4.699999999999932 30.299999999999955h-593.9000000000001c-2.499999999999943-11.199999999999932-4.299999999999926-21.699999999999932-5.0999999999999375-31.399999999999977-0.6999999999999886-9.699999999999932-1.0999999999999943-19.799999999999955-1.0999999999999943-30.299999999999955 0-9 0.4000000000000057-18 1.0999999999999943-26.700000000000045 0.700000000000017-9 2.5-19.099999999999966 5.099999999999994-30.299999999999955h593.9000000000001c2.4999999999998863 11.199999999999989 3.9999999999998863 21.599999999999966 4.699999999999818 31.399999999999977 1.1000000000000227 9.699999999999989 1.400000000000091 19.80000000000001 1.400000000000091 30.30000000000001 0.09999999999990905 9.099999999999966-0.3000000000000682 17.69999999999999-1.400000000000091 26.69999999999999z"),C(o,"transform","scale(.03)"),S(o,"fill","lightgrey"),S(o,"stroke","black"),S(o,"stroke-width","20px"),C(i,"class","currentLayer"),C(n,"height","30"),C(n,"width","30"),S(n,"position","relative"),S(n,"float","right")},m(f,c){U(f,n,c),L(n,t),L(n,i),L(i,o),a||(u=ae(n,"click",function(){Sr(s[6](s[0].id))&&s[6](s[0].id).apply(this,arguments)}),a=!0)},p(f,c){s=f},d(f){f&&k(n),a=!1,u()}}}function nu(s){let n,t,i,o,a,u;function f(p){s[18](p)}function c(p){s[19](p)}function d(p){s[20](p)}let g={id:s[0].admin.id,operator:s[3],update:s[4],readonly:s[10]};return s[9]!==void 0&&(g.status=s[9]),s[0]!==void 0&&(g.dep=s[0]),s[0].admin!==void 0&&(g.user=s[0].admin),t=new Uu({props:g}),Se.push(()=>lt(t,"status",f)),Se.push(()=>lt(t,"dep",c)),Se.push(()=>lt(t,"user",d)),{c(){n=N("div"),ze(t.$$.fragment)},l(p){n=W(p,"DIV",{});var m=J(n);Ue(t.$$.fragment,m),m.forEach(k)},m(p,m){U(p,n,m),Ne(t,n,null),u=!0},p(p,m){const v={};m[0]&1&&(v.id=p[0].admin.id),m[0]&8&&(v.operator=p[3]),m[0]&16&&(v.update=p[4]),m[0]&1024&&(v.readonly=p[10]),!i&&m[0]&512&&(i=!0,v.status=p[9],it(()=>i=!1)),!o&&m[0]&1&&(o=!0,v.dep=p[0],it(()=>o=!1)),!a&&m[0]&1&&(a=!0,v.user=p[0].admin,it(()=>a=!1)),t.$set(v)},i(p){u||(ie(t.$$.fragment,p),u=!0)},o(p){ue(t.$$.fragment,p),u=!1},d(p){p&&k(n),We(t)}}}function ru(s){let n,t,i=_t(s[0].staff),o=[];for(let u=0;u<i.length;u+=1)o[u]=iu(Q0(s,i,u));const a=u=>ue(o[u],1,1,()=>{o[u]=null});return{c(){for(let u=0;u<o.length;u+=1)o[u].c();n=De()},l(u){for(let f=0;f<o.length;f+=1)o[f].l(u);n=De()},m(u,f){for(let c=0;c<o.length;c+=1)o[c]&&o[c].m(u,f);U(u,n,f),t=!0},p(u,f){if(f[0]&1561){i=_t(u[0].staff);let c;for(c=0;c<i.length;c+=1){const d=Q0(u,i,c);o[c]?(o[c].p(d,f),ie(o[c],1)):(o[c]=iu(d),o[c].c(),ie(o[c],1),o[c].m(n.parentNode,n))}for(Ut(),c=i.length;c<o.length;c+=1)a(c);Nt()}},i(u){if(!t){for(let f=0;f<i.length;f+=1)ie(o[f]);t=!0}},o(u){o=o.filter(Boolean);for(let f=0;f<o.length;f+=1)ue(o[f]);t=!1},d(u){u&&k(n),Xn(o,u)}}}function iu(s){let n,t,i,o,a,u;function f(p){s[21](p)}function c(p){s[22](p)}function d(p){s[23](p,s[30],s[31],s[32])}let g={operator:s[3],update:s[4],readonly:s[10]};return s[9]!==void 0&&(g.status=s[9]),s[0]!==void 0&&(g.dep=s[0]),s[30]!==void 0&&(g.user=s[30]),n=new Uu({props:g}),Se.push(()=>lt(n,"status",f)),Se.push(()=>lt(n,"dep",c)),Se.push(()=>lt(n,"user",d)),{c(){ze(n.$$.fragment),a=ne()},l(p){Ue(n.$$.fragment,p),a=re(p)},m(p,m){Ne(n,p,m),U(p,a,m),u=!0},p(p,m){s=p;const v={};m[0]&8&&(v.operator=s[3]),m[0]&16&&(v.update=s[4]),m[0]&1024&&(v.readonly=s[10]),!t&&m[0]&512&&(t=!0,v.status=s[9],it(()=>t=!1)),!i&&m[0]&1&&(i=!0,v.dep=s[0],it(()=>i=!1)),!o&&m[0]&1&&(o=!0,v.user=s[30],it(()=>o=!1)),n.$set(v)},i(p){u||(ie(n.$$.fragment,p),u=!0)},o(p){ue(n.$$.fragment,p),u=!1},d(p){p&&k(a),We(n,p)}}}function lu(s){let n,t,i,o,a,u,f,c;return{c(){n=N("div"),t=Le("svg"),i=Le("title"),o=Ge("add-user"),a=Le("glyph"),u=Le("path"),this.h()},l(d){n=W(d,"DIV",{class:!0,style:!0});var g=J(n);t=Me(g,"svg",{style:!0});var p=J(t);i=Me(p,"title",{});var m=J(i);o=je(m,"add-user"),m.forEach(k),a=Me(p,"glyph",{"glyph-name":!0,unicode:!0,"horiz-adv-x":!0}),J(a).forEach(k),u=Me(p,"path",{d:!0,transform:!0,style:!0}),J(u).forEach(k),p.forEach(k),g.forEach(k),this.h()},h(){C(a,"glyph-name","contact-add"),C(a,"unicode",""),C(a,"horiz-adv-x","50"),C(u,"d","M134.1 761.6c-14.5 0-26.39999999999999-11.899999999999977-26.39999999999999-26.399999999999977v-523.5c0-14.500000000000057 11.899999999999991-26.400000000000034 26.39999999999999-26.400000000000034h639.8c14.5 0 26.399999999999977 11.899999999999977 26.399999999999977 26.399999999999977v239.40000000000003c15.800000000000068 2.3999999999999773 30.90000000000009 6.2999999999999545 45.40000000000009 11.899999999999977v-288.7c0-14.5-11.900000000000091-26.400000000000006-26.40000000000009-26.400000000000006h-730.4c-14.499999999999972 0-26.399999999999977 11.900000000000006-26.399999999999977 26.400000000000006v598.7c0 14.399999999999977 11.900000000000006 26.299999999999955 26.400000000000006 26.299999999999955h479.30000000000007c-7.400000000000091-11.899999999999977-13.700000000000045-24.59999999999991-18.700000000000045-37.69999999999993h-415.4z m164.70000000000002-245h-19.400000000000034c-41.69999999999999 0-75.39999999999998 33.799999999999955-75.39999999999998 75.39999999999998v21c0 13.100000000000023 10.699999999999989 23.799999999999955 23.80000000000001 23.799999999999955h251.7c13.100000000000023 0 23.899999999999977-10.699999999999932 23.899999999999977-23.799999999999955v-21c0-41.60000000000002-33.799999999999955-75.39999999999998-75.39999999999998-75.39999999999998h-19.600000000000023c-10.099999999999966 0-18.299999999999955-8.100000000000023-18.299999999999955-18.30000000000001 0-3.8000000000000114 1.5-7.300000000000011 4.199999999999989-10 11.300000000000011-11 20.899999999999977-25.80000000000001 27.69999999999999-41.80000000000001 1.5 1.1000000000000227 2.8999999999999773 1.8000000000000114 4.5 1.8000000000000114 10.899999999999977 0 23.80000000000001-24.19999999999999 23.80000000000001-40.80000000000001 0-16.399999999999977-1.5-29.80000000000001-12.300000000000011-29.80000000000001-1.3000000000000114 0-2.8000000000000114 0.30000000000001137-4 0.6000000000000227-0.8000000000000114-44.69999999999999-12.100000000000023-100.40000000000003-80.30000000000001-100.40000000000003-71.19999999999999 0-79.5 55.60000000000002-80.19999999999999 100.20000000000005-1-0.20000000000004547-2-0.4000000000000341-2.8999999999999773-0.4000000000000341-11 0-12.5 13.400000000000034-12.5 29.80000000000001 0 16.5 12.899999999999977 40.80000000000001 23.799999999999955 40.80000000000001 1.3000000000000114 0 2.6000000000000227-0.4000000000000341 3.8000000000000114-1.1000000000000227 6.800000000000011 15.699999999999989 16.19999999999999 30.30000000000001 27.30000000000001 41 2.8000000000000114 2.6000000000000227 4.199999999999989 6.300000000000011 4.199999999999989 10-0.19999999999998863 10.199999999999989-8.399999999999977 18.400000000000034-18.399999999999977 18.400000000000034z m381.2-189.3c0-9.699999999999989-7.899999999999977-17.80000000000001-17.799999999999955-17.80000000000001h-211.00000000000006c6 13.600000000000023 10.300000000000011 30.100000000000023 12.199999999999989 50.60000000000002 4.600000000000023 2.8999999999999773 7.900000000000034 7.399999999999977 10.700000000000045 12.799999999999955h188.10000000000002c9.699999999999932 0 17.799999999999955-7.899999999999977 17.799999999999955-17.599999999999966v-28z m-2.1000000000000227 151.09999999999997c1.1000000000000227-2.3999999999999773 2.1000000000000227-5 2.1000000000000227-7.699999999999989v-28c0-9.699999999999989-7.899999999999977-17.80000000000001-17.799999999999955-17.80000000000001h-183.80000000000007c-5 18.900000000000034-17.099999999999966 38.700000000000045-34.299999999999955 43.900000000000034l-1.6000000000000227 2.8000000000000114v16.69999999999999h213.20000000000005c7.2999999999999545-3.6999999999999886 14.699999999999932-7 22.199999999999932-9.900000000000034z m-125 125.10000000000002c8.899999999999977-23.299999999999955 21.5-44.5 37.39999999999998-63.200000000000045h-71.69999999999993c9.399999999999977 15 15.100000000000023 32.700000000000045 15.100000000000023 51.60000000000002v11.5h19.199999999999932v0.10000000000002274z m332.20000000000005-55.39999999999998c-30.700000000000045-31.100000000000023-73.10000000000002-50.60000000000002-119.70000000000005-52.400000000000034h-6.2999999999999545c-49.700000000000045 0-94 19.900000000000034-126.5 52.400000000000034-32.10000000000002 32.10000000000002-52.39999999999998 76.79999999999995-52.39999999999998 126 0 25.299999999999955 5.399999999999977 49.299999999999955 14.899999999999977 71 9 20.699999999999932 21.699999999999932 39.69999999999993 37.5 55.60000000000002 32.5 32.09999999999991 76.79999999999995 52 126.5 52 98.39999999999998 0 178.39999999999998-80 178.39999999999998-178.4000000000001 0-49.39999999999998-19.899999999999977-94.09999999999991-52.39999999999998-126.19999999999993z m-41.60000000000002 152.19999999999993h-58.700000000000045v58.30000000000007h-52v-58.30000000000007h-58.299999999999955v-52.39999999999998h58.299999999999955v-58.299999999999955h52v58.299999999999955h58.700000000000045v52.39999999999998z"),C(u,"transform","scale(.04)"),S(u,"fill","grey"),S(t,"position","relative"),S(t,"left","45%"),S(t,"height","40, width=40"),C(n,"class","add_oper"),S(n,"display",s[8])},m(d,g){U(d,n,g),L(n,t),L(t,i),L(i,o),L(t,a),L(t,u),f||(c=ae(n,"click",s[5]),f=!0)},p(d,g){g[0]&256&&S(n,"display",d[8])},d(d){d&&k(n),f=!1,c()}}}function bg(s){let n,t,i,o,a,u=s[0].id!=="0"&&$0(s),f=s[0].admin&&nu(s),c=s[0].staff&&ru(s),d=s[1]&&lu(s);return{c(){u&&u.c(),n=ne(),t=N("div"),f&&f.c(),i=ne(),c&&c.c(),o=ne(),d&&d.c(),this.h()},l(g){u&&u.l(g),n=re(g),t=W(g,"DIV",{class:!0,style:!0});var p=J(t);f&&f.l(p),i=re(p),c&&c.l(p),o=re(p),d&&d.l(p),p.forEach(k),this.h()},h(){C(t,"class","content svelte-zwf51o"),S(t,"max-height","0px")},m(g,p){u&&u.m(g,p),U(g,n,p),U(g,t,p),f&&f.m(t,null),L(t,i),c&&c.m(t,null),L(t,o),d&&d.m(t,null),s[24](t),a=!0},p(g,p){g[0].id!=="0"?u?u.p(g,p):(u=$0(g),u.c(),u.m(n.parentNode,n)):u&&(u.d(1),u=null),g[0].admin?f?(f.p(g,p),p[0]&1&&ie(f,1)):(f=nu(g),f.c(),ie(f,1),f.m(t,i)):f&&(Ut(),ue(f,1,1,()=>{f=null}),Nt()),g[0].staff?c?(c.p(g,p),p[0]&1&&ie(c,1)):(c=ru(g),c.c(),ie(c,1),c.m(t,o)):c&&(Ut(),ue(c,1,1,()=>{c=null}),Nt()),g[1]?d?d.p(g,p):(d=lu(g),d.c(),d.m(t,null)):d&&(d.d(1),d=null)},i(g){a||(ie(f),ie(c),a=!0)},o(g){ue(f),ue(c),a=!1},d(g){g&&(k(n),k(t)),u&&u.d(g),f&&f.d(),c&&c.d(),d&&d.d(),s[24](null)}}}function yg(s,n,t){let i,o,a;Ie(s,rn,Q=>t(25,i=Q)),Ie(s,Wr,Q=>t(15,o=Q)),Ie(s,Mi,Q=>t(26,a=Q)),Ie(s,Cr,Q=>t(27,Q));let{dep:u}=n,{owner:f}=n,{operator:c}=n,d,g="none",p=a,m=!1,v;Tt(()=>{u.id==="0"&&t(11,v.style.maxHeight=200+v.scrollHeight+"px",v);let Q=document.getElementsByClassName("add_oper");for(let oe in Q)m||(Q[oe].scrollIntoView&&Q[oe].scrollIntoView(!1),M(new Event("expand")))});let{update:P}=n,{edited_display:I}=n;function O(Q){I&&(u.admin.email===f||!c.abonent)&&(Q.currentTarget.readOnly=!1)}async function A(Q){let oe={};oe.proj="kolmit",oe.func="changedep",oe.abonent=c.abonent,oe.em=c.email,oe.dep=u;let Ee=await(await fetch("/operator",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({par:oe})})).json();t(0,u=Ee.dep),console.log(Ee.rows.affectedRows)}async function z(Q){let oe={};oe.proj="kolmit",oe.func="addoper",oe.abonent=c.abonent,oe.em=c.email,oe.lang=i,oe.dep_id=u.id;let Ee=await(await fetch("/operator/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({par:oe})})).json();t(0,u=Ee.dep),t(11,v.style.maxHeight=200+v.scrollHeight+"px",v)}let{RemoveDep:H}=n;function M(Q){v&&Q.type!=="expand"&&(v.style.maxHeight=="0px"?t(11,v.style.maxHeight=v.scrollHeight+"px",v):t(11,v.style.maxHeight="0px",v)),console.log(v.style.maxHeight)}function ee(){u.alias=this.value,t(0,u)}function x(Q){Se[Q?"unshift":"push"](()=>{d=Q,t(7,d)})}function R(Q){p=Q,t(9,p)}function j(Q){u=Q,t(0,u)}function Z(Q){s.$$.not_equal(u.admin,Q)&&(u.admin=Q,t(0,u))}function Y(Q){p=Q,t(9,p)}function K(Q){u=Q,t(0,u)}function V(Q,oe,$e,Ee){$e[Ee]=Q,t(0,u)}function ge(Q){Se[Q?"unshift":"push"](()=>{v=Q,t(11,v)})}return s.$$set=Q=>{"dep"in Q&&t(0,u=Q.dep),"owner"in Q&&t(2,f=Q.owner),"operator"in Q&&t(3,c=Q.operator),"update"in Q&&t(4,P=Q.update),"edited_display"in Q&&t(1,I=Q.edited_display),"RemoveDep"in Q&&t(6,H=Q.RemoveDep)},s.$$.update=()=>{s.$$.dirty[0]&32770&&o&&(t(1,I=o),t(10,m=!I)),s.$$.dirty[0]&11&&I&&(!c.abonent&&u.id==="0"||!c.abonent&&!u.admin||c.abonent&&c.email===u.admin.email)&&t(8,g="block")},[u,I,f,c,P,z,H,d,g,p,m,v,O,A,M,o,ee,x,R,j,Z,Y,K,V,ge]}class wg extends xe{constructor(n){super(),Ve(this,n,yg,bg,He,{dep:0,owner:2,operator:3,update:4,edited_display:1,AddOper:5,RemoveDep:6},null,[-1,-1])}get AddOper(){return this.$$.ctx[5]}}function ou(s,n,t){const i=s.slice();return i[21]=n[t],i[22]=n,i[23]=t,i}function su(s){let n,t,i,o,a,u,f;function c(m){s[8](m,s[21],s[22],s[23])}function d(m){s[9](m)}function g(m){s[10](m)}let p={owner:s[21].admin.email,operator:s[0],update:s[2],RemoveDep:s[6]};return s[21]!==void 0&&(p.dep=s[21]),s[1]!==void 0&&(p.tarif=s[1]),s[4]!==void 0&&(p.edited_display=s[4]),i=new wg({props:p}),Se.push(()=>lt(i,"dep",c)),Se.push(()=>lt(i,"tarif",d)),Se.push(()=>lt(i,"edited_display",g)),{c(){n=N("br"),t=ne(),ze(i.$$.fragment),this.h()},l(m){n=W(m,"BR",{class:!0}),t=re(m),Ue(i.$$.fragment,m),this.h()},h(){C(n,"class","svelte-1mmnihw")},m(m,v){U(m,n,v),U(m,t,v),Ne(i,m,v),f=!0},p(m,v){s=m;const P={};v&4&&(P.owner=s[21].admin.email),v&1&&(P.operator=s[0]),v&4&&(P.update=s[2]),!o&&v&4&&(o=!0,P.dep=s[21],it(()=>o=!1)),!a&&v&2&&(a=!0,P.tarif=s[1],it(()=>a=!1)),!u&&v&16&&(u=!0,P.edited_display=s[4],it(()=>u=!1)),i.$set(P)},i(m){f||(ie(i.$$.fragment,m),f=!0)},o(m){ue(i.$$.fragment,m),f=!1},d(m){m&&(k(n),k(t)),We(i,m)}}}function uu(s){let n,t=s[0].role==="admin"&&au(s);return{c(){t&&t.c(),n=De()},l(i){t&&t.l(i),n=De()},m(i,o){t&&t.m(i,o),U(i,n,o)},p(i,o){i[0].role==="admin"?t?t.p(i,o):(t=au(i),t.c(),t.m(n.parentNode,n)):t&&(t.d(1),t=null)},d(i){i&&k(n),t&&t.d(i)}}}function au(s){let n,t,i,o,a,u,f;return{c(){n=Le("svg"),t=Le("title"),i=Ge("Add Dep"),o=Le("glyph"),a=Le("path"),this.h()},l(c){n=Me(c,"svg",{class:!0,height:!0,width:!0,style:!0});var d=J(n);t=Me(d,"title",{class:!0});var g=J(t);i=je(g,"Add Dep"),g.forEach(k),o=Me(d,"glyph",{"glyph-name":!0,unicode:!0,"horiz-adv-x":!0,class:!0}),J(o).forEach(k),a=Me(d,"path",{d:!0,transform:!0,style:!0,class:!0}),J(a).forEach(k),d.forEach(k),this.h()},h(){C(t,"class","svelte-1mmnihw"),C(o,"glyph-name","plus-circle"),C(o,"unicode",""),C(o,"horiz-adv-x","50"),C(o,"class","svelte-1mmnihw"),C(a,"d","M500.2 62.5c-241.8 0-437.7 195.89999999999998-437.7 437.3 0 241.8 195.89999999999998 437.7 437.7 437.7 241.40000000000003 0 437.3-195.89999999999998 437.3-437.7 0-241.40000000000003-195.89999999999998-437.3-437.3-437.3z m301.59999999999997 466.5c-0.6999999999999318 9-2.199999999999932 19.100000000000023-4.699999999999932 30.299999999999955h-237.70000000000005v237.80000000000007c-11.199999999999932 2.5-21.600000000000023 4.2999999999999545-31.399999999999977 5.100000000000023-9.700000000000045 0.6999999999999318-19.80000000000001 1.099999999999909-30.30000000000001 1.099999999999909-9 0-17.69999999999999-0.39999999999997726-26.69999999999999-1.099999999999909-9-0.7000000000000455-19.100000000000023-2.5-30.30000000000001-5.100000000000023v-237.70000000000005h-237.5c-2.5-11.199999999999932-4.299999999999983-21.699999999999932-5.099999999999994-31.399999999999977-0.6999999999999886-9.700000000000045-1.0999999999999943-19.80000000000001-1.0999999999999943-30.30000000000001 0-9 0.4000000000000057-17.69999999999999 1.0999999999999943-26.69999999999999 0.700000000000017-9 2.5-19.100000000000023 5.099999999999994-30.30000000000001h237.40000000000003v-237.5c11.199999999999989-2.5 21.599999999999966-4 31.399999999999977-4.699999999999989 9.699999999999989-1.0999999999999943 19.80000000000001-1.4000000000000057 30.30000000000001-1.4000000000000057 9 0 17.999999999999943 0.4000000000000057 26.69999999999999 1.4000000000000057 9 0.6999999999999886 19.100000000000023 2.1999999999999886 30.299999999999955 4.699999999999989v237.40000000000003h237.80000000000007c2.5 11.199999999999989 4 21.599999999999966 4.699999999999932 31.399999999999977 1.1000000000000227 9.699999999999989 1.400000000000091 19.80000000000001 1.400000000000091 30.30000000000001 0.09999999999990905 9.099999999999966-0.3000000000000682 18.099999999999966-1.400000000000091 26.69999999999999z"),C(a,"transform","scale(.04)"),S(a,"fill","lightgrey"),C(a,"class","svelte-1mmnihw"),C(n,"class","add_dep svelte-1mmnihw"),C(n,"height","50"),C(n,"width","50"),S(n,"float","right")},m(c,d){U(c,n,d),L(n,t),L(t,i),L(n,o),L(n,a),u||(f=ae(n,"click",s[5]),u=!0)},p:be,d(c){c&&k(n),u=!1,f()}}}function Cg(s){let n,t,i,o,a,u,f=_t(s[2]),c=[];for(let p=0;p<f.length;p+=1)c[p]=su(ou(s,f,p));const d=p=>ue(c[p],1,1,()=>{c[p]=null});let g=s[4]&&uu(s);return{c(){n=N("div"),t=N("div");for(let p=0;p<c.length;p+=1)c[p].c();i=ne(),g&&g.c(),o=ne(),a=N("div"),this.h()},l(p){n=W(p,"DIV",{style:!0,class:!0});var m=J(n);t=W(m,"DIV",{class:!0,style:!0});var v=J(t);for(let P=0;P<c.length;P+=1)c[P].l(v);i=re(v),g&&g.l(v),o=re(v),a=W(v,"DIV",{class:!0,style:!0}),J(a).forEach(k),v.forEach(k),m.forEach(k),this.h()},h(){C(a,"class","empty svelte-1mmnihw"),S(a,"height","400px"),C(t,"class","deps_div svelte-1mmnihw"),S(t,"height","100vh"),S(t,"overflow-y","scroll"),S(n,"display",s[3]),C(n,"class","svelte-1mmnihw")},m(p,m){U(p,n,m),L(n,t);for(let v=0;v<c.length;v+=1)c[v]&&c[v].m(t,null);L(t,i),g&&g.m(t,null),L(t,o),L(t,a),u=!0},p(p,[m]){if(m&87){f=_t(p[2]);let v;for(v=0;v<f.length;v+=1){const P=ou(p,f,v);c[v]?(c[v].p(P,m),ie(c[v],1)):(c[v]=su(P),c[v].c(),ie(c[v],1),c[v].m(t,i))}for(Ut(),v=f.length;v<c.length;v+=1)d(v);Nt()}p[4]?g?g.p(p,m):(g=uu(p),g.c(),g.m(t,o)):g&&(g.d(1),g=null),(!u||m&8)&&S(n,"display",p[3])},i(p){if(!u){for(let m=0;m<f.length;m+=1)ie(c[m]);u=!0}},o(p){c=c.filter(Boolean);for(let m=0;m<c.length;m+=1)ue(c[m]);u=!1},d(p){p&&k(n),Xn(c,p),g&&g.d()}}}function kg(s,n,t){let i,o,a,u;Ie(s,xr,R=>t(12,i=R)),Ie(s,yr,R=>t(13,o=R)),Ie(s,kr,R=>t(14,a=R)),Ie(s,rn,R=>t(15,u=R));const{forEach:f,findIndex:c}=Fu;let{operator:d}=n,{view:g}=n,p="none",m,v=u,P=a;async function I(R){fetch(`/user?abonent=${R.abonent}&em=${R.em}&type=${R.type}`).then(j=>j.json()).then(j=>{Array.isArray(j.resp)?j.resp.map(Z=>{zt(yr,o=Z,o)}):zt(yr,o=j.resp,o),I(R)}).catch(j=>(console.log(j),[]))}Tt(async()=>{I({type:"user",abonent:d.abonent,em:d.em})});let O=!1,{tarif:A}=n;async function z(){if(d.role==="admin"){let R={};R.proj="kolmit",R.func="adddep",R.em=d.email,R.lang=v,R.abonent=d.abonent,R.id=m;const K=(await(await fetch(i+"/operator",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({par:R})})).json()).dep;t(2,P[R.id]=K,P)}}async function H(R){let j=c(P,{id:R});if(confirm("Delete Dep "+(P[j].alias?P[j].alias:"")+"?")){let Z={};Z.proj="kolmit",Z.func="remdep",Z.role=d,Z.dep=R,Z.em=d.email,Z.lang=v,Z.abonent=d.abonent,Z.uid=d.uid;const K=await(await fetch(i+"/operator",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({par:Z})})).json();t(2,P=K.users)}}function M(R,j,Z,Y){Z[Y]=R,t(2,P)}function ee(R){A=R,t(1,A)}function x(R){O=R,t(4,O)}return s.$$set=R=>{"operator"in R&&t(0,d=R.operator),"view"in R&&t(7,g=R.view),"tarif"in R&&t(1,A=R.tarif)},s.$$.update=()=>{s.$$.dirty&128&&(g==="cc"?t(3,p="block"):t(3,p="none")),s.$$.dirty&5&&P&&P.length>0&&f(P,(R,j)=>{R.admin&&R.admin.email===d.email&&t(0,d.role=R.admin.role,d),m=j})},[d,A,P,p,O,z,H,g,M,ee,x]}class Sg extends xe{constructor(n){super(),Ve(this,n,kg,Cg,He,{operator:0,view:7,tarif:1})}}class Eg{constructor(n,t,i){this.con=new RTCPeerConnection(t),this.signal=n.signal,this.rtc=n,this.pc_key=i,this.params={}}async SendDesc(n){let t=this,i={};return i.proj="kolmit",i.func="call",i.abonent=t.rtc.abonent,i.type=this.rtc.type,i.em=this.rtc.em,i.uid=this.rtc.uid,i.desc=n,i.status="call",i.oper_uid=this.rtc.oper_uid,await this.signal.SendMessage(i)}async SendCand(n){let t=this,i={};return i.proj="kolmit",i.func="call",i.type=this.rtc.type,i.uid=this.rtc.uid,i.em=this.rtc.em,i.cand=n,i.status="call",i.abonent=t.rtc.abonent,i.oper_uid=this.rtc.oper_uid,await this.signal.SendMessage(i)}async SendOffer(n){let t={};return t.proj="kolmit",t.func="offer",t.abonent=this.rtc.abonent,t.type=this.rtc.type,t.uid=this.rtc.uid,t.em=this.rtc.em,t.desc=this.params.loc_desc,t.cand=this.params.loc_cand,t.status="offer",await this.signal.SendMessage(t)}StartEvents(){let n=this;this.con.ontrack=function(i){n.pc_key!=="reserve"&&(n.rtc.GetRemoteAudio()!==i.streams[0]&&(n.rtc.remoteStream=i.streams[0],n.rtc.remoteStream.onaddtrack=function(o){console.log("addtrack in remote stream",n)}),n.rtc.remoteStream&&(i.track.kind==="audio"&&(n.rtc.SetRemoteAudio(null),n.rtc.SetRemoteAudio(n.rtc.remoteStream)),i.track.kind==="video"&&(n.rtc.SetRemoteVideo(n.rtc.remoteStream),n.rtc.DC.SendDCVideoOK(()=>{}))))};let t;this.con.onicecandidate=i=>{let o=this;i.candidate&&(this.params.loc_cand||(this.params.loc_cand=[]),this.params.loc_cand.push(i.candidate),t||(t=setTimeout(()=>{if(this.rtc.DC&&this.rtc.DC.dc.readyState==="open"){let a="";this.rtc.type&&this.rtc.type.offerToReceiveVideo===1&&(a={confirm:"Do you mind to turn on the cameras?"}),this.rtc.DC.SendDCOffer(o.pc_key,a),clearTimeout(t)}else this.rtc.DC&&this.rtc.DC.dc.readyState!=="open"&&(this.SendOffer(i.candidate),clearTimeout(t))},100)))},this.con.oniceconnectionstatechange=function(i){n.rtc.onIceStateChange(n,i)},this.con.onremovestream=function(i){},this.con.onsignalingstatechange=function(i){},this.con.onconnectionstatechange=function(i){console.log()}}onCreateAnswerSuccess(n){let t=this;console.log("Answer from pcPull 2:",this),console.log("setLocalDescription start",t),t.con.setLocalDescription(n).then(function(){t.params.loc_desc=t.con.localDescription,console.log("onSetLocalDescriptionSuccess",t),t.SendDesc(n)},t.onSetAnswerError)}setRemoteDesc(n){let t=this;console.log("setRemoteDescription start",t),console.log("Peer connectionState:"+this.con.connectionState,t),this.con.setRemoteDescription(n).then(function(){t.params.rem_desc=t.con.remoteDescription,t.con.remoteDescription.type==="offer"&&t.con.createAnswer().then(i=>t.onCreateAnswerSuccess(i),t.onCreateAnswerError)},function(i){console.log("Failed to set remote description: "+i.toString(),this)})}onCreateAnswerError(n){console.log("Failed to create answer: "+n.toString(),this)}onCreateOfferSuccess(n){let t=this;console.log("Offer created",t),console.log("setLocalDescription start",t),t.con.setLocalDescription(n).then(function(){t.params.loc_desc=t.con.localDescription,console.log(" setLocalDescription complete",t)},t.onSetOfferError)}onCreateVideoOfferSuccess(n,t){let i=this;console.log("Offer created",i),console.log("setLocalDescription start",i),i.con.setLocalDescription(n).then(function(){i.params.loc_desc=i.con.localDescription,console.log(" setLocalDescription complete",i),i.rtc.DC.SendDCDesc(n,i.pc_key)},i.onSetOfferError)}onSetOfferError(n){console.log("Failed to set offer: "+n.toString(),this)}onSetAnswerError(n){console.log("Failed to set session description: "+n.toString(),this)}onAddIceCandidateSuccess(n){console.log(" addIceCandidate success",this)}onAddIceCandidateError(n,t){console.log(" failed to add ICE Candidate: "+t.toString(),this)}onCreateOfferError(n){console.log("Failed to create session description: "+n.toString(),this)}onAddVideo(n){let t=this,i="Do you mind to turn on the cameras?";t.rtc.DC&&t.rtc.DC.dc.readyState==="open"&&t.rtc.DC.SendData({confirm:i})}onCreateSessionDescriptionError(n){}Cancel(){this.close()}}class Og{constructor(n,t){this.rtc=n,this.pc=t,this.call_num=3,this.forward}CreateDC(){this.dc=pc.con.createDataChannel(pc.pc_key+" data channel")}}const Nu=lo();class Ig extends Og{constructor(n,t){super(n,t);let i=this;i.cnt_call=0,this.dc=t.con.createDataChannel(t.pc_key+" data channel"),this.dc.onopen=()=>{i.dc.readyState==="open"&&console.log(i.pc.pc_key+" datachannel open"),this.dc.onclose=()=>{}},t.StartEvents(),t.con.ondatachannel=f=>{console.log("Receive Channel Callback"),this.dc=f.channel};let o="",a=[],u=0;this.dc.onmessage=function(f){try{let c=JSON.parse(f.data);if(c.type==="eom"){o&&(i.rtc.OnMessage(JSON.parse(o),i),Nu.set(JSON.parse(o))),o="";return}if(o+=c.slice,c.file,c.type==="eof"){const d=new Blob(a);if(a=[],u=0,confirm("Получен файл: "+c.file+". Размер: "+c.length+" Сохранить?")){let g=document.getElementById("download_href");g.text("Получен файл: "+c.file+". Размер: "+c.length+" Сохранить?"),g.attributes.href="URL.createObjectURL(received)",g.attributes.download=c.file,g.click()}setTimeout(function(){document.getElementById("dataProgress").style.display="none"},2e3);return}}catch{if(o="",!f.data.byteLength)return}}}SendFile(n,t){try{if(this.dc.readyState==="open"){let i=16384;const o=Math.ceil(n.byteLength/i);this.dc.send(JSON.stringify({file:t,length:n.byteLength}),function(a){console.log(a)});for(let a=0,u=0;a<o;++a,u+=i){const f=n.slice(u,u+i);document.getElementById("dataProgress").attributes.value=u+i,this.dc.send(f,function(c){console.log(c)})}setTimeout(function(){document.getElementById("dataProgress").style.display="none"},2e3),this.dc.send(JSON.stringify({type:"eof",file:t,length:n.byteLength}),function(a){console.log(a)})}}catch(i){console.log(i)}}SendData(n,t){try{if(this.dc.readyState==="open"){n=JSON.stringify(n);let i=16384;const o=Math.ceil(n.length/i);for(let a=0,u=0;a<o;++a,u+=i)this.dc.send(JSON.stringify({slice:n.substr(u,i)}));this.dc.send(JSON.stringify({type:"eom"}))}t&&t()}catch(i){console.log(i)}}SendDCHangup(n){let t={};t.proj="kolmit",t.func="mute",t.type=this.rtc.type,this.SendData(t,n)}SendDCClose(n){let t={};t.proj="kolmit",t.func="close",t.type=this.rtc.type,this.SendData(t,n)}SendDCTalk(n){let t={};t.proj="kolmit",t.func="talk",t.type=this.rtc.type,this.SendData(t,n)}SendDCCand(n,t,i){let o={};o.proj="kolmit",o.func="offer",o.cand=n,o.trans=t,o.abonent=this.rtc.abonent,o.msg=i,this.SendData(o)}SendDCDesc(n,t,i){let o={};o.proj="kolmit",o.func="offer",o.desc=n,o.trans=t,o.abonent=this.rtc.abonent,o.msg=i,this.SendData(o)}SendDCOffer(n,t){let i={};i.proj="kolmit",i.func="offer",i.desc=this.pc.params.loc_desc,i.cand=this.pc.params.loc_cand,i.trans=n,i.abonent=this.rtc.abonent,i.msg=t,this.SendData(i)}SendDCVideoOK(n){let t={};t.proj="kolmit",t.func="video",t.type=this.rtc.type,this.SendData(t,n)}SendRedirect(n,t){let i={};if(i.proj="kolmit",i.func="redirect",i.abonent=n,this.dc.readyState==="open"){this.SendData(i);let o=new Date().toLocaleString("es-CL");t(o)}}}class Tg{constructor(n,t,i){this.signal=i,this.type=n.type,this.abonent=n.abonent,this.em=n.em,this.role=n.role,this.uid=t,this.status,this.pcPull={},this.main_pc,this.url,this.localStream,this.remoteStream,this.startTime,this.phone=""}async SendCheck(){let n={};n.proj="kolmit",n.func="check",n.status="check",n.type=this.type,n.abonent=this.abonent,n.em=this.em,n.uid=this.uid,this.signal.SendMessage(n,t=>{this.status="check"})}SendVideoOffer(n){this.pcPull[n].params.loc_desc="",this.pcPull[n].params.loc_cand="",this.pcPull[n].con.createOffer(this.mode={offerToReceiveAudio:1,offerToReceiveVideo:1,iceRestart:1}).then(t=>this.pcPull[n].onCreateVideoOfferSuccess(t),this.pcPull[n].onCreateOfferError)}onIceStateChange(n,t){n&&n.con&&(n.con.iceConnectionState==="new"&&console.log(n.pc_key+" ICE state change event: new",this),n.con.iceConnectionState==="checking"&&(console.log(n.pc_key+" ICE state change event: checking",this),this.checking_tmr=setTimeout(()=>{n.con.restartIce()},5e3)),n.con.iceConnectionState==="disconnected"&&(console.log(n.pc_key+" ICE state change event: disconnected",this),n.con.restartIce()),n.con.iceConnectionState==="connected"&&(clearTimeout(this.checking_tmr),console.log(n.pc_key+" ICE state change event: connected",this),this.main_pc=n.pc_key),n.con.iceConnectionState==="failed"&&(console.log(n.pc_key+" ICE state change event: failed",this),n.con.restartIce()),n.con.iceConnectionState==="completed"&&console.log(n.pc_key+" ICE state change event: completed",this),console.log(n.pc_key+" ICE state change event: "+t.type,this))}TransFile(){async function n(){const t=this.fileInput.files[0];if(t||console.log("No file chosen"),t.size===0)return;dataProgress.style.display="block",dataProgress.attributes.max=t.size;let i=new FileReader;i.onload=o=>{console.log("FileRead.onload ",o),this.DC.SendFile(o.target.result,t.name)},i.readAsArrayBuffer(t)}this.fileInput.removeEventListener("change",this.fileInput.onchange),this.fileInput.onchange=n,this.fileInput.dispatchEvent(new Event("click"))}GetUserMedia(n,t){navigator.mediaDevices.getUserMedia(n).then(i=>this.gotStream(i,t)).catch(function(i){(i.name==="NotFoundError"||i.name==="NotReadableError")&&(n.audio&&alert("Something wrong with mic?"),n.video&&alert("Something wrong with camera?"),t(!1))})}get RemoteStream(){return this.remoteStream}async InitRTC(n,t){this.conf=Bu;let i={iceTransportPolicy:"all",lifetimeDuration:this.conf.lifetimeDuration,rtcpMuxPolicy:"require",bundlePolicy:"balanced",iceServers:[this.conf.stun,this.conf.turn]};this.pcPull[n]&&(this.DC&&this.DC.dc&&(this.DC.dc.close(),this.DC=null),this.pcPull[n].con&&(this.pcPull[n].con.close(),this.pcPull[n].con=null));let o={};this.pcPull[n]=null,this.pcPull[n]=new Eg(this,i,n),this.pcPull[n].signal=this.signal,this.pcPull[n].params=o,this.DC=new Ig(this,this.pcPull[n]),this.startTime=Date.now(),t()}gotStream(n,t){this.localStream||(this.localStream=n),this.getTracks(n,t)}getTracks(n,t){n.getTracks().forEach(a=>{for(let u in this.pcPull)u!=="reserve"&&(this.pcPull[u].con.iceConnectionState==="disconnected"||this.pcPull[u].con.iceConnectionState==="closed"||(this.localStream.addTrack(a),this.pcPull[u].sender=this.pcPull[u].con.addTrack(a,this.localStream),a.kind==="video"?this.SetLocalVideo(this.localStream):a.kind))});var i=this.localStream.getVideoTracks(),o=this.localStream.getAudioTracks();i.length>0&&console.log("Using video device: "+i[0].label,this),o.length>0&&console.log("Using audio device: "+o[0].label,this),t(!0)}RemoveTracks(){this.localStream&&(this.localStream.getVideoTracks().forEach(i=>{i.readyState=="live"&&i.kind==="video"&&i.stop(),this.localStream.removeTrack(i)}),this.localStream.getAudioTracks().forEach(i=>{i.readyState=="live"&&i.kind==="audio"&&i.stop(),this.localStream.removeTrack(i)}))}}class Ag extends Tg{constructor(n,t,i){super(n,t,i),this.checking_tmr,Hr.subscribe(o=>{try{o&&this.OnMessage(o)}catch(a){console.log(a)}})}Init(n){let t=this;this.mode="";let i=[t.abonent];t.main_pc="";for(let o in i)t.InitRTC(i[o],function(){n()})}SendOffer(n){let t=this;t.pcPull[n].params.loc_desc="",t.pcPull[n].params.loc_cand="",t.pcPull[n].con.createOffer(this.mode={offerToReceiveAudio:1,offerToReceiveVideo:1,iceRestart:1}).then(i=>t.pcPull[n].onCreateOfferSuccess(i),t.pcPull[n].onCreateOfferError)}ChooseTarif(n){let t={};return t.proj="kolmit",t.func="tarif",t.em=this.em,t.tarif=n,t.psw=this.psw,new Promise((i,o)=>{this.signal.SendMessage(t,a=>{i(a)})})}SendStatus(n){let t={};return t.proj="kolmit",t.func="status",t.type=this.type,t.abonent=this.abonent,t.uid=this.uid,t.em=this.em,t.status=n,this.status=n,new Promise((i,o)=>{this.signal.SendMessage(t,a=>{i(a)})})}SendVideoOffer(n){let t=this;t.pcPull[n].params.loc_desc="",t.pcPull[n].params.loc_cand="",t.pcPull[n].con.createOffer(t.mode={offerToReceiveAudio:1,offerToReceiveVideo:1,iceRestart:1}).then(i=>t.pcPull[n].onCreateVideoOfferSuccess(i),t.pcPull[n].onCreateOfferError)}async Offer(){this.Init(async()=>{this.pcPull[this.abonent].con.signalingState!=="closed"&&this.GetUserMedia({audio:1,video:0},()=>{this.SendOffer(this.abonent)})})}OnActive(){this.Init(()=>{this.pcPull[this.abonent].con.signalingState!=="closed"&&this.GetUserMedia({audio:1,video:0},n=>{n&&this.SendOffer(this.abonent)})})}OnCall(){this.DC&&clearInterval(this.DC.inter),this.SendStatus("call")}OnTalk(){this.DC.dc&&this.DC.SendDCTalk(),this.SendStatus("talk"),console.log()}OnMute(){this.RemoveTracks(),this.DC&&this.DC.SendDCHangup(()=>{})}OnInactive(){this.RemoveTracks(),(this.DC.dc.readyState==="open"||this.DC.dc.readyState==="connecting")&&this.DC.SendDCHangup(()=>{this.DC.dc.close(),this.SendStatus("close")})}OnMessage(n){let t=this;if(n.func,n.func==="mute"&&this.RemoveTracks(),n.func==="talk"&&clearInterval(t.DC.inter),n.func,n.func,n.desc&&t.pcPull[n.abonent]&&(t.pcPull[n.abonent].con&&(t.pcPull[n.abonent].con.connectionState==="failed"||t.pcPull[n.abonent].con.connectionState==="disconnected")&&t.pcPull[n.abonent].con.restartIce(),t.pcPull[n.abonent]&&(t.pcPull[n.abonent].params.rem_desc=n.desc,t.pcPull[n.abonent].setRemoteDesc(n.desc),t.PlayCallCnt())),n.cand&&t.pcPull[n.abonent]&&t.pcPull[n.abonent]){if(!t.pcPull[n.abonent].con||t.pcPull[n.abonent].con.signalingState==="closed")return;try{if(t.pcPull[n.abonent].params.rem_cand=n.cand,Array.isArray(n.cand))for(let i in n.cand)t.pcPull[n.abonent].con.addIceCandidate(n.cand[i]);else t.pcPull[n.abonent].con.addIceCandidate(n.cand)}catch(i){log(i)}}}}function Dg(s){let n,t,i,o,a,u,f,c;return{c(){n=N("div"),t=Le("svg"),i=Le("g"),o=Le("title"),a=Ge("Layer 1"),u=Le("path"),this.h()},l(d){n=W(d,"DIV",{class:!0,style:!0});var g=J(n);t=Me(g,"svg",{class:!0,status:!0,width:!0,height:!0,style:!0});var p=J(t);i=Me(p,"g",{class:!0,style:!0});var m=J(i);o=Me(m,"title",{});var v=J(o);a=je(v,"Layer 1"),v.forEach(k),u=Me(m,"path",{d:!0,id:!0,class:!0,transform:!0}),J(u).forEach(k),m.forEach(k),p.forEach(k),g.forEach(k),this.h()},h(){C(u,"d","M390.7 353.3c-120.30000000000001 69.5 63.19999999999999 413.59999999999997 194.90000000000003 337.59999999999997l122.10000000000002 211.39999999999998c-55.60000000000002 32.10000000000002-102.5 52.30000000000007-166.9000000000001 15.5-178.79999999999995-102.19999999999993-375.59999999999997-442.9-369.99999999999994-646.0999999999999 1.8999999999999773-70.60000000000005 43.599999999999994-98.30000000000004 97.89999999999998-129.70000000000005 23.30000000000001 40.400000000000006 98.60000000000002 170.8 122 211.3z m50.400000000000034-5.699999999999989c-13 7.5-29.700000000000045 3.099999999999966-37.30000000000001-10l-115-199.3c-7.5-13.000000000000014-3.1000000000000227-29.700000000000017 10-37.30000000000001l60.5-34.900000000000006c13-7.499999999999993 29.69999999999999-3.0999999999999943 37.30000000000001 10l115.09999999999997 199.29999999999998c7.500000000000057 13 3.099999999999966 29.700000000000045-10 37.200000000000045l-60.599999999999966 35z m314.4 544.5c-13 7.5-29.700000000000045 3.1000000000000227-37.299999999999955-10l-115-199.30000000000007c-7.5-13-3.1000000000000227-29.699999999999932 10-37.299999999999955l60.5-34.89999999999998c13-7.5 29.699999999999932-3.1000000000000227 37.299999999999955 10l115.10000000000002 199.29999999999995c7.5 13 3.1000000000000227 29.700000000000045-10 37.30000000000007l-60.60000000000002 34.89999999999998z"),C(u,"id","svg_1"),C(u,"class","selected"),C(u,"transform","scale(.04)"),C(i,"class","currentLayer svelte-xpesuu"),S(i,"stroke","lightgrey"),S(i,"stroke-width","10px"),C(t,"class","callButton svelte-xpesuu"),C(t,"status",s[0]),C(t,"width","50"),C(t,"height","50"),S(t,"position","absolute"),S(t,"left","0px"),S(t,"top","5px"),S(t,"z-index","30"),C(n,"class","callObject"),S(n,"display","block")},m(d,g){U(d,n,g),L(n,t),L(t,i),L(i,o),L(o,a),L(i,u),f||(c=[ae(t,"click",s[2]),ae(n,"long-press",function(){Sr(s[1])&&s[1].apply(this,arguments)})],f=!0)},p(d,[g]){s=d,g&1&&C(t,"status",s[0])},i:be,o:be,d(d){d&&k(n),f=!1,Kt(c)}}}function Rg(s,n,t){let{status:i="inactive"}=n,{OnLongPress:o}=n;function a(u){to.call(this,s,u)}return s.$$set=u=>{"status"in u&&t(0,i=u.status),"OnLongPress"in u&&t(1,o=u.OnLongPress)},[i,o,a]}class Pg extends xe{constructor(n){super(),Ve(this,n,Rg,Dg,He,{status:0,OnLongPress:1})}}function Lg(s){let n,t,i,o,a,u,f;return{c(){n=N("button"),t=Le("svg"),i=Le("line"),o=Le("line"),a=Le("line"),this.h()},l(c){n=W(c,"BUTTON",{style:!0,class:!0});var d=J(n);t=Me(d,"svg",{width:!0,height:!0,class:!0});var g=J(t);i=Me(g,"line",{id:!0,x1:!0,y1:!0,x2:!0,y2:!0,style:!0,class:!0}),J(i).forEach(k),o=Me(g,"line",{id:!0,x1:!0,y1:!0,x2:!0,y2:!0,style:!0,class:!0}),J(o).forEach(k),a=Me(g,"line",{id:!0,x1:!0,y1:!0,x2:!0,y2:!0,style:!0,class:!0}),J(a).forEach(k),g.forEach(k),d.forEach(k),this.h()},h(){C(i,"id","top"),C(i,"x1","0"),C(i,"y1","8"),C(i,"x2","26"),C(i,"y2","8"),S(i,"transition","transform "+s[1]+"s ease-in-out, opacity "+s[1]+"s ease-in-out"),C(i,"class","svelte-11id1mh"),C(o,"id","mid"),C(o,"x1","0"),C(o,"y1","16"),C(o,"x2","26"),C(o,"y2","16"),S(o,"transition","transform "+s[1]+"s ease-in-out, opacity "+s[1]+"s ease-in-out"),C(o,"class","svelte-11id1mh"),C(a,"id","bot"),C(a,"x1","0"),C(a,"y1","24"),C(a,"x2","26"),C(a,"y2","24"),S(a,"transition","transform "+s[1]+"s ease-in-out, opacity "+s[1]+"s ease-in-out"),C(a,"class","svelte-11id1mh"),C(t,"width","26"),C(t,"height","26"),C(t,"class","svelte-11id1mh"),S(n,"position","fixed"),S(n,"transition","color "+s[1]+"s ease-in-out"),S(n,"color",s[0]?s[3]:s[2]),C(n,"class","svelte-11id1mh"),U0(n,"open",s[0])},m(c,d){U(c,n,d),L(n,t),L(t,i),L(t,o),L(t,a),u||(f=ae(n,"click",s[4]),u=!0)},p(c,[d]){d&2&&S(i,"transition","transform "+c[1]+"s ease-in-out, opacity "+c[1]+"s ease-in-out"),d&2&&S(o,"transition","transform "+c[1]+"s ease-in-out, opacity "+c[1]+"s ease-in-out"),d&2&&S(a,"transition","transform "+c[1]+"s ease-in-out, opacity "+c[1]+"s ease-in-out"),d&2&&S(n,"transition","color "+c[1]+"s ease-in-out"),d&13&&S(n,"color",c[0]?c[3]:c[2]),d&1&&U0(n,"open",c[0])},i:be,o:be,d(c){c&&k(n),u=!1,f()}}}function Mg(s,n,t){let{open:i}=n,{duration:o}=n,{burgerColor:a}=n,{menuColor:u}=n;const f=()=>t(0,i=!i);return s.$$set=c=>{"open"in c&&t(0,i=c.open),"duration"in c&&t(1,o=c.duration),"burgerColor"in c&&t(2,a=c.burgerColor),"menuColor"in c&&t(3,u=c.menuColor)},[i,o,a,u,f]}class Bg extends xe{constructor(n){super(),Ve(this,n,Mg,Lg,He,{open:0,duration:1,burgerColor:2,menuColor:3})}}function Fg(s){let n,t,i;const o=s[8].default,a=Jn(o,s,s[7],null);return{c(){n=N("div"),t=N("div"),a&&a.c(),this.h()},l(u){n=W(u,"DIV",{id:!0,style:!0,class:!0});var f=J(n);t=W(f,"DIV",{id:!0,style:!0,class:!0});var c=J(t);a&&a.l(c),c.forEach(k),f.forEach(k),this.h()},h(){C(t,"id","menu"),S(t,"padding",s[3]),S(t,"padding-top",s[4]),C(t,"class","svelte-krt0zq"),C(n,"id","container"),S(n,"position","fixed"),S(n,"z-index","1"),S(n,"background-color",s[5]),S(n,"color",s[6]),S(n,"width",s[2]),S(n,"right",s[0]?"0px":"-"+(parseInt(s[2])+10)+"px"),S(n,"transition","right "+s[1]+"s ease-in-out"),C(n,"class","svelte-krt0zq")},m(u,f){U(u,n,f),L(n,t),a&&a.m(t,null),i=!0},p(u,[f]){a&&a.p&&(!i||f&128)&&Kn(a,o,u,u[7],i?Zn(o,u[7],f,null):Yn(u[7]),null),(!i||f&8)&&S(t,"padding",u[3]),(!i||f&16)&&S(t,"padding-top",u[4]),(!i||f&32)&&S(n,"background-color",u[5]),(!i||f&64)&&S(n,"color",u[6]),(!i||f&4)&&S(n,"width",u[2]),(!i||f&5)&&S(n,"right",u[0]?"0px":"-"+(parseInt(u[2])+10)+"px"),(!i||f&2)&&S(n,"transition","right "+u[1]+"s ease-in-out")},i(u){i||(ie(a,u),i=!0)},o(u){ue(a,u),i=!1},d(u){u&&k(n),a&&a.d(u)}}}function zg(s,n,t){let{$$slots:i={},$$scope:o}=n,{open:a}=n,{duration:u}=n,{width:f}=n,{padding:c}=n,{paddingTop:d}=n,{backgroundColor:g}=n,{menuColor:p}=n;return s.$$set=m=>{"open"in m&&t(0,a=m.open),"duration"in m&&t(1,u=m.duration),"width"in m&&t(2,f=m.width),"padding"in m&&t(3,c=m.padding),"paddingTop"in m&&t(4,d=m.paddingTop),"backgroundColor"in m&&t(5,g=m.backgroundColor),"menuColor"in m&&t(6,p=m.menuColor),"$$scope"in m&&t(7,o=m.$$scope)},[a,u,f,c,d,g,p,o,i]}class Ug extends xe{constructor(n){super(),Ve(this,n,zg,Fg,He,{open:0,duration:1,width:2,padding:3,paddingTop:4,backgroundColor:5,menuColor:6})}}function Ng(s){let n;const t=s[10].default,i=Jn(t,s,s[13],null);return{c(){i&&i.c()},l(o){i&&i.l(o)},m(o,a){i&&i.m(o,a),n=!0},p(o,a){i&&i.p&&(!n||a&8192)&&Kn(i,t,o,o[13],n?Zn(t,o[13],a,null):Yn(o[13]),null)},i(o){n||(ie(i,o),n=!0)},o(o){ue(i,o),n=!1},d(o){i&&i.d(o)}}}function Wg(s){let n,t,i,o,a,u;const f=[s[1]];function c(v){s[11](v)}let d={};for(let v=0;v<f.length;v+=1)d=mr(d,f[v]);s[0]!==void 0&&(d.open=s[0]),n=new Bg({props:d}),Se.push(()=>lt(n,"open",c));const g=[s[2]];function p(v){s[12](v)}let m={$$slots:{default:[Ng]},$$scope:{ctx:s}};for(let v=0;v<g.length;v+=1)m=mr(m,g[v]);return s[0]!==void 0&&(m.open=s[0]),o=new Ug({props:m}),Se.push(()=>lt(o,"open",p)),{c(){ze(n.$$.fragment),i=ne(),ze(o.$$.fragment)},l(v){Ue(n.$$.fragment,v),i=re(v),Ue(o.$$.fragment,v)},m(v,P){Ne(n,v,P),U(v,i,P),Ne(o,v,P),u=!0},p(v,[P]){const I=P&2?vr(f,[br(v[1])]):{};!t&&P&1&&(t=!0,I.open=v[0],it(()=>t=!1)),n.$set(I);const O=P&4?vr(g,[br(v[2])]):{};P&8192&&(O.$$scope={dirty:P,ctx:v}),!a&&P&1&&(a=!0,O.open=v[0],it(()=>a=!1)),o.$set(O)},i(v){u||(ie(n.$$.fragment,v),ie(o.$$.fragment,v),u=!0)},o(v){ue(n.$$.fragment,v),ue(o.$$.fragment,v),u=!1},d(v){v&&k(i),We(n,v),We(o,v)}}}function Hg(s,n,t){let{$$slots:i={},$$scope:o}=n,{open:a=!1}=n,{duration:u=.4}=n,{width:f="250px"}=n,{padding:c="20px"}=n,{paddingTop:d="50px"}=n,{backgroundColor:g="rgb(250, 250, 250)"}=n,{burgerColor:p="rgb(18.4, 18.4, 18.4)"}=n,{menuColor:m="rgb(180, 180, 180)"}=n,v={duration:u,burgerColor:p,menuColor:m},P={duration:u,width:f,padding:c,paddingTop:d,backgroundColor:g,menuColor:m};function I(A){a=A,t(0,a)}function O(A){a=A,t(0,a)}return s.$$set=A=>{"open"in A&&t(0,a=A.open),"duration"in A&&t(3,u=A.duration),"width"in A&&t(4,f=A.width),"padding"in A&&t(5,c=A.padding),"paddingTop"in A&&t(6,d=A.paddingTop),"backgroundColor"in A&&t(7,g=A.backgroundColor),"burgerColor"in A&&t(8,p=A.burgerColor),"menuColor"in A&&t(9,m=A.menuColor),"$$scope"in A&&t(13,o=A.$$scope)},[a,v,P,u,f,c,d,g,p,m,i,I,O,o]}class xg extends xe{constructor(n){super(),Ve(this,n,Hg,Wg,He,{open:0,duration:3,width:4,padding:5,paddingTop:6,backgroundColor:7,burgerColor:8,menuColor:9})}}function Vg(s){let n,t,i,o;const a=s[6].default,u=Jn(a,s,s[5],null);return{c(){n=N("video"),t=N("track"),i=ne(),u&&u.c(),this.h()},l(f){n=W(f,"VIDEO",{poster:!0,style:!0});var c=J(n);t=W(c,"TRACK",{kind:!0}),c.forEach(k),i=re(f),u&&u.l(f),this.h()},h(){C(t,"kind","captions"),n.autoplay=!0,n.playsInline=!0,C(n,"poster",s[1]),S(n,"display",s[0]),S(n,"position","absolute"),S(n,"height","105px"),S(n,"background-color","white"),S(n,"max-width","12%"),S(n,"z-index","10")},m(f,c){U(f,n,c),L(n,t),s[7](n),U(f,i,c),u&&u.m(f,c),o=!0},p(f,[c]){(!o||c&2)&&C(n,"poster",f[1]),(!o||c&1)&&S(n,"display",f[0]),u&&u.p&&(!o||c&32)&&Kn(u,a,f,f[5],o?Zn(a,f[5],c,null):Yn(f[5]),null)},i(f){o||(ie(u,f),o=!0)},o(f){ue(u,f),o=!1},d(f){f&&(k(n),k(i)),s[7](null),u&&u.d(f)}}}function qg(s,n,t){let{$$slots:i={},$$scope:o}=n,{display:a="none"}=n,{poster:u}=n,{srcObject:f}=n,c,d;Tt(async()=>{t(4,c=d)});function g(p){Se[p?"unshift":"push"](()=>{d=p,t(2,d)})}return s.$$set=p=>{"display"in p&&t(0,a=p.display),"poster"in p&&t(1,u=p.poster),"srcObject"in p&&t(3,f=p.srcObject),"$$scope"in p&&t(5,o=p.$$scope)},s.$$.update=()=>{s.$$.dirty&24&&(c&&f?t(4,c.srcObject=f,c):c&&c.srcObject&&(c.srcObject.getVideoTracks().forEach(p=>{p.stop(),c.srcObject.removeTrack(p)}),t(4,c.src="",c)))},[a,u,d,f,c,o,i,g]}class Gg extends xe{constructor(n){super(),Ve(this,n,qg,Vg,He,{display:0,poster:1,srcObject:3})}}function jg(s){let n,t="",i,o,a='<input type="file" id="fileInput" name="files"/>',u,f;return{c(){n=N("a"),n.innerHTML=t,i=ne(),o=N("form"),o.innerHTML=a,u=ne(),f=N("i"),this.h()},l(c){n=W(c,"A",{id:!0,style:!0,"data-svelte-h":!0}),ln(n)!=="svelte-1ulz4fx"&&(n.innerHTML=t),i=re(c),o=W(c,"FORM",{id:!0,style:!0,"data-svelte-h":!0}),ln(o)!=="svelte-tjvju7"&&(o.innerHTML=a),u=re(c),f=W(c,"I",{class:!0,style:!0}),J(f).forEach(k),this.h()},h(){C(n,"id","download_href"),S(n,"display","none"),C(o,"id","fileInfo"),S(o,"display","none"),C(f,"class","fa fa-spinner fa-spin"),S(f,"position","absolute"),S(f,"top","50%"),S(f,"left","50%"),S(f,"font-size","44px")},m(c,d){U(c,n,d),U(c,i,d),U(c,o,d),U(c,u,d),U(c,f,d)},p:be,i:be,o:be,d(c){c&&(k(n),k(i),k(o),k(u),k(f))}}}class Jg extends xe{constructor(n){super(),Ve(this,n,null,jg,He,{})}}function Kg(s){let n,t='<track kind="captions"/>',i;return{c(){n=N("audio"),n.innerHTML=t,this.h()},l(o){n=W(o,"AUDIO",{id:!0,src:!0,"data-svelte-h":!0}),ln(n)!=="svelte-qhtjm0"&&(n.innerHTML=t),this.h()},h(){C(n,"id","localSound"),wt(n.src,i="../src/routes/assets/mp3/ring.mp3")||C(n,"src",i)},m(o,a){U(o,n,a)},p:be,i:be,o:be,d(o){o&&k(n)}}}function Yg(s,n,t){let{paused:i=!0}=n,o;return Tt(async()=>{t(1,o=document.getElementById("localSound"))}),s.$$set=a=>{"paused"in a&&t(0,i=a.paused)},s.$$.update=()=>{s.$$.dirty&3&&o&&(i?o.pause():o.play())},[i,o]}class Zg extends xe{constructor(n){super(),Ve(this,n,Yg,Kg,He,{paused:0})}}function Xg(s){let n,t;return{c(){n=N("audio"),t=N("track"),this.h()},l(i){n=W(i,"AUDIO",{id:!0});var o=J(n);t=W(o,"TRACK",{kind:!0}),o.forEach(k),this.h()},h(){C(t,"kind","captions"),C(n,"id","remoteAudio"),n.autoplay=!0,n.muted=s[0]},m(i,o){U(i,n,o),L(n,t)},p(i,[o]){o&1&&(n.muted=i[0])},i:be,o:be,d(i){i&&k(n)}}}function Qg(s,n,t){let{muted:i=!1}=n,{srcObject:o}=n,a;return Tt(async()=>{t(2,a=document.getElementById("remoteAudio"))}),s.$$set=u=>{"muted"in u&&t(0,i=u.muted),"srcObject"in u&&t(1,o=u.srcObject)},s.$$.update=()=>{s.$$.dirty&6&&a&&o&&t(2,a.srcObject=o,a)},[i,o,a]}class $g extends xe{constructor(n){super(),Ve(this,n,Qg,Xg,He,{muted:0,srcObject:1})}}function e_(s){let n;return{c(){n=N("video"),this.h()},l(t){n=W(t,"VIDEO",{class:!0,style:!0}),J(n).forEach(k),this.h()},h(){C(n,"class","recordedVideo"),n.autoplay=!0,n.muted=!0,S(n,"display",s[0])},m(t,i){U(t,n,i)},p(t,[i]){i&1&&S(n,"display",t[0])},i:be,o:be,d(t){t&&k(n)}}}function t_(s,n,t){let{display:i="none"}=n;return s.$$set=o=>{"display"in o&&t(0,i=o.display)},[i]}class n_ extends xe{constructor(n){super(),Ve(this,n,t_,e_,He,{display:0})}}function r_(s){let n,t=s[0][0].s+"",i;return{c(){n=N("div"),i=Ge(t)},l(o){n=W(o,"DIV",{});var a=J(n);i=je(a,t),a.forEach(k)},m(o,a){U(o,n,a),L(n,i)},p(o,[a]){a&1&&t!==(t=o[0][0].s+"")&&It(i,t)},i:be,o:be,d(o){o&&k(n)}}}function i_(s,n,t){let{data:i}=n;return s.$$set=o=>{"data"in o&&t(0,i=o.data)},[i]}class l_ extends xe{constructor(n){super(),Ve(this,n,i_,r_,He,{data:0})}}function fu(s,n,t){const i=s.slice();return i[1]=n[t],i[3]=t,i}function cu(s){let n,t=s[1].name+"",i;return{c(){n=N("div"),i=Ge(t)},l(o){n=W(o,"DIV",{});var a=J(n);i=je(a,t),a.forEach(k)},m(o,a){U(o,n,a),L(n,i)},p(o,a){a&1&&t!==(t=o[1].name+"")&&It(i,t)},d(o){o&&k(n)}}}function o_(s){let n,t,i,o=_t(s[0][0].staff),a=[];for(let u=0;u<o.length;u+=1)a[u]=cu(fu(s,o,u));return{c(){n=N("div"),t=ne();for(let u=0;u<a.length;u+=1)a[u].c();i=De()},l(u){n=W(u,"DIV",{}),J(n).forEach(k),t=re(u);for(let f=0;f<a.length;f+=1)a[f].l(u);i=De()},m(u,f){U(u,n,f),U(u,t,f);for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(u,f);U(u,i,f)},p(u,[f]){if(f&1){o=_t(u[0][0].staff);let c;for(c=0;c<o.length;c+=1){const d=fu(u,o,c);a[c]?a[c].p(d,f):(a[c]=cu(d),a[c].c(),a[c].m(i.parentNode,i))}for(;c<a.length;c+=1)a[c].d(1);a.length=o.length}},i:be,o:be,d(u){u&&(k(n),k(t),k(i)),Xn(a,u)}}}function s_(s,n,t){let i;return Ie(s,kr,o=>t(0,i=o)),console.log(i[0].staff),[i]}class u_ extends xe{constructor(n){super(),Ve(this,n,s_,o_,He,{})}}var Wu={aar:"aa",abk:"ab",afr:"af",aka:"ak",alb:"sq",amh:"am",ara:"ar",arg:"an",arm:"hy",asm:"as",ava:"av",ave:"ae",aym:"ay",aze:"az",bak:"ba",bam:"bm",baq:"eu",bel:"be",ben:"bn",bih:"bh",bis:"bi",bos:"bs",bre:"br",bul:"bg",bur:"my",cat:"ca",cha:"ch",che:"ce",chi:"zh",chu:"cu",chv:"cv",cor:"kw",cos:"co",cre:"cr",cze:"cs",dan:"da",div:"dv",dut:"nl",dzo:"dz",eng:"en",epo:"eo",est:"et",ewe:"ee",fao:"fo",fij:"fj",fin:"fi",fre:"fr",fry:"fy",ful:"ff",geo:"ka",ger:"de",gla:"gd",gle:"ga",glg:"gl",glv:"gv",gre:"el",grn:"gn",guj:"gu",hat:"ht",hau:"ha",heb:"he",her:"hz",hin:"hi",hmo:"ho",hrv:"hr",hun:"hu",ibo:"ig",ice:"is",ido:"io",iii:"ii",iku:"iu",ile:"ie",ina:"ia",ind:"id",ipk:"ik",ita:"it",jav:"jv",jpn:"ja",kal:"kl",kan:"kn",kas:"ks",kau:"kr",kaz:"kk",khm:"km",kik:"ki",kin:"rw",kir:"ky",kom:"kv",kon:"kg",kor:"ko",kua:"kj",kur:"ku",lao:"lo",lat:"la",lav:"lv",lim:"li",lin:"ln",lit:"lt",ltz:"lb",lub:"lu",lug:"lg",mac:"mk",mah:"mh",mal:"ml",mao:"mi",mar:"mr",may:"ms",mlg:"mg",mlt:"mt",mon:"mn",nau:"na",nav:"nv",nbl:"nr",nde:"nd",ndo:"ng",nep:"ne",nno:"nn",nob:"nb",nor:"no",nya:"ny",oci:"oc",oji:"oj",ori:"or",orm:"om",oss:"os",pan:"pa",per:"fa",pli:"pi",pol:"pl",por:"pt",pus:"ps",que:"qu",roh:"rm",rum:"ro",run:"rn",rus:"ru",sag:"sg",san:"sa",sin:"si",slo:"sk",slv:"sl",sme:"se",smo:"sm",sna:"sn",snd:"sd",som:"so",sot:"st",spa:"es",srd:"sc",srp:"sr",ssw:"ss",sun:"su",swa:"sw",swe:"sv",tah:"ty",tam:"ta",tat:"tt",tel:"te",tgk:"tg",tgl:"tl",tha:"th",tib:"bo",tir:"ti",ton:"to",tsn:"tn",tso:"ts",tuk:"tk",tur:"tr",twi:"tw",uig:"ug",ukr:"uk",urd:"ur",uzb:"uz",ven:"ve",vie:"vi",vol:"vo",wel:"cy",wln:"wa",wol:"wo",xho:"xh",yid:"yi",yor:"yo",zha:"za",zul:"zu"},a_={afar:"aa",abkhazian:"ab",afrikaans:"af",akan:"ak",albanian:"sq",amharic:"am",arabic:"ar",aragonese:"an",armenian:"hy",assamese:"as",avaric:"av",avestan:"ae",aymara:"ay",azerbaijani:"az",bashkir:"ba",bambara:"bm",basque:"eu",belarusian:"be",bengali:"bn","bihari languages":"bh",bislama:"bi",tibetan:"bo",bosnian:"bs",breton:"br",bulgarian:"bg",burmese:"my",catalan:"ca",valencian:"ca",czech:"cs",chamorro:"ch",chechen:"ce",chinese:"zh","church slavic":"cu","old slavonic":"cu","church slavonic":"cu","old bulgarian":"cu","old church slavonic":"cu",chuvash:"cv",cornish:"kw",corsican:"co",cree:"cr",welsh:"cy",danish:"da",german:"de",divehi:"dv",dhivehi:"dv",maldivian:"dv",dutch:"nl",flemish:"nl",dzongkha:"dz",greek:"el",english:"en",esperanto:"eo",estonian:"et",ewe:"ee",faroese:"fo",persian:"fa",fijian:"fj",finnish:"fi",french:"fr","western frisian":"fy",fulah:"ff",georgian:"ka",gaelic:"gd","scottish gaelic":"gd",irish:"ga",galician:"gl",manx:"gv",guarani:"gn",gujarati:"gu",haitian:"ht","haitian creole":"ht",hausa:"ha",hebrew:"he",herero:"hz",hindi:"hi","hiri motu":"ho",croatian:"hr",hungarian:"hu",igbo:"ig",icelandic:"is",ido:"io","sichuan yi":"ii",nuosu:"ii",inuktitut:"iu",interlingue:"ie",occidental:"ie",interlingua:"ia",indonesian:"id",inupiaq:"ik",italian:"it",javanese:"jv",japanese:"ja",kalaallisut:"kl",greenlandic:"kl",kannada:"kn",kashmiri:"ks",kanuri:"kr",kazakh:"kk","central khmer":"km",kikuyu:"ki",gikuyu:"ki",kinyarwanda:"rw",kirghiz:"ky",kyrgyz:"ky",komi:"kv",kongo:"kg",korean:"ko",kuanyama:"kj",kwanyama:"kj",kurdish:"ku",lao:"lo",latin:"la",latvian:"lv",limburgan:"li",limburger:"li",limburgish:"li",lingala:"ln",lithuanian:"lt",luxembourgish:"lb",letzeburgesch:"lb","luba-katanga":"lu",ganda:"lg",macedonian:"mk",marshallese:"mh",malayalam:"ml",maori:"mi",marathi:"mr",malay:"ms",malagasy:"mg",maltese:"mt",mongolian:"mn",nauru:"na",navajo:"nv",navaho:"nv","ndebele, south":"nr","south ndebele":"nr","ndebele, north":"nd","north ndebele":"nd",ndonga:"ng",nepali:"ne","norwegian nynorsk":"nn","nynorsk, norwegian":"nn","norwegian bokmål":"nb","bokmål, norwegian":"nb",norwegian:"no",chichewa:"ny",chewa:"ny",nyanja:"ny",occitan:"oc",ojibwa:"oj",oriya:"or",oromo:"om",ossetian:"os",ossetic:"os",panjabi:"pa",punjabi:"pa",pali:"pi",polish:"pl",portuguese:"pt",pushto:"ps",pashto:"ps",quechua:"qu",romansh:"rm",romanian:"ro",moldavian:"ro",moldovan:"ro",rundi:"rn",russian:"ru",sango:"sg",sanskrit:"sa",sinhala:"si",sinhalese:"si",slovak:"sk",slovenian:"sl","northern sami":"se",samoan:"sm",shona:"sn",sindhi:"sd",somali:"so","sotho, southern":"st",spanish:"es",castilian:"es",sardinian:"sc",serbian:"sr",swati:"ss",sundanese:"su",swahili:"sw",swedish:"sv",tahitian:"ty",tamil:"ta",tatar:"tt",telugu:"te",tajik:"tg",tagalog:"tl",thai:"th",tigrinya:"ti",tonga:"to",tswana:"tn",tsonga:"ts",turkmen:"tk",turkish:"tr",twi:"tw",uighur:"ug",uyghur:"ug",ukrainian:"uk",urdu:"ur",uzbek:"uz",venda:"ve",vietnamese:"vi",volapük:"vo",walloon:"wa",wolof:"wo",xhosa:"xh",yiddish:"yi",yoruba:"yo",zhuang:"za",chuang:"za",zulu:"zu"};const f_=Object.values(Wu).sort();var eo=s=>{if(typeof s!="string")throw new Error('The "language" must be a string, received '+typeof s);if(s.length>100)throw new Error(`The "language" is too long at ${s.length} characters`);if(s=s.toLowerCase(),s=a_[s]||Wu[s]||s,!f_.includes(s))throw new Error(`The language "${s}" is not part of the ISO 639-1`);return s};function Hu(){var s=Object.create(null);function n(t){delete s[t]}this.set=function(t,i,o){if(o!==void 0&&(typeof o!="number"||isNaN(o)||o<=0))throw new Error("Cache timeout must be a positive number");var a=s[t];a&&clearTimeout(a.timeout);var u={value:i,expire:o+Date.now()};return isNaN(u.expire)||(u.timeout=setTimeout(()=>n(t),o)),s[t]=u,i},this.del=function(t){var i=!0,o=s[t];return o?(clearTimeout(o.timeout),!isNaN(o.expire)&&o.expire<Date.now()&&(i=!1)):i=!1,i&&n(t),i},this.clear=function(){for(var t in s)clearTimeout(s[t].timeout);s=Object.create(null)},this.get=function(t){var i=s[t];if(i!==void 0){if(isNaN(i.expire)||i.expire>=Date.now())return i.value;delete s[t]}return null}}const io=new Hu;io.Cache=Hu;const c_="https://translate.googleapis.com/translate_a/single";var h_={fetch:({key:s,from:n,to:t,text:i})=>[`${c_}?client=gtx&sl=${n}&tl=${t}&dt=t&q=${encodeURI(i)}`],parse:s=>s.json().then(n=>{if(!(n=n&&n[0]&&n[0][0]&&n[0].map(t=>t[0]).join("")))throw new Error("Translation not found");return n})},d_={needkey:!0,fetch:({key:s,from:n,to:t,text:i})=>[`https://translate.yandex.net/api/v1.5/tr.json/translate?key=${s}&lang=${n}-${t}&text=${encodeURIComponent(i)}`,{method:"POST",body:""}],parse:s=>s.json().then(n=>{if(n.code!==200)throw new Error(n.message);return n.text[0]})};const p_="https://libretranslate.com/translate";var g_={needkey:!1,fetch:({url:s=p_,key:n,from:t,to:i,text:o})=>[s,{method:"POST",body:JSON.stringify({q:o,source:t,target:i,api_key:n}),headers:{"Content-Type":"application/json"}}],parse:s=>s.json().then(n=>{if(!n)throw new Error("No response found");if(n.error)throw new Error(n.error);if(!n.translatedText)throw new Error("No response found");return n.translatedText})},__={needkey:!0,fetch:({key:s,from:n,to:t,text:i})=>[`https://api${/:fx$/.test(s)?"-free":""}.deepl.com/v2/translate?auth_key=${s}&source_lang=${n}&target_lang=${t}&text=${i=encodeURIComponent(i)}`,{method:"POST",body:""}],parse:async s=>{if(!s.ok)throw s.status===403?new Error("Auth Error, please review the key for DeepL"):new Error(`Error ${s.status}`);return s.json().then(n=>n.translations[0].text)}},m_={google:h_,yandex:d_,libre:g_,deepl:__};const Fi=function(s={}){if(!(this instanceof Fi))return new Fi(s);const n={from:"en",to:"en",cache:void 0,languages:eo,engines:m_,engine:"google",keys:{}},t=async(i,o={})=>{typeof o=="string"&&(o={to:o}),o.text=i,o.from=eo(o.from||t.from),o.to=eo(o.to||t.to),o.cache=o.cache||t.cache,o.engines=o.engines||{},o.engine=o.engine||t.engine,o.url=o.url||t.url,o.id=o.id||`${o.url}:${o.from}:${o.to}:${o.engine}:${o.text}`,o.keys=o.keys||t.keys||{};for(let c in t.keys)o.keys[c]=o.keys[c]||t.keys[c];o.key=o.key||t.key||o.keys[o.engine];const a=o.engines[o.engine]||t.engines[o.engine],u=io.get(o.id);if(u)return Promise.resolve(u);if(o.to===o.from)return Promise.resolve(o.text);if(a.needkey&&!o.key)throw new Error(`The engine "${o.engine}" needs a key, please provide it`);const f=a.fetch(o);return fetch(...f).then(a.parse).then(c=>io.set(o.id,c,o.cache))};for(let i in n)t[i]=s[i]===void 0?n[i]:s[i];return t},Pi=new Fi;Pi.Translate=Fi;function v_(s){let n,t,i,o,a,u,f;return{c(){n=N("span"),t=N("sup"),i=Ge(s[1]),o=ne(),a=Ge(s[0]),this.h()},l(c){n=W(c,"SPAN",{class:!0});var d=J(n);t=W(d,"SUP",{class:!0});var g=J(t);i=je(g,s[1]),g.forEach(k),o=re(d),a=je(d,s[0]),d.forEach(k),this.h()},h(){C(t,"class","trans svelte-m379l8"),C(n,"class","a svelte-m379l8")},m(c,d){U(c,n,d),L(n,t),L(t,i),L(n,o),L(n,a),u||(f=ae(n,"click",E1(O1(b_))),u=!0)},p(c,[d]){d&2&&It(i,c[1]),d&1&&It(a,c[0])},i:be,o:be,d(c){c&&k(n),u=!1,f()}}}async function b_(s){s.currentTarget.firstChild&&setTimeout(async n=>{n.style.visibility="hidden"},2e3,s.currentTarget.firstChild),s.currentTarget.firstChild.style.visibility="visible"}function y_(s,n,t){let i;Ie(s,rn,c=>t(3,i=c));let{text:o,woorden:a}=n,u="trans";Pi.from="nl",Pi.engine="google";async function f(c){for(const d of Object.keys(a))if(c.toLowerCase().includes(`${d}`)&&a[d][i]){t(1,u=a[d][i]);return}t(1,u=await Pi(c.trim().toLowerCase(),i))}return Tt(()=>{}),s.$$set=c=>{"text"in c&&t(0,o=c.text),"woorden"in c&&t(2,a=c.woorden)},s.$$.update=()=>{s.$$.dirty&9&&i&&o&&f(o)},[o,u,a,i]}class w_ extends xe{constructor(n){super(),Ve(this,n,y_,v_,He,{text:0,woorden:2})}}function hu(s,n,t){const i=s.slice();return i[0]=n[t],i[9]=t,i}function du(s){let n=[],t=new Map,i,o,a=_t(s[1]);const u=f=>f[9];for(let f=0;f<a.length;f+=1){let c=hu(s,a,f),d=u(c);t.set(d,n[f]=pu(d,c))}return{c(){for(let f=0;f<n.length;f+=1)n[f].c();i=De()},l(f){for(let c=0;c<n.length;c+=1)n[c].l(f);i=De()},m(f,c){for(let d=0;d<n.length;d+=1)n[d]&&n[d].m(f,c);U(f,i,c),o=!0},p(f,c){c&42&&(a=_t(f[1]),Ut(),n=Au(n,c,u,1,f,a,t,i.parentNode,D1,pu,i,hu),Nt())},i(f){if(!o){for(let c=0;c<a.length;c+=1)ie(n[c]);o=!0}},o(f){for(let c=0;c<n.length;c+=1)ue(n[c]);o=!1},d(f){f&&k(i);for(let c=0;c<n.length;c+=1)n[c].d(f)}}}function C_(s){let n=s[0]+"",t;return{c(){t=Ge(n)},l(i){t=je(i,n)},m(i,o){U(i,t,o)},p(i,o){o&2&&n!==(n=i[0]+"")&&It(t,n)},i:be,o:be,d(i){i&&k(t)}}}function k_(s){let n,t;return n=new w_({props:{text:s[0],woorden:s[3]}}),{c(){ze(n.$$.fragment)},l(i){Ue(n.$$.fragment,i)},m(i,o){Ne(n,i,o),t=!0},p(i,o){const a={};o&2&&(a.text=i[0]),o&8&&(a.woorden=i[3]),n.$set(a)},i(i){t||(ie(n.$$.fragment,i),t=!0)},o(i){ue(n.$$.fragment,i),t=!1},d(i){We(n,i)}}}function pu(s,n){let t,i,o,a,u,f;const c=[k_,C_],d=[];function g(p,m){return m&2&&(i=null),i==null&&(i=!!p[5](p[0])),i?0:1}return o=g(n,-1),a=d[o]=c[o](n),{key:s,first:null,c(){t=De(),a.c(),u=De(),this.h()},l(p){t=De(),a.l(p),u=De(),this.h()},h(){this.first=t},m(p,m){U(p,t,m),d[o].m(p,m),U(p,u,m),f=!0},p(p,m){n=p;let v=o;o=g(n,m),o===v?d[o].p(n,m):(Ut(),ue(d[v],1,1,()=>{d[v]=null}),Nt(),a=d[o],a?a.p(n,m):(a=d[o]=c[o](n),a.c()),ie(a,1),a.m(u.parentNode,u))},i(p){f||(ie(a),f=!0)},o(p){ue(a),f=!1},d(p){p&&(k(t),k(u)),d[o].d(p)}}}function S_(s){let n,t,i,o,a,u,f=s[2]&&du(s);return{c(){n=N("div"),f&&f.c(),t=ne(),i=N("div"),o=ne(),a=N("div"),this.h()},l(c){n=W(c,"DIV",{});var d=J(n);f&&f.l(d),d.forEach(k),t=re(c),i=W(c,"DIV",{}),J(i).forEach(k),o=re(c),a=W(c,"DIV",{style:!0}),J(a).forEach(k),this.h()},h(){S(a,"height","10px")},m(c,d){U(c,n,d),f&&f.m(n,null),U(c,t,d),U(c,i,d),s[6](i),U(c,o,d),U(c,a,d),u=!0},p(c,[d]){c[2]?f?(f.p(c,d),d&4&&ie(f,1)):(f=du(c),f.c(),ie(f,1),f.m(n,null)):f&&(Ut(),ue(f,1,1,()=>{f=null}),Nt())},i(c){u||(ie(f),u=!0)},o(c){ue(f),u=!1},d(c){c&&(k(n),k(t),k(i),k(o),k(a)),f&&f.d(),s[6](null)}}}function E_(s,n,t){let{text:i}=n,o,a,u,f;const c=Iu("abonent");fetch("/operator/lesson?dict=theme&level=12&theme=1&abonent="+c).then(p=>p.json()).then(p=>{t(3,u=JSON.parse(p.data))}).catch(p=>(console.log(p),[]));function d(p){for(let m in a)if(p.trim().toLowerCase().includes(a[m]))return!0;return!1}Tt(()=>{f.scrollIntoView()});function g(p){Se[p?"unshift":"push"](()=>{f=p,t(4,f)})}return s.$$set=p=>{"text"in p&&t(0,i=p.text)},s.$$.update=()=>{if(s.$$.dirty&15&&u){t(2,a=Object.keys(u)),a.map(m=>{let v=m.trim().replaceAll(" ","&nbsp;");return t(0,i=i.replaceAll(m,v)),i});let p=i.replaceAll(" "," ю");t(1,o=p.split("ю")),t(1,o=o.map((m,v)=>m.replaceAll("&nbsp;"," ")))}},[i,o,a,u,f,d,g]}class O_ extends xe{constructor(n){super(),Ve(this,n,E_,S_,He,{text:0})}}function I_(s){let n,t,i=">>",o,a;return{c(){n=N("div"),t=N("button"),t.textContent=i,this.h()},l(u){n=W(u,"DIV",{class:!0});var f=J(n);t=W(f,"BUTTON",{color:!0,"data-svelte-h":!0}),ln(t)!=="svelte-1xguzdp"&&(t.textContent=i),f.forEach(k),this.h()},h(){C(t,"color","danger"),C(n,"class","flex_container svelte-13efkel")},m(u,f){U(u,n,f),L(n,t),o||(a=ae(t,"click",function(){Sr(s[0])&&s[0].apply(this,arguments)}),o=!0)},p(u,[f]){s=u},i:be,o:be,d(u){u&&k(n),o=!1,a()}}}function T_(s,n,t){let{bottomOpen:i=!1}=n,{onContinueClick:o}=n;return s.$$set=a=>{"bottomOpen"in a&&t(1,i=a.bottomOpen),"onContinueClick"in a&&t(0,o=a.onContinueClick)},[o,i]}class A_ extends xe{constructor(n){super(),Ve(this,n,T_,I_,He,{bottomOpen:1,onContinueClick:0})}}function gu(s,n,t){const i=s.slice();return i[4]=n[t],i[21]=t,i}function _u(s){let n,t,i,o,a,u;return t=new O_({props:{text:s[4]}}),{c(){n=N("div"),ze(t.$$.fragment),i=ne(),this.h()},l(f){n=W(f,"DIV",{class:!0,cnt:!0});var c=J(n);Ue(t.$$.fragment,c),i=re(c),c.forEach(k),this.h()},h(){C(n,"class","selected_sentence svelte-d8c298"),C(n,"cnt",s[21])},m(f,c){U(f,n,c),Ne(t,n,null),L(n,i),s[10](n),o=!0,a||(u=ae(n,"click",s[7]),a=!0)},p(f,c){const d={};c&8&&(d.text=f[4]),t.$set(d)},i(f){o||(ie(t.$$.fragment,f),o=!0)},o(f){ue(t.$$.fragment,f),o=!1},d(f){f&&k(n),We(t),s[10](null),a=!1,u()}}}function D_(s){let n,t,i,o,a,u,f,c,d,g,p,m=_t(s[3]),v=[];for(let I=0;I<m.length;I+=1)v[I]=_u(gu(s,m,I));const P=I=>ue(v[I],1,1,()=>{v[I]=null});return i=new A_({props:{bottomOpen:R_,onContinueClick:s[8]}}),{c(){n=N("div");for(let I=0;I<v.length;I+=1)v[I].c();t=ne(),ze(i.$$.fragment),o=ne(),a=N("audio"),f=ne(),c=N("div"),this.h()},l(I){n=W(I,"DIV",{});var O=J(n);for(let A=0;A<v.length;A+=1)v[A].l(O);O.forEach(k),t=re(I),Ue(i.$$.fragment,I),o=re(I),a=W(I,"AUDIO",{name:!0,src:!0}),J(a).forEach(k),f=re(I),c=W(I,"DIV",{style:!0}),J(c).forEach(k),this.h()},h(){a.autoplay=!0,C(a,"name","media"),wt(a.src,u=s[2])||C(a,"src",u),S(c,"height","200px")},m(I,O){U(I,n,O);for(let A=0;A<v.length;A+=1)v[A]&&v[A].m(n,null);U(I,t,O),Ne(i,I,O),U(I,o,O),U(I,a,O),s[11](a),U(I,f,O),U(I,c,O),d=!0,g||(p=[ae(a,"canplay",s[6]),ae(a,"ended",s[5])],g=!0)},p(I,[O]){if(O&138){m=_t(I[3]);let A;for(A=0;A<m.length;A+=1){const z=gu(I,m,A);v[A]?(v[A].p(z,O),ie(v[A],1)):(v[A]=_u(z),v[A].c(),ie(v[A],1),v[A].m(n,null))}for(Ut(),A=m.length;A<v.length;A+=1)P(A);Nt()}(!d||O&4&&!wt(a.src,u=I[2]))&&C(a,"src",u)},i(I){if(!d){for(let O=0;O<m.length;O+=1)ie(v[O]);ie(i.$$.fragment,I),d=!0}},o(I){v=v.filter(Boolean);for(let O=0;O<v.length;O+=1)ue(v[O]);ue(i.$$.fragment,I),d=!1},d(I){I&&(k(n),k(t),k(o),k(a),k(f),k(c)),Xn(v,I),We(i,I),s[11](null),g=!1,Kt(p)}}}let R_=!0;function P_(s,n,t){let{data:i}=n,o,a,u={},f,c,d,g=0,p=[];const m=Iu("abonent");fetch(`/operator/lesson?text=theme&level=${i.level}&theme=${i.theme}&abonent=${m}`).then(M=>M.json()).then(M=>{t(4,d=M.obj.text),t(4,d=d.replaceAll(`\r
`,"")),t(4,d=d.replaceAll(".","..")),t(4,d=d.split(". ")),t(4,d=d.map(ee=>ee.trim())),v()}).catch(M=>(console.log(M),[]));function v(){d[g]&&(d[g]?fetch("/operator/lesson?key="+wr(d[g])).then(M=>M.text()).then(M=>{p.push(d[g]),t(3,p),v(g++);try{u[wr(d[g])]=JSON.parse(M).audio}catch{}}).catch(M=>(console.log(M),[])):v(g++))}function P(){t(1,a.style.fontWeight=100,a),!f&&(g++,g>=d.length||v())}Tt(()=>{try{t(0,o.playbackRate=0,o)}catch(M){console.log(M)}});function I(){a&&t(1,a.style.fontWeight=500,a)}function O(M){t(2,c=""),t(0,o.src="",o),f=!0,t(1,a.style.fontWeight=100,a);let ee=parseInt(M.currentTarget.attributes.cnt.nodeValue);M.currentTarget.style.fontWeight=500,d[ee]&&t(2,c=u[wr(d[ee])]),t(1,a=M.currentTarget)}function A(){f=!1,g++,v()}function z(M){Se[M?"unshift":"push"](()=>{a=M,t(1,a)})}function H(M){Se[M?"unshift":"push"](()=>{o=M,t(0,o)})}return s.$$set=M=>{"data"in M&&t(9,i=M.data)},[o,a,c,p,d,P,I,O,A,i,z,H]}class L_ extends xe{constructor(n){super(),Ve(this,n,P_,D_,He,{data:9})}}function M_(s){let n,t;return n=new L_({props:{data:s[0]}}),{c(){ze(n.$$.fragment)},l(i){Ue(n.$$.fragment,i)},m(i,o){Ne(n,i,o),t=!0},p(i,o){const a={};o&1&&(a.data=i[0]),n.$set(a)},i(i){t||(ie(n.$$.fragment,i),t=!0)},o(i){ue(n.$$.fragment,i),t=!1},d(i){We(n,i)}}}function B_(s){let n,t;return n=new u_({}),{c(){ze(n.$$.fragment)},l(i){Ue(n.$$.fragment,i)},m(i,o){Ne(n,i,o),t=!0},p:be,i(i){t||(ie(n.$$.fragment,i),t=!0)},o(i){ue(n.$$.fragment,i),t=!1},d(i){We(n,i)}}}function F_(s){let n,t;return n=new l_({props:{data:s[0].zinnen}}),{c(){ze(n.$$.fragment)},l(i){Ue(n.$$.fragment,i)},m(i,o){Ne(n,i,o),t=!0},p(i,o){const a={};o&1&&(a.data=i[0].zinnen),n.$set(a)},i(i){t||(ie(n.$$.fragment,i),t=!0)},o(i){ue(n.$$.fragment,i),t=!1},d(i){We(n,i)}}}function z_(s){let n,t,i,o,a,u;const f=[F_,B_,M_],c=[];function d(g,p){return g[1]==="sequence"?0:g[1]==="pair"?1:2}return i=d(s),o=c[i]=f[i](s),{c(){n=N("div"),t=ne(),o.c(),a=De()},l(g){n=W(g,"DIV",{}),J(n).forEach(k),t=re(g),o.l(g),a=De()},m(g,p){U(g,n,p),U(g,t,p),c[i].m(g,p),U(g,a,p),u=!0},p(g,[p]){o.p(g,p)},i(g){u||(ie(o),u=!0)},o(g){ue(o),u=!1},d(g){g&&(k(n),k(t),k(a)),c[i].d(g)}}}function U_(s,n,t){let{data:i}=n;const o=i.quiz;return s.$$set=a=>{"data"in a&&t(0,i=a.data)},[i,o]}class N_ extends xe{constructor(n){super(),Ve(this,n,U_,z_,He,{data:0})}}function mu(s,n,t){const i=s.slice();return i[8]=n[t],i[10]=t,i}function vu(s,n,t){const i=s.slice();return i[11]=n[t],i}function bu(s,n,t){const i=s.slice();return i[14]=n[t],i}function W_(s){let n,t,i=s[3].level+"",o,a,u,f,c,d,g,p,m,v="Familie van Marc 1",P,I,O,A,z,H="Familie van Marc 2",M,ee,x=_t(s[3].themes),R=[];for(let j=0;j<x.length;j+=1)R[j]=Cu(mu(s,x,j));return{c(){n=N("div"),t=Ge("Module "),o=Ge(i),a=ne();for(let j=0;j<R.length;j+=1)R[j].c();u=ne(),f=N("h3"),c=Ge("Les "),d=Ge(ku),g=ne(),p=N("div"),m=N("a"),m.textContent=v,P=ne(),I=N("div"),O=ne(),A=N("div"),z=N("a"),z.textContent=H,this.h()},l(j){n=W(j,"DIV",{});var Z=J(n);t=je(Z,"Module "),o=je(Z,i),Z.forEach(k),a=re(j);for(let ge=0;ge<R.length;ge+=1)R[ge].l(j);u=re(j),f=W(j,"H3",{});var Y=J(f);c=je(Y,"Les "),d=je(Y,ku),Y.forEach(k),g=re(j),p=W(j,"DIV",{});var K=J(p);m=W(K,"A",{"data-svelte-h":!0}),ln(m)!=="svelte-4c9h20"&&(m.textContent=v),K.forEach(k),P=re(j),I=W(j,"DIV",{style:!0}),J(I).forEach(k),O=re(j),A=W(j,"DIV",{});var V=J(A);z=W(V,"A",{"data-svelte-h":!0}),ln(z)!=="svelte-e5fyy2"&&(z.textContent=H),V.forEach(k),this.h()},h(){S(I,"height","30px")},m(j,Z){U(j,n,Z),L(n,t),L(n,o),U(j,a,Z);for(let Y=0;Y<R.length;Y+=1)R[Y]&&R[Y].m(j,Z);U(j,u,Z),U(j,f,Z),L(f,c),L(f,d),U(j,g,Z),U(j,p,Z),L(p,m),U(j,P,Z),U(j,I,Z),U(j,O,Z),U(j,A,Z),L(A,z),M||(ee=[ae(m,"click",s[6]),ae(z,"click",s[7])],M=!0)},p(j,Z){if(Z&24){x=_t(j[3].themes);let Y;for(Y=0;Y<x.length;Y+=1){const K=mu(j,x,Y);R[Y]?R[Y].p(K,Z):(R[Y]=Cu(K),R[Y].c(),R[Y].m(u.parentNode,u))}for(;Y<R.length;Y+=1)R[Y].d(1);R.length=x.length}},i:be,o:be,d(j){j&&(k(n),k(a),k(u),k(f),k(g),k(p),k(P),k(I),k(O),k(A)),Xn(R,j),M=!1,Kt(ee)}}}function H_(s){let n,t;return n=new N_({props:{data:s[0]}}),{c(){ze(n.$$.fragment)},l(i){Ue(n.$$.fragment,i)},m(i,o){Ne(n,i,o),t=!0},p(i,o){const a={};o&1&&(a.data=i[0]),n.$set(a)},i(i){t||(ie(n.$$.fragment,i),t=!0)},o(i){ue(n.$$.fragment,i),t=!1},d(i){We(n,i)}}}function x_(s){let n,t=_t(s[8].lessons),i=[];for(let o=0;o<t.length;o+=1)i[o]=wu(vu(s,t,o));return{c(){for(let o=0;o<i.length;o+=1)i[o].c();n=De()},l(o){for(let a=0;a<i.length;a+=1)i[a].l(o);n=De()},m(o,a){for(let u=0;u<i.length;u+=1)i[u]&&i[u].m(o,a);U(o,n,a)},p(o,a){if(a&24){t=_t(o[8].lessons);let u;for(u=0;u<t.length;u+=1){const f=vu(o,t,u);i[u]?i[u].p(f,a):(i[u]=wu(f),i[u].c(),i[u].m(n.parentNode,n))}for(;u<i.length;u+=1)i[u].d(1);i.length=t.length}},d(o){o&&k(n),Xn(i,o)}}}function V_(s){let n,t=_t(s[11].quizes),i=[];for(let o=0;o<t.length;o+=1)i[o]=yu(bu(s,t,o));return{c(){for(let o=0;o<i.length;o+=1)i[o].c();n=De()},l(o){for(let a=0;a<i.length;a+=1)i[a].l(o);n=De()},m(o,a){for(let u=0;u<i.length;u+=1)i[u]&&i[u].m(o,a);U(o,n,a)},p(o,a){if(a&24){t=_t(o[11].quizes);let u;for(u=0;u<t.length;u+=1){const f=bu(o,t,u);i[u]?i[u].p(f,a):(i[u]=yu(f),i[u].c(),i[u].m(n.parentNode,n))}for(;u<i.length;u+=1)i[u].d(1);i.length=t.length}},d(o){o&&k(n),Xn(i,o)}}}function yu(s){let n,t=s[14].title+"",i,o,a;return{c(){n=N("div"),i=Ge(t),this.h()},l(u){n=W(u,"DIV",{type:!0,level:!0,name:!0,theme:!0});var f=J(n);i=je(f,t),f.forEach(k),this.h()},h(){C(n,"type",s[14].type),C(n,"level",s[3].level),C(n,"name",s[14].title),C(n,"theme",s[8].num)},m(u,f){U(u,n,f),L(n,i),o||(a=ae(n,"click",s[4]),o=!0)},p:be,d(u){u&&k(n),o=!1,a()}}}function wu(s){let n,t=s[11].num+"",i,o,a=s[11].title+"",u,f,c,d=s[11].quizes&&V_(s);return{c(){n=N("div"),i=Ge(t),o=Ge("."),u=Ge(a),f=ne(),d&&d.c(),c=De()},l(g){n=W(g,"DIV",{});var p=J(n);i=je(p,t),o=je(p,"."),u=je(p,a),p.forEach(k),f=re(g),d&&d.l(g),c=De()},m(g,p){U(g,n,p),L(n,i),L(n,o),L(n,u),U(g,f,p),d&&d.m(g,p),U(g,c,p)},p(g,p){g[11].quizes&&d.p(g,p)},d(g){g&&(k(n),k(f),k(c)),d&&d.d(g)}}}function Cu(s){let n,t=s[8].name+"",i,o,a,u=s[8].lessons&&x_(s);return{c(){n=N("div"),i=Ge(t),o=ne(),u&&u.c(),a=De()},l(f){n=W(f,"DIV",{});var c=J(n);i=je(c,t),c.forEach(k),o=re(f),u&&u.l(f),a=De()},m(f,c){U(f,n,c),L(n,i),U(f,o,c),u&&u.m(f,c),U(f,a,c)},p(f,c){f[8].lessons&&u.p(f,c)},d(f){f&&(k(n),k(o),k(a)),u&&u.d(f)}}}function q_(s){let n,t,i,o;const a=[H_,W_],u=[];function f(c,d){return c[2]?0:1}return t=f(s),i=u[t]=a[t](s),{c(){n=N("div"),i.c(),this.h()},l(c){n=W(c,"DIV",{style:!0});var d=J(n);i.l(d),d.forEach(k),this.h()},h(){S(n,"display",s[1]),S(n,"overflow-y","auto"),S(n,"height","400px")},m(c,d){U(c,n,d),u[t].m(n,null),o=!0},p(c,[d]){let g=t;t=f(c),t===g?u[t].p(c,d):(Ut(),ue(u[g],1,1,()=>{u[g]=null}),Nt(),i=u[t],i?i.p(c,d):(i=u[t]=a[t](c),i.c()),ie(i,1),i.m(n,null)),(!o||d&2)&&S(n,"display",c[1])},i(c){o||(ie(i),o=!0)},o(c){ue(i),o=!1},d(c){c&&k(n),u[t].d()}}}let ku="2";function G_(s,n,t){let{data:i}=n,{view:o}=n,a="none",u={level:"1.2",themes:[{num:"1",name:"Familie",lessons:[{num:1,title:"",quizes:[{type:"text",title:"Familie 1"},{type:"text",title:"Familie 2"},{type:"text",title:"Familie 3"}]},{num:2,title:""},{num:3,title:""}]},{num:"2",name:"In Het Restorant",lessons:[{num:1,title:"",quizes:[{type:"text",title:"In Het Restorant 1"},{type:"text",title:"In Het Restorant 2"},{type:"text",title:"In Het Restorant 3"}]},{num:2,title:""},{num:3,title:""}]},{num:"3",name:"Wonen",lessons:[{num:1,title:"",quizes:[{type:"text",title:"Wonen 1"},{type:"text",title:"Wonen 2"},{type:"text",title:"Wonen 3"}]},{num:2,title:""},{num:3,title:""}]}]},f=!1;function c(p){t(0,i.quiz=p.currentTarget.attributes[0].nodeValue,i),t(0,i.level=p.currentTarget.attributes[1].nodeValue.replace(".",""),i),t(0,i.name=p.currentTarget.attributes[2].nodeValue,i),t(0,i.theme=p.currentTarget.attributes[3].nodeValue,i),t(2,f=!0)}const d=()=>{t(2,f=!0),t(0,i.quiz="text",i),t(0,i.name="Quiz 1",i),t(0,i.level="12",i),t(0,i.theme="1",i)},g=()=>{t(2,f=!0),t(0,i.quiz="text",i),t(0,i.name="Quiz 2",i),t(0,i.level="12",i),t(0,i.theme="1",i)};return s.$$set=p=>{"data"in p&&t(0,i=p.data),"view"in p&&t(5,o=p.view)},s.$$.update=()=>{s.$$.dirty&32&&(o==="lesson"?t(1,a="block"):t(1,a="none"))},[i,a,f,u,c,o,d,g]}class j_ extends xe{constructor(n){super(),Ve(this,n,G_,q_,He,{data:0,view:5})}}function J_(s){let n,t="100",i,o,a="0";return{c(){n=N("b"),n.textContent=t,i=ne(),o=N("span"),o.textContent=a,this.h()},l(u){n=W(u,"B",{class:!0,style:!0,"data-svelte-h":!0}),ln(n)!=="svelte-1h19z5i"&&(n.textContent=t),i=re(u),o=W(u,"SPAN",{class:!0,style:!0,"data-svelte-h":!0}),ln(o)!=="svelte-1dn9ak7"&&(o.textContent=a),this.h()},h(){C(n,"class","call_cnt"),S(n,"display","none"),S(n,"position","absolute"),S(n,"left","22px"),S(n,"top","10px"),S(n,"color","#0e0cff"),S(n,"font-size","12px"),C(o,"class","badge badge-primary badge-pill call-queue"),S(o,"display","none"),S(o,"position","absolute"),S(o,"right","0px"),S(o,"bottom","0px"),S(o,"color","#0e0cff"),S(o,"font-size","12px"),S(o,"opacity","1")},m(u,f){U(u,n,f),U(u,i,f),U(u,o,f)},p:be,d(u){u&&(k(n),k(i),k(o))}}}function K_(s){let n;return{c(){n=N("div")},l(t){n=W(t,"DIV",{}),J(n).forEach(k)},m(t,i){U(t,n,i),s[23](n)},p:be,d(t){t&&k(n),s[23](null)}}}function Su(s){let n,t,i,o,a,u,f;return{c(){n=N("div"),t=Le("svg"),i=Le("glyph"),o=Le("g"),a=Le("path"),this.h()},l(c){n=W(c,"DIV",{class:!0,style:!0});var d=J(n);t=Me(d,"svg",{height:!0,width:!0,style:!0});var g=J(t);i=Me(g,"glyph",{"glyph-name":!0,unicode:!0,"horiz-adv-x":!0}),J(i).forEach(k),o=Me(g,"g",{class:!0,style:!0});var p=J(o);a=Me(p,"path",{d:!0,transform:!0,style:!0}),J(a).forEach(k),p.forEach(k),g.forEach(k),d.forEach(k),this.h()},h(){C(i,"glyph-name","ui-video-chat"),C(i,"unicode",""),C(i,"horiz-adv-x","50"),C(a,"d","M891.5 23h-783c-59.7 0-108.5 48.8-108.5 108.5v466.20000000000005c0 59.59999999999991 48.8 108.5 108.5 108.5h222.39999999999998v270.5999999999999l270.70000000000005-270.5999999999999h289.9c59.700000000000045 0 108.5-48.90000000000009 108.5-108.5v-466.20000000000005c0-59.7-48.799999999999955-108.5-108.5-108.5z m-223.5 370l-252.8 134.70000000000005c-26.30000000000001 14-47.89999999999998 1.099999999999909-47.89999999999998-28.700000000000045v-262.9c0-29.900000000000034 21.599999999999966-42.80000000000001 47.89999999999998-28.80000000000001l252.8 134.7c26.299999999999955 14 26.299999999999955 37 0 51z"),C(a,"transform","scale(.03)"),S(a,"fill","lightgrey"),S(a,"stroke","black"),S(a,"stroke-width","20px"),C(o,"class","currentLayer"),S(o,"position","absolute"),S(o,"right","0"),S(o,"top","0"),S(o,"stroke","grey"),S(o,"stroke-width","2px"),S(o,"fill","lightgrey"),S(o,"font-size","30px"),C(t,"height","30"),C(t,"width","30"),S(t,"position","absolute"),S(t,"bottom","70px"),S(t,"right","0px"),S(t,"z-index","30"),C(n,"class","video"),S(n,"position","absolute"),S(n,"top","0"),S(n,"width","100px"),S(n,"height","100px")},m(c,d){U(c,n,d),L(n,t),L(t,i),L(t,o),L(o,a),u||(f=ae(t,"click",s[17]),u=!0)},p:be,d(c){c&&k(n),u=!1,f()}}}function Eu(s){let n;function t(a,u){return a[6]?Y_:Z_}let i=t(s),o=i(s);return{c(){o.c(),n=De()},l(a){o.l(a),n=De()},m(a,u){o.m(a,u),U(a,n,u)},p(a,u){i===(i=t(a))&&o?o.p(a,u):(o.d(1),o=i(a),o&&(o.c(),o.m(n.parentNode,n)))},d(a){a&&k(n),o.d(a)}}}function Y_(s){let n,t=s[11]["Cancel Edit Call Center"][s[10]]+"",i,o,a;return{c(){n=N("h5"),i=Ge(t)},l(u){n=W(u,"H5",{});var f=J(n);i=je(f,t),f.forEach(k)},m(u,f){U(u,n,f),L(n,i),o||(a=ae(n,"click",s[31]),o=!0)},p(u,f){f[0]&3072&&t!==(t=u[11]["Cancel Edit Call Center"][u[10]]+"")&&It(i,t)},d(u){u&&k(n),o=!1,a()}}}function Z_(s){let n,t=s[11]["Edit Call Center"][s[10]]+"",i,o,a;return{c(){n=N("h5"),i=Ge(t)},l(u){n=W(u,"H5",{});var f=J(n);i=je(f,t),f.forEach(k)},m(u,f){U(u,n,f),L(n,i),o||(a=ae(n,"click",s[30]),o=!0)},p(u,f){f[0]&3072&&t!==(t=u[11]["Edit Call Center"][u[10]]+"")&&It(i,t)},d(u){u&&k(n),o=!1,a()}}}function Ou(s){let n,t=s[11]["Create my own net"][s[10]]+"",i,o,a;return{c(){n=N("h5"),i=Ge(t)},l(u){n=W(u,"H5",{});var f=J(n);i=je(f,t),f.forEach(k)},m(u,f){U(u,n,f),L(n,i),o||(a=ae(n,"click",em),o=!0)},p(u,f){f[0]&3072&&t!==(t=u[11]["Create my own net"][u[10]]+"")&&It(i,t)},d(u){u&&k(n),o=!1,a()}}}function X_(s){let n=s[11]["Language Select"][s[10]]+"",t,i,o,a,u,f,c,d,g,p,m,v,P,I,O,A,z,H,M,ee,x,R,j,Z,Y,K,V=s[7].role=="admin"&&Eu(s),ge=s[7].role=="user"&&Ou(s);return Z=I1(s[27][0]),{c(){t=Ge(n),i=Ge(`:\r
\r
		`),o=N("div"),a=N("label"),u=N("input"),f=ne(),c=N("img"),g=ne(),p=N("label"),m=N("input"),v=ne(),P=N("img"),O=ne(),A=N("label"),z=N("input"),H=ne(),M=N("img"),x=ne(),V&&V.c(),R=ne(),ge&&ge.c(),j=De(),this.h()},l(Q){t=je(Q,n),i=je(Q,`:\r
\r
		`),o=W(Q,"DIV",{style:!0});var oe=J(o);a=W(oe,"LABEL",{style:!0});var $e=J(a);u=W($e,"INPUT",{type:!0,name:!0}),f=re($e),c=W($e,"IMG",{src:!0,alt:!0}),$e.forEach(k),g=re(oe),p=W(oe,"LABEL",{style:!0});var Ee=J(p);m=W(Ee,"INPUT",{type:!0,name:!0}),v=re(Ee),P=W(Ee,"IMG",{src:!0,alt:!0}),Ee.forEach(k),O=re(oe),A=W(oe,"LABEL",{style:!0});var Ke=J(A);z=W(Ke,"INPUT",{type:!0,name:!0}),H=re(Ke),M=W(Ke,"IMG",{src:!0,alt:!0}),Ke.forEach(k),oe.forEach(k),x=re(Q),V&&V.l(Q),R=re(Q),ge&&ge.l(Q),j=De(),this.h()},h(){C(u,"type","radio"),C(u,"name","lang"),u.__value="en",nt(u,u.__value),wt(c.src,d="https://www.sic-info.org/wp-content/uploads/2014/01/gb.png")||C(c,"src",d),C(c,"alt","English"),S(a,"flex","1"),C(m,"type","radio"),C(m,"name","lang"),m.__value="fr",nt(m,m.__value),wt(P.src,I="https://www.sic-info.org/wp-content/uploads/2014/01/fr.png")||C(P,"src",I),C(P,"alt","French"),S(p,"flex","1"),C(z,"type","radio"),C(z,"name","lang"),z.__value="ru",nt(z,z.__value),wt(M.src,ee="https://www.sic-info.org/wp-content/uploads/2014/01/ru.png")||C(M,"src",ee),C(M,"alt","Russian"),S(A,"flex","1"),S(o,"display","flex"),S(o,"margin-bottom","20px"),Z.p(u,m,z)},m(Q,oe){U(Q,t,oe),U(Q,i,oe),U(Q,o,oe),L(o,a),L(a,u),u.checked=u.__value===s[10],L(a,f),L(a,c),L(o,g),L(o,p),L(p,m),m.checked=m.__value===s[10],L(p,v),L(p,P),L(o,O),L(o,A),L(A,z),z.checked=z.__value===s[10],L(A,H),L(A,M),U(Q,x,oe),V&&V.m(Q,oe),U(Q,R,oe),ge&&ge.m(Q,oe),U(Q,j,oe),Y||(K=[ae(u,"change",s[26]),ae(u,"change",s[15]),ae(m,"change",s[28]),ae(m,"change",s[15]),ae(z,"change",s[29]),ae(z,"change",s[15])],Y=!0)},p(Q,oe){oe[0]&3072&&n!==(n=Q[11]["Language Select"][Q[10]]+"")&&It(t,n),oe[0]&1024&&(u.checked=u.__value===Q[10]),oe[0]&1024&&(m.checked=m.__value===Q[10]),oe[0]&1024&&(z.checked=z.__value===Q[10]),Q[7].role=="admin"?V?V.p(Q,oe):(V=Eu(Q),V.c(),V.m(R.parentNode,R)):V&&(V.d(1),V=null),Q[7].role=="user"?ge?ge.p(Q,oe):(ge=Ou(Q),ge.c(),ge.m(j.parentNode,j)):ge&&(ge.d(1),ge=null)},d(Q){Q&&(k(t),k(i),k(o),k(x),k(R),k(j)),V&&V.d(Q),ge&&ge.d(Q),Z.r(),Y=!1,Kt(K)}}}function Q_(s){let n,t,i,o,a,u,f,c,d,g=s[2].text.msg+"",p,m,v,P,I=s[2].text.name+"",O,A,z,H,M,ee,x,R,j,Z,Y,K,V,ge,Q,oe,$e,Ee,Ke,ot,Re,ye,ce,Pe,Ze,st,ft;const At=[s[2].video];let Dt={};for(let $=0;$<At.length;$+=1)Dt=mr(Dt,At[$]);i=new Gg({props:Dt});function dn($){s[22]($)}let Qn={OnLongPress:$_,$$slots:{default:[J_]},$$scope:{ctx:s}};s[1]!==void 0&&(Qn.status=s[1]),a=new Pg({props:Qn}),Se.push(()=>lt(a,"status",dn)),a.$on("click",s[16]);const te=[s[9].video];let ct={$$slots:{footer:[K_]},$$scope:{ctx:s}};for(let $=0;$<te.length;$+=1)ct=mr(ct,te[$]);H=new H1({props:ct});let Xe=s[5]&&Su(s);const pt=[s[9].audio];function Bn($){s[24]($)}let $n={};for(let $=0;$<pt.length;$+=1)$n=mr($n,pt[$]);s[9].audio.paused!==void 0&&($n.paused=s[9].audio.paused),R=new Zg({props:$n}),Se.push(()=>lt(R,"paused",Bn));const Wt=[s[2].audio];function Vr($){s[25]($)}let er={};for(let $=0;$<Wt.length;$+=1)er=mr(er,Wt[$]);s[2].audio.srcObject!==void 0&&(er.srcObject=s[2].audio.srcObject),Y=new $g({props:er}),Se.push(()=>lt(Y,"srcObject",Vr)),ge=new n_({}),oe=new Jg({}),Ee=new xg({props:{padding:"25px",$$slots:{default:[X_]},$$scope:{ctx:s}}});function Fn($){s[33]($)}function Ht($){s[34]($)}let pn={view:s[12],tarif:s[0]};return s[1]!==void 0&&(pn.status=s[1]),s[7]!==void 0&&(pn.operator=s[7]),ye=new Sg({props:pn}),s[32](ye),Se.push(()=>lt(ye,"status",Fn)),Se.push(()=>lt(ye,"operator",Ht)),st=new j_({props:{view:s[12],data:s[13][0].staff}}),{c(){n=N("div"),t=N("div"),ze(i.$$.fragment),o=ne(),ze(a.$$.fragment),f=ne(),c=N("div"),d=N("p"),p=Ge(g),m=ne(),v=N("br"),P=ne(),O=Ge(I),A=ne(),z=N("div"),ze(H.$$.fragment),M=ne(),Xe&&Xe.c(),ee=ne(),x=N("div"),ze(R.$$.fragment),Z=ne(),ze(Y.$$.fragment),V=ne(),ze(ge.$$.fragment),Q=ne(),ze(oe.$$.fragment),$e=ne(),ze(Ee.$$.fragment),Ke=ne(),ot=N("progress"),Re=ne(),ze(ye.$$.fragment),Ze=ne(),ze(st.$$.fragment),this.h()},l($){n=W($,"DIV",{style:!0});var _e=J(n);t=W(_e,"DIV",{style:!0});var Rt=J(t);Ue(i.$$.fragment,Rt),o=re(Rt),Ue(a.$$.fragment,Rt),f=re(Rt),c=W(Rt,"DIV",{class:!0,style:!0});var En=J(c);d=W(En,"P",{class:!0,style:!0});var Ct=J(d);p=je(Ct,g),m=re(Ct),v=W(Ct,"BR",{}),P=re(Ct),O=je(Ct,I),Ct.forEach(k),En.forEach(k),Rt.forEach(k),A=re(_e),z=W(_e,"DIV",{style:!0});var Pt=J(z);Ue(H.$$.fragment,Pt),M=re(Pt),Xe&&Xe.l(Pt),Pt.forEach(k),ee=re(_e),x=W(_e,"DIV",{style:!0});var kt=J(x);Ue(R.$$.fragment,kt),Z=re(kt),Ue(Y.$$.fragment,kt),V=re(kt),Ue(ge.$$.fragment,kt),Q=re(kt),Ue(oe.$$.fragment,kt),kt.forEach(k),$e=re(_e),Ue(Ee.$$.fragment,_e),_e.forEach(k),Ke=re($),ot=W($,"PROGRESS",{id:!0,max:!0,duration:!0,style:!0}),J(ot).forEach(k),Re=re($),Ue(ye.$$.fragment,$),Ze=re($),Ue(st.$$.fragment,$),this.h()},h(){C(d,"class","remote_msg"),S(d,"font-size",".7em"),S(d,"white-space","nowrap"),S(d,"color","white"),S(d,"margin","auto"),S(d,"text-align","center"),C(c,"class","remote_text_display"),S(c,"display",s[2].text.display),S(c,"position","absolute"),S(c,"z-index","21"),S(c,"background-color","rgba(125, 125, 125, 0.8)"),S(c,"top","90px"),S(c,"left","2px"),S(t,"flex","1"),S(z,"position","absolute"),S(z,"flex","1 1 0%"),S(x,"flex","3"),S(n,"display","flex"),S(n,"min-height","100px"),S(n,"flex-wrap","nowrap"),S(n,"justify-content","space-between"),C(ot,"id","dataProgress"),ot.value=s[14].value,C(ot,"max","100"),C(ot,"duration","200"),S(ot,"display",s[14].display),S(ot,"top","100px"),S(ot,"width","98%")},m($,_e){U($,n,_e),L(n,t),Ne(i,t,null),L(t,o),Ne(a,t,null),L(t,f),L(t,c),L(c,d),L(d,p),L(d,m),L(d,v),L(d,P),L(d,O),L(n,A),L(n,z),Ne(H,z,null),L(z,M),Xe&&Xe.m(z,null),L(n,ee),L(n,x),Ne(R,x,null),L(x,Z),Ne(Y,x,null),L(x,V),Ne(ge,x,null),L(x,Q),Ne(oe,x,null),L(n,$e),Ne(Ee,n,null),U($,Ke,_e),U($,ot,_e),U($,Re,_e),Ne(ye,$,_e),U($,Ze,_e),Ne(st,$,_e),ft=!0},p($,_e){const Rt=_e[0]&4?vr(At,[br($[2].video)]):{};i.$set(Rt);const En={};_e[1]&131072&&(En.$$scope={dirty:_e,ctx:$}),!u&&_e[0]&2&&(u=!0,En.status=$[1],it(()=>u=!1)),a.$set(En),(!ft||_e[0]&4)&&g!==(g=$[2].text.msg+"")&&It(p,g),(!ft||_e[0]&4)&&I!==(I=$[2].text.name+"")&&It(O,I),(!ft||_e[0]&4)&&S(c,"display",$[2].text.display);const Ct=_e[0]&512?vr(te,[br($[9].video)]):{};_e[0]&256|_e[1]&131072&&(Ct.$$scope={dirty:_e,ctx:$}),H.$set(Ct),$[5]?Xe?Xe.p($,_e):(Xe=Su($),Xe.c(),Xe.m(z,null)):Xe&&(Xe.d(1),Xe=null);const Pt=_e[0]&512?vr(pt,[br($[9].audio)]):{};!j&&_e[0]&512&&(j=!0,Pt.paused=$[9].audio.paused,it(()=>j=!1)),R.$set(Pt);const kt=_e[0]&4?vr(Wt,[br($[2].audio)]):{};!K&&_e[0]&4&&(K=!0,kt.srcObject=$[2].audio.srcObject,it(()=>K=!1)),Y.$set(kt);const tr={};_e[0]&3272|_e[1]&131072&&(tr.$$scope={dirty:_e,ctx:$}),Ee.$set(tr);const gn={};_e[0]&4096&&(gn.view=$[12]),_e[0]&1&&(gn.tarif=$[0]),!ce&&_e[0]&2&&(ce=!0,gn.status=$[1],it(()=>ce=!1)),!Pe&&_e[0]&128&&(Pe=!0,gn.operator=$[7],it(()=>Pe=!1)),ye.$set(gn);const zn={};_e[0]&4096&&(zn.view=$[12]),_e[0]&8192&&(zn.data=$[13][0].staff),st.$set(zn)},i($){ft||(ie(i.$$.fragment,$),ie(a.$$.fragment,$),ie(H.$$.fragment,$),ie(R.$$.fragment,$),ie(Y.$$.fragment,$),ie(ge.$$.fragment,$),ie(oe.$$.fragment,$),ie(Ee.$$.fragment,$),ie(ye.$$.fragment,$),ie(st.$$.fragment,$),ft=!0)},o($){ue(i.$$.fragment,$),ue(a.$$.fragment,$),ue(H.$$.fragment,$),ue(R.$$.fragment,$),ue(Y.$$.fragment,$),ue(ge.$$.fragment,$),ue(oe.$$.fragment,$),ue(Ee.$$.fragment,$),ue(ye.$$.fragment,$),ue(st.$$.fragment,$),ft=!1},d($){$&&(k(n),k(Ke),k(ot),k(Re),k(Ze)),We(i),We(a),We(H),Xe&&Xe.d(),We(R),We(Y),We(ge),We(oe),We(Ee),s[32](null),We(ye,$),We(st,$)}}}function $_(){select.display=!0}const em=()=>{};function tm(s,n,t){let i,o,a,u,f,c,d,g,p;Ie(s,rn,te=>t(10,i=te)),Ie(s,Cr,te=>t(39,o=te)),Ie(s,Hr,te=>t(20,a=te)),Ie(s,xr,te=>t(40,u=te)),Ie(s,Nu,te=>t(21,f=te)),Ie(s,Wr,te=>t(3,c=te)),Ie(s,Li,te=>t(11,d=te)),Ie(s,T1,te=>t(12,g=te)),Ie(s,kr,te=>t(13,p=te));let m,v,{tarif:P}=n,I,O="inactive",A,z=!1,H=!1,{email:M,abonent:ee}=n;const x=wr(M);let R={type:"operator",em:M,abonent:ee,uid:x};R.em===ee?R.role="admin":R.role="user";let j;async function Z(te){te.func="callwaiting",fetch(u+`/operator?func=${te.func}&uid=${te.uid}&role=${te.role}&abonent=${te.abonent}&em=${te.em}&type=${te.type}`).then(ct=>ct.json()).then(ct=>{Array.isArray(ct.resp)?ct.resp.map(Xe=>{zt(Hr,a=Xe,a)}):zt(Hr,a=ct.resp,a),Z(te)}).catch(ct=>(console.log(ct),[]))}Tt(async()=>{try{v=new Ag(R,x,o),Q(),v.SendCheck(),Z(R)}catch{console.log()}});let Y={display:"block",value:0},K={video:{display:"none",srcObject:"",poster:""},audio:{paused:!0,src:""}},V={text:{display:"none",msg:"You have a call from:",name:"",email:""},video:{display:"none",srcObject:"",poster:""},audio:{muted:!0,srcObject:""}};Tu("abonent",ee);function ge(te){zt(rn,i=te.target.attributes[2].nodeValue,i)}async function Q(){v.PlayCallCnt=()=>{I=10,t(9,K.audio.paused=!1,K),A=setInterval(function(){I--,I===0&&(clearInterval(A),t(9,K.audio.paused=!0,K))},2e3)},v.GetRemoteAudio=()=>V.audio.srcObject,v.SetRemoteAudio=te=>{te&&t(2,V.audio.srcObject=te,V)},v.GetRemoteVideo=()=>V.video.srcObject,v.SetLocalVideo=te=>{te&&t(9,K.video.srcObject=te,K)},v.SetRemoteVideo=te=>{O==="talk"&&(t(2,V.video.poster="",V),t(2,V.video.srcObject=te,V),t(2,V.video.display="block",V),t(9,K.audio.paused=!0,K))}}function oe(){try{if(!window.AudioContext){window.AudioContext=window.AudioContext||window.webkitAudioContext;let te=new AudioContext;v.localSoundSrc=te.createMediaElementSource(window.user.localSound),v.localSoundSrc.connect(te.destination)}}catch{console.log("Web Audio API is not supported in this browser")}switch(O){case"inactive":v.Offer(),t(1,O="active");break;case"active":t(1,O="inactive"),v.OnInactive();break;case"call":t(1,O="talk"),clearInterval(A),t(9,K.audio.paused=!0,K),t(2,V.audio.muted=!1,V),v.OnTalk(),t(5,z=!0),t(2,V.text.display="block",V);const te=new Event("talk");document.getElementsByTagName("body")[0].dispatchEvent(te);break;case"talk":v.OnInactive(),t(2,V.audio.muted=!0,V),t(9,K.video.display="none",K),t(5,z=!1),t(2,V.video.display="none",V),t(2,V.video.srcObject="",V),t(2,V.video.poster="",V),t(2,V.text.display="none",V),t(2,V.text.name="",V),t(2,V.text.email="",V),t(1,O="inactive");break;case"muted":t(1,O="inactive"),t(9,K.video.srcObject="",K),t(2,V.audio.muted=!0,V),t(2,V.video.display="none",V),t(2,V.video.srcObject="",V),t(2,V.video.poster="",V),t(2,V.text.display="none",V),v.OnInactive();break;default:return}}function $e(){t(1,O="talk"),t(9,K.audio.paused=!0,K),t(9,K.video.display="block",K),v.DC.dc.readyState==="open"&&v.GetUserMedia({audio:1,video:1},function(){v.SendVideoOffer(v.main_pc)})}function Ee(te,ct){if(te.func==="mute"&&(t(9,K.audio.paused=!0,K),t(2,V.audio.muted=!0,V),t(5,z=!1),t(9,K.video.display="none",K),t(9,K.video.srcObject="",K),t(2,V.video.srcObject="",V),t(2,V.video.poster="",V),t(2,V.video.display="none",V),t(2,V.text.name="",V),t(2,V.text.email="",V),t(2,V.text.display="none",V),v.OnInactive(),O==="talk"?t(1,O="inactive"):O==="call"&&(t(1,O="inactive"),v.OnMute(),oe()),ct&&ct()),(te.call||te.func==="call")&&(t(1,O="call"),v.OnCall(),t(2,V.text.display="block",V),te.profile)){let Xe=te.profile,pt=Xe.src;t(2,V.video.poster=pt,V),pt&&t(2,V.video.display="block",V),t(2,V.text.name=Xe.name,V),t(2,V.text.email=Xe.email,V)}te.desc,te.camera&&t(9,K.video.src=that.localStream,K),te.status==="wait"&&(t(2,V.text.display="block",V),t(2,V.text.msg="You have a waiting call",V))}const Ke=[[]];function ot(te){O=te,t(1,O)}function Re(te){Se[te?"unshift":"push"](()=>{j=te,t(8,j)})}function ye(te){s.$$.not_equal(K.audio.paused,te)&&(K.audio.paused=te,t(9,K))}function ce(te){s.$$.not_equal(V.audio.srcObject,te)&&(V.audio.srcObject=te,t(2,V))}function Pe(){i=this.__value,rn.set(i)}function Ze(){i=this.__value,rn.set(i)}function st(){i=this.__value,rn.set(i)}const ft=()=>zt(Wr,c=!0,c),At=()=>zt(Wr,c=!1,c);function Dt(te){Se[te?"unshift":"push"](()=>{m=te,t(4,m)})}function dn(te){O=te,t(1,O)}function Qn(te){R=te,t(7,R)}return s.$$set=te=>{"tarif"in te&&t(0,P=te.tarif),"email"in te&&t(18,M=te.email),"abonent"in te&&t(19,ee=te.abonent)},s.$$.update=()=>{s.$$.dirty[0]&1048576&&a&&Ee(a),s.$$.dirty[0]&2&&Mi.set(O),s.$$.dirty[0]&8&&c&&t(6,H=c),s.$$.dirty[0]&2097152&&f&&Ee(f),s.$$.dirty[0]&4&&V.text.msg&&console.log(V.text.msg)},[P,O,V,c,m,z,H,R,j,K,i,d,g,p,Y,ge,oe,$e,M,ee,a,f,ot,Re,ye,ce,Pe,Ke,Ze,st,ft,At,Dt,dn,Qn]}class nm extends xe{constructor(n){super(),Ve(this,n,tm,Q_,He,{tarif:0,email:18,abonent:19},null,[-1,-1])}}function rm(s){let n,t,i,o,a,u,f,c,d,g,p,m,v,P,I,O,A,z;return{c(){n=N("form"),t=N("div"),i=N("input"),o=ne(),a=N("input"),u=ne(),f=N("input"),c=ne(),d=N("div"),g=N("img"),m=ne(),v=N("div"),P=N("input"),I=ne(),O=N("input"),this.h()},l(H){n=W(H,"FORM",{});var M=J(n);t=W(M,"DIV",{id:!0});var ee=J(t);i=W(ee,"INPUT",{type:!0,placeholder:!0}),o=re(ee),a=W(ee,"INPUT",{type:!0,placeholder:!0}),u=re(ee),f=W(ee,"INPUT",{class:!0,accept:!0,id:!0,name:!0,type:!0,style:!0}),c=re(ee),d=W(ee,"DIV",{});var x=J(d);g=W(x,"IMG",{class:!0,src:!0,alt:!0,style:!0}),x.forEach(k),m=re(ee),v=W(ee,"DIV",{});var R=J(v);P=W(R,"INPUT",{type:!0,placeholder:!0}),I=re(R),O=W(R,"INPUT",{type:!0,placeholder:!0}),R.forEach(k),ee.forEach(k),M.forEach(k),this.h()},h(){C(i,"type","email"),C(i,"placeholder","input your email"),i.required=!0,C(a,"type","text"),C(a,"placeholder","input your name"),a.required=!0,C(f,"class","file-upload"),C(f,"accept","image/png, image/jpeg"),C(f,"id","avatar"),C(f,"name","avatar"),C(f,"type","file"),S(f,"display","none"),C(g,"class","user_pic is-rounded"),wt(g.src,p=s[1])||C(g,"src",p),C(g,"alt",""),S(g,"border-radius","5px"),S(g,"max-width","10%"),C(P,"type","password"),C(P,"placeholder","input your password"),P.required=!0,C(O,"type","password"),C(O,"placeholder","repeat your password"),O.required=!0,C(t,"id","inputs")},m(H,M){U(H,n,M),L(n,t),L(t,i),nt(i,s[4]),L(t,o),L(t,a),nt(a,s[0]),L(t,u),L(t,f),s[15](f),L(t,c),L(t,d),L(d,g),L(t,m),L(t,v),L(v,P),nt(P,s[5]),L(v,I),L(v,O),nt(O,s[6]),A||(z=[ae(i,"input",s[13]),ae(a,"input",s[14]),ae(a,"change",s[7]),ae(f,"change",s[9]),ae(f,"change",s[16]),ae(g,"click",s[8]),ae(P,"input",s[17]),ae(O,"input",s[18]),ae(O,"change",s[7])],A=!0)},p(H,[M]){M&16&&i.value!==H[4]&&nt(i,H[4]),M&1&&a.value!==H[0]&&nt(a,H[0]),M&2&&!wt(g.src,p=H[1])&&C(g,"src",p),M&32&&P.value!==H[5]&&nt(P,H[5]),M&64&&O.value!==H[6]&&nt(O,H[6])},i:be,o:be,d(H){H&&k(n),s[15](null),A=!1,Kt(z)}}}function im(s,n,t){let i;Ie(s,Cr,Z=>t(21,i=Z));let{user_name:o,user_pic:a}=n,{lang:u="en",checked:f,abonent:c,upload:d,files:g}=n,p="",m="demo",v="demo",P,I;a||(a=zu),Tt(async()=>{});async function O(Z){let Y={};Y.proj="kolmit",Y.func="operator",Y.abonent=c,Y.email=p,Y.psw=wr(m),Y.img=a,Y.lang=u,(await new Promise((ge,Q)=>{i.SendMessage(Y,oe=>{ge(oe)})})).func===Y.func&&t(10,f=!0)}function A(Z){let Y=new MouseEvent("click",{bubbles:!1,cancelable:!0,view:window});d&&d.dispatchEvent(Y)}function z(Z){try{so(Z.target.files[0],function(Y,K){Y.type==="error"?console.error("Error loading image "):(P=Y.width,I=Y.height,t(1,a=Y.toDataURL()))},{orientation:!0,maxWidth:100,maxHeight:100,minWidth:50,minHeight:50,canvas:!0})}catch(Y){console.log(Y)}}function H(){p=this.value,t(4,p)}function M(){o=this.value,t(0,o)}function ee(Z){Se[Z?"unshift":"push"](()=>{d=Z,t(2,d)})}function x(){g=this.files,t(3,g)}function R(){m=this.value,t(5,m)}function j(){v=this.value,t(6,v)}return s.$$set=Z=>{"user_name"in Z&&t(0,o=Z.user_name),"user_pic"in Z&&t(1,a=Z.user_pic),"lang"in Z&&t(11,u=Z.lang),"checked"in Z&&t(10,f=Z.checked),"abonent"in Z&&t(12,c=Z.abonent),"upload"in Z&&t(2,d=Z.upload),"files"in Z&&t(3,g=Z.files)},[o,a,d,g,p,m,v,O,A,z,f,u,c,H,M,ee,x,R,j]}class lm extends xe{constructor(n){super(),Ve(this,n,im,rm,He,{user_name:0,user_pic:1,lang:11,checked:10,abonent:12,upload:2,files:3})}}let xu;xr.subscribe(s=>{xu=s});const om={"Content-Type":"application/json"};class sm{constructor(n){this.msg_signal_oper=Hr,this.msg_signal_user=yr,this.operator=n}async SendMessage(n,t){n.operator=this.operator,fetch(xu+"/",{method:"POST",body:JSON.stringify({par:n}),headers:{headers:om}}).then(i=>i.json()).then(i=>{t&&t(i)}).catch(i=>(console.log(i),[]))}}function um(s){let n,t,i,o,a,u;function f(p){s[6](p)}let c={};s[1]!==void 0&&(c.$langs=s[1]),n=new B1({props:c}),Se.push(()=>lt(n,"$langs",f));function d(p){s[7](p)}let g={"data-sveltekit-prefetch":!0,abonent:s[4],user_pic:s[2],lang:s[1]};return s[0]!==void 0&&(g.checked=s[0]),o=new lm({props:g}),Se.push(()=>lt(o,"checked",d)),{c(){ze(n.$$.fragment),i=ne(),ze(o.$$.fragment)},l(p){Ue(n.$$.fragment,p),i=re(p),Ue(o.$$.fragment,p)},m(p,m){Ne(n,p,m),U(p,i,m),Ne(o,p,m),u=!0},p(p,m){const v={};!t&&m&2&&(t=!0,v.$langs=p[1],it(()=>t=!1)),n.$set(v);const P={};m&2&&(P.lang=p[1]),!a&&m&1&&(a=!0,P.checked=p[0],it(()=>a=!1)),o.$set(P)},i(p){u||(ie(n.$$.fragment,p),ie(o.$$.fragment,p),u=!0)},o(p){ue(n.$$.fragment,p),ue(o.$$.fragment,p),u=!1},d(p){p&&k(i),We(n,p),We(o,p)}}}function am(s){let n,t;return n=new nm({props:{email:s[3],abonent:s[4]}}),{c(){ze(n.$$.fragment)},l(i){Ue(n.$$.fragment,i)},m(i,o){Ne(n,i,o),t=!0},p:be,i(i){t||(ie(n.$$.fragment,i),t=!0)},o(i){ue(n.$$.fragment,i),t=!1},d(i){We(n,i)}}}function fm(s){let n,t,i,o;const a=[am,um],u=[];function f(c,d){return c[0]?0:1}return n=f(s),t=u[n]=a[n](s),{c(){t.c(),i=De()},l(c){t.l(c),i=De()},m(c,d){u[n].m(c,d),U(c,i,d),o=!0},p(c,[d]){let g=n;n=f(c),n===g?u[n].p(c,d):(Ut(),ue(u[g],1,1,()=>{u[g]=null}),Nt(),t=u[n],t?t.p(c,d):(t=u[n]=a[n](c),t.c()),ie(t,1),t.m(i.parentNode,i))},i(c){o||(ie(t),o=!0)},o(c){ue(t),o=!1},d(c){c&&k(i),u[n].d(c)}}}function cm(s,n,t){let i,o,a,u,f,c;Ie(s,kr,O=>t(8,i=O)),Ie(s,N0,O=>t(9,o=O)),Ie(s,Li,O=>t(10,a=O)),Ie(s,rn,O=>t(1,u=O)),Ie(s,xr,O=>t(11,f=O)),Ie(s,Cr,O=>t(12,c=O));let{data:d}=n,g=d.check,p=d.picture?d.picture.medium:"";const m=d.operator,v=d.abonent;zt(Cr,c=new sm(m),c),zt(xr,f="http://localhost:5173",f),zt(rn,u=d.lang,u),zt(Li,a=d.dict[0],a),zt(N0,o=d.ice_conf,o),zt(kr,i=JSON.parse(d.users),i),Tu("users",i),Tt(async()=>{});function P(O){u=O,rn.set(u)}function I(O){g=O,t(0,g)}return s.$$set=O=>{"data"in O&&t(5,d=O.data)},[g,u,p,m,v,d,P,I]}class bm extends xe{constructor(n){super(),Ve(this,n,cm,fm,He,{data:5})}}export{bm as component,_m as universal};
