import{s as ht,d as Kr,u as qr,g as Jr,e as Yr,r as cr,b as Ze,f as yn,c as Kt,h as mi,o as Wn,n as Xe,i as w0,j as At,k as $d,l as Wr,m as ep}from"../chunks/scheduler.570d4bd4.js";import{S as dt,i as pt,g as W,h as H,j as N,f as E,l as T,a as Q,B as Re,d as se,t as he,s as ee,c as te,k as C,A as I,D as pn,p as Sn,b as Cn,e as lt,x as We,z as He,E as Tt,r as ot,u as ft,v as at,w as ct,F as Ml,m as _e,n as me,y as Vr,o as Fe,G as so,H as tp}from"../chunks/index.3ae6d580.js";import{p as np}from"../chunks/stores.946e0483.js";import{w as On}from"../chunks/index.44fd05d3.js";import"../chunks/singletons.c3a43c16.js";function Gr(u){return(u==null?void 0:u.length)!==void 0?u:Array.from(u)}function Hr(u,r){const n={},l={},s={$$scope:1};let c=u.length;for(;c--;){const f=u[c],a=r[c];if(a){for(const p in f)p in a||(l[p]=1);for(const p in a)s[p]||(n[p]=a[p],s[p]=1);u[c]=a}else for(const p in f)s[p]=1}for(const f in l)f in n||(n[f]=void 0);return n}function zr(u){return typeof u=="object"&&u!==null?u:{}}let _i=On(!1),Nn=On(),y0=On();Nn.subscribe(u=>{});let Ho=On(),Fl=On(),vi=On(),bi=On(),zo=On(),S0=On();var Nr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ul(u){return u&&u.__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u}/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var gi=rp;function rp(u,r){if(typeof u!="string")throw new TypeError("argument str must be a string");for(var n={},l=r||{},s=l.decode||ip,c=0;c<u.length;){var f=u.indexOf("=",c);if(f===-1)break;var a=u.indexOf(";",c);if(a===-1)a=u.length;else if(a<f){c=u.lastIndexOf(";",f-1)+1;continue}var p=u.slice(c,f).trim();if(n[p]===void 0){var d=u.slice(f+1,a).trim();d.charCodeAt(0)===34&&(d=d.slice(1,-1)),n[p]=lp(d,s)}c=a+1}return n}function ip(u){return u.indexOf("%")!==-1?decodeURIComponent(u):u}function lp(u,r){try{return r(u)}catch{return u}}var Vo={exports:{}};(function(u){(function(r){var n=r.URL||r.webkitURL;function l(d){return n?n.createObjectURL(d):!1}function s(d){return n?n.revokeObjectURL(d):!1}function c(d,g){d&&d.slice(0,5)==="blob:"&&!(g&&g.noRevoke)&&s(d)}function f(d,g,b,m){if(!r.FileReader)return!1;var w=new FileReader;w.onload=function(){g.call(w,this.result)},b&&(w.onabort=w.onerror=function(){b.call(w,this.error)});var P=w[m||"readAsDataURL"];if(P)return P.call(w,d),w}function a(d,g){return Object.prototype.toString.call(g)==="[object "+d+"]"}function p(d,g,b){function m(w,P){var L=document.createElement("img"),U;function z(q,B){if(w===P){w&&w(q,B);return}else if(q instanceof Error){P(q);return}B=B||{},B.image=q,w(B)}function Z(q,B){B&&r.console&&console.log(B),q&&a("Blob",q)?(d=q,U=l(d)):(U=d,b&&b.crossOrigin&&(L.crossOrigin=b.crossOrigin)),L.src=U}if(L.onerror=function(q){c(U,b),P&&P.call(L,q)},L.onload=function(){c(U,b);var q={originalWidth:L.naturalWidth||L.width,originalHeight:L.naturalHeight||L.height};try{p.transform(L,b,z,d,q)}catch(B){P&&P(B)}},typeof d=="string")return p.requiresMetaData(b)?p.fetchBlob(d,Z,b):Z(),L;if(a("Blob",d)||a("File",d))return U=l(d),U?(L.src=U,L):f(d,function(q){L.src=q},P)}return r.Promise&&typeof g!="function"?(b=g,new Promise(m)):m(g,g)}p.requiresMetaData=function(d){return d&&d.meta},p.fetchBlob=function(d,g){g()},p.transform=function(d,g,b,m,w){b(d,w)},p.global=r,p.readFile=f,p.isInstanceOf=a,p.createObjectURL=l,p.revokeObjectURL=s,u.exports?u.exports=p:r.loadImage=p})(typeof window<"u"&&window||Nr)})(Vo);var Go=Vo.exports;const sp=Ul(Go);var up={exports:{}};(function(u){(function(r){u.exports?r(Go):r(window.loadImage)})(function(r){var n=r.transform;r.createCanvas=function(l,s,c){if(c&&r.global.OffscreenCanvas)return new OffscreenCanvas(l,s);var f=document.createElement("canvas");return f.width=l,f.height=s,f},r.transform=function(l,s,c,f,a){n.call(r,r.scale(l,s,a),s,c,f,a)},r.transformCoordinates=function(){},r.getTransformedOptions=function(l,s){var c=s.aspectRatio,f,a,p,d;if(!c)return s;f={};for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(f[a]=s[a]);return f.crop=!0,p=l.naturalWidth||l.width,d=l.naturalHeight||l.height,p/d>c?(f.maxWidth=d*c,f.maxHeight=d):(f.maxWidth=p,f.maxHeight=p/c),f},r.drawImage=function(l,s,c,f,a,p,d,g,b){var m=s.getContext("2d");return b.imageSmoothingEnabled===!1?(m.msImageSmoothingEnabled=!1,m.imageSmoothingEnabled=!1):b.imageSmoothingQuality&&(m.imageSmoothingQuality=b.imageSmoothingQuality),m.drawImage(l,c,f,a,p,0,0,d,g),m},r.requiresCanvas=function(l){return l.canvas||l.crop||!!l.aspectRatio},r.scale=function(l,s,c){s=s||{},c=c||{};var f=l.getContext||r.requiresCanvas(s)&&!!r.global.HTMLCanvasElement,a=l.naturalWidth||l.width,p=l.naturalHeight||l.height,d=a,g=p,b,m,w,P,L,U,z,Z,q,B,J,R;function $(){var re=Math.max((w||d)/d,(P||g)/g);re>1&&(d*=re,g*=re)}function j(){var re=Math.min((b||d)/d,(m||g)/g);re<1&&(d*=re,g*=re)}if(f&&(s=r.getTransformedOptions(l,s,c),z=s.left||0,Z=s.top||0,s.sourceWidth?(L=s.sourceWidth,s.right!==void 0&&s.left===void 0&&(z=a-L-s.right)):L=a-z-(s.right||0),s.sourceHeight?(U=s.sourceHeight,s.bottom!==void 0&&s.top===void 0&&(Z=p-U-s.bottom)):U=p-Z-(s.bottom||0),d=L,g=U),b=s.maxWidth,m=s.maxHeight,w=s.minWidth,P=s.minHeight,f&&b&&m&&s.crop?(d=b,g=m,J=L/U-b/m,J<0?(U=m*L/b,s.top===void 0&&s.bottom===void 0&&(Z=(p-U)/2)):J>0&&(L=b*U/m,s.left===void 0&&s.right===void 0&&(z=(a-L)/2))):((s.contain||s.cover)&&(w=b=b||w,P=m=m||P),s.cover?(j(),$()):($(),j())),f){if(q=s.pixelRatio,q>1&&!(l.style.width&&Math.floor(parseFloat(l.style.width,10))===Math.floor(a/q))&&(d*=q,g*=q),r.orientationCropBug&&!l.getContext&&(z||Z||L!==a||U!==p)&&(J=l,l=r.createCanvas(a,p,!0),r.drawImage(J,l,0,0,a,p,a,p,s)),B=s.downsamplingRatio,B>0&&B<1&&d<L&&g<U)for(;L*B>d;)R=r.createCanvas(L*B,U*B,!0),r.drawImage(l,R,z,Z,L,U,R.width,R.height,s),z=0,Z=0,L=R.width,U=R.height,l=R;return R=r.createCanvas(d,g),r.transformCoordinates(R,s,c),q>1&&(R.style.width=R.width/q+"px"),r.drawImage(l,R,z,Z,L,U,d,g,s).setTransform(1,0,0,1,0,0),R}return l.width=d,l.height=g,l}})})(up);function op(u){let r,n,l,s;const c=u[4].default,f=Kr(c,u,u[3],null);return{c(){r=W("div"),f&&f.c(),this.h()},l(a){r=H(a,"DIV",{style:!0});var p=N(r);f&&f.l(p),p.forEach(E),this.h()},h(){T(r,"position","relative"),T(r,"right","0px"),T(r,"top","70px")},m(a,p){Q(a,r,p),f&&f.m(r,null),n=!0,l||(s=Re(r,"click",u[0]),l=!0)},p(a,[p]){f&&f.p&&(!n||p&8)&&qr(f,c,a,a[3],n?Yr(c,a[3],p,null):Jr(a[3]),null)},i(a){n||(se(f,a),n=!0)},o(a){he(f,a),n=!1},d(a){a&&E(r),f&&f.d(a),l=!1,s()}}}function fp(u,r,n){let{$$slots:l={},$$scope:s}=r,{status:c}=r,{operator:f}=r;async function a(){document.querySelector("[src*='"+f+"']").contentWindow.document.querySelector(".callButton"),await new Promise(function(g,b){window.rtc.DC&&(window.rtc.DC.SendRedirect({operator:f},g),window.rtc.OnMessage({func:"mute"}))}),n(1,c="mute")}return u.$$set=p=>{"status"in p&&n(1,c=p.status),"operator"in p&&n(2,f=p.operator),"$$scope"in p&&n(3,s=p.$$scope)},[a,c,f,s,l]}class ap extends dt{constructor(r){super(),pt(this,r,fp,op,ht,{status:1,operator:2})}}function cp(u){let r,n,l,s,c,f;const a=u[6].default,p=Kr(a,u,u[5],null);return{c(){r=W("div"),p&&p.c(),n=ee(),l=W("input"),this.h()},l(d){r=H(d,"DIV",{style:!0});var g=N(r);p&&p.l(g),n=te(g),l=H(g,"INPUT",{class:!0,accept:!0,id:!0,name:!0,type:!0,style:!0}),g.forEach(E),this.h()},h(){C(l,"class","file-upload"),C(l,"accept","*,*"),C(l,"id","file"),C(l,"name","file"),C(l,"type","file"),T(l,"display","none"),T(r,"position","relative"),T(r,"right","0px"),T(r,"top","70px")},m(d,g){Q(d,r,g),p&&p.m(r,null),I(r,n),I(r,l),u[7](l),s=!0,c||(f=[Re(l,"change",u[3]),Re(l,"change",u[8]),Re(r,"click",u[2])],c=!0)},p(d,[g]){p&&p.p&&(!s||g&32)&&qr(p,a,d,d[5],s?Yr(a,d[5],g,null):Jr(d[5]),null)},i(d){s||(se(p,d),s=!0)},o(d){he(p,d),s=!1},d(d){d&&E(r),p&&p.d(d),u[7](null),c=!1,cr(f)}}}function hp(u,r,n){let{$$slots:l={},$$scope:s}=r,c,{operator:f}=r,a,p=globalThis;function d(w){let P=new PointerEvent("click",{bubbles:!1,cancelable:!0,view:p});document.getElementById("file").dispatchEvent(P)}async function g(w){try{let P=document.querySelector("[src*='"+f+"']"),U=await new Promise(function(z,Z){let q=new FileReader;P.contentWindow.user?(q.onload=B=>{P.contentWindow.user.DC.SendFile(B.target.result,file.name)},q.readAsArrayBuffer(w.target.files[0])):(q.onload=B=>{p.rtc.DC.SendFile(B.target.result,file.name)},q.readAsArrayBuffer(w.target.files[0]))})}catch{}}function b(w){Ze[w?"unshift":"push"](()=>{a=w,n(1,a)})}function m(){c=this.files,n(0,c)}return u.$$set=w=>{"operator"in w&&n(4,f=w.operator),"$$scope"in w&&n(5,s=w.$$scope)},[c,a,d,g,f,s,l,b,m]}class dp extends dt{constructor(r){super(),pt(this,r,hp,cp,ht,{operator:4})}}var b0={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */b0.exports;(function(u,r){(function(){var n,l="4.17.21",s=200,c="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",f="Expected a function",a="Invalid `variable` option passed into `_.template`",p="__lodash_hash_undefined__",d=500,g="__lodash_placeholder__",b=1,m=2,w=4,P=1,L=2,U=1,z=2,Z=4,q=8,B=16,J=32,R=64,$=128,j=256,re=512,Ae=30,Ge="...",Oe=800,we=16,le=1,K=2,ye=3,Ce=1/0,Te=9007199254740991,Ke=17976931348623157e292,gt=0/0,ke=4294967295,qe=ke-1,ie=ke>>>1,ve=[["ary",$],["bind",U],["bindKey",z],["curry",q],["curryRight",B],["flip",re],["partial",J],["partialRight",R],["rearg",j]],Be="[object Arguments]",Y="[object Array]",et="[object AsyncFunction]",_t="[object Boolean]",yt="[object Date]",En="[object DOMException]",Ue="[object Error]",Ut="[object Function]",An="[object GeneratorFunction]",rt="[object Map]",mt="[object Number]",gn="[object Null]",it="[object Object]",_n="[object Promise]",Nt="[object Proxy]",Pt="[object RegExp]",G="[object Set]",ce="[object String]",St="[object Symbol]",Ct="[object Undefined]",Qe="[object WeakMap]",Lt="[object WeakSet]",xe="[object ArrayBuffer]",qt="[object DataView]",Wt="[object Float32Array]",Tn="[object Float64Array]",Hn="[object Int8Array]",Qn="[object Int16Array]",on="[object Int32Array]",mn="[object Uint8Array]",In="[object Uint8ClampedArray]",zn="[object Uint16Array]",fn="[object Uint32Array]",Zr=/\b__p \+= '';/g,xn=/\b(__p \+=) '' \+/g,hr=/(__e\(.*?\)|\b__t\)) \+\n'';/g,dr=/&(?:amp|lt|gt|quot|#39);/g,Jt=/[&<>"']/g,$n=RegExp(dr.source),pr=RegExp(Jt.source),gr=/<%-([\s\S]+?)%>/g,jr=/<%([\s\S]+?)%>/g,_r=/<%=([\s\S]+?)%>/g,wi=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,vt=/^\w*$/,bt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ue=/[\\^$.*+?()[\]{}|]/g,Ne=RegExp(ue.source),It=/^\s+/,yi=/\s/,Si=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ci=/\{\n\/\* \[wrapped with (.+)\] \*/,Rt=/,? & /,mr=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Oi=/[()=,{}\[\]\/\s]/,Ei=/\\(\\)?/g,vr=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Xr=/\w*$/,Ai=/^[-+]0x[0-9a-f]+$/i,br=/^0b[01]+$/i,Ti=/^\[object .+?Constructor\]$/,Ii=/^0o[0-7]+$/i,wr=/^(?:0|[1-9]\d*)$/,Ri=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,er=/($^)/,yr=/['\n\r\u2028\u2029\\]/g,tr="\\ud800-\\udfff",Di="\\u0300-\\u036f",Sr="\\ufe20-\\ufe2f",ki="\\u20d0-\\u20ff",Qr=Di+Sr+ki,Cr="\\u2700-\\u27bf",xr="a-z\\xdf-\\xf6\\xf8-\\xff",$r="\\xac\\xb1\\xd7\\xf7",Pi="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",jo="\\u2000-\\u206f",Xo=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Nl="A-Z\\xc0-\\xd6\\xd8-\\xde",Wl="\\ufe0e\\ufe0f",Hl=$r+Pi+jo+Xo,C0="['’]",Qo="["+tr+"]",zl="["+Hl+"]",Li="["+Qr+"]",Vl="\\d+",xo="["+Cr+"]",Gl="["+xr+"]",Kl="[^"+tr+Hl+Vl+Cr+xr+Nl+"]",O0="\\ud83c[\\udffb-\\udfff]",$o="(?:"+Li+"|"+O0+")",ql="[^"+tr+"]",E0="(?:\\ud83c[\\udde6-\\uddff]){2}",A0="[\\ud800-\\udbff][\\udc00-\\udfff]",Or="["+Nl+"]",Jl="\\u200d",Yl="(?:"+Gl+"|"+Kl+")",e9="(?:"+Or+"|"+Kl+")",Zl="(?:"+C0+"(?:d|ll|m|re|s|t|ve))?",jl="(?:"+C0+"(?:D|LL|M|RE|S|T|VE))?",Xl=$o+"?",Ql="["+Wl+"]?",t9="(?:"+Jl+"(?:"+[ql,E0,A0].join("|")+")"+Ql+Xl+")*",n9="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",r9="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",xl=Ql+Xl+t9,i9="(?:"+[xo,E0,A0].join("|")+")"+xl,l9="(?:"+[ql+Li+"?",Li,E0,A0,Qo].join("|")+")",s9=RegExp(C0,"g"),u9=RegExp(Li,"g"),T0=RegExp(O0+"(?="+O0+")|"+l9+xl,"g"),o9=RegExp([Or+"?"+Gl+"+"+Zl+"(?="+[zl,Or,"$"].join("|")+")",e9+"+"+jl+"(?="+[zl,Or+Yl,"$"].join("|")+")",Or+"?"+Yl+"+"+Zl,Or+"+"+jl,r9,n9,Vl,i9].join("|"),"g"),f9=RegExp("["+Jl+tr+Qr+Wl+"]"),a9=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,c9=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],h9=-1,Je={};Je[Wt]=Je[Tn]=Je[Hn]=Je[Qn]=Je[on]=Je[mn]=Je[In]=Je[zn]=Je[fn]=!0,Je[Be]=Je[Y]=Je[xe]=Je[_t]=Je[qt]=Je[yt]=Je[Ue]=Je[Ut]=Je[rt]=Je[mt]=Je[it]=Je[Pt]=Je[G]=Je[ce]=Je[Qe]=!1;var Ve={};Ve[Be]=Ve[Y]=Ve[xe]=Ve[qt]=Ve[_t]=Ve[yt]=Ve[Wt]=Ve[Tn]=Ve[Hn]=Ve[Qn]=Ve[on]=Ve[rt]=Ve[mt]=Ve[it]=Ve[Pt]=Ve[G]=Ve[ce]=Ve[St]=Ve[mn]=Ve[In]=Ve[zn]=Ve[fn]=!0,Ve[Ue]=Ve[Ut]=Ve[Qe]=!1;var d9={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},p9={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},g9={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},_9={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},m9=parseFloat,v9=parseInt,$l=typeof Nr=="object"&&Nr&&Nr.Object===Object&&Nr,b9=typeof self=="object"&&self&&self.Object===Object&&self,Ot=$l||b9||Function("return this")(),I0=r&&!r.nodeType&&r,nr=I0&&!0&&u&&!u.nodeType&&u,es=nr&&nr.exports===I0,R0=es&&$l.process,$t=function(){try{var O=nr&&nr.require&&nr.require("util").types;return O||R0&&R0.binding&&R0.binding("util")}catch{}}(),ts=$t&&$t.isArrayBuffer,ns=$t&&$t.isDate,rs=$t&&$t.isMap,is=$t&&$t.isRegExp,ls=$t&&$t.isSet,ss=$t&&$t.isTypedArray;function Yt(O,k,D){switch(D.length){case 0:return O.call(k);case 1:return O.call(k,D[0]);case 2:return O.call(k,D[0],D[1]);case 3:return O.call(k,D[0],D[1],D[2])}return O.apply(k,D)}function w9(O,k,D,x){for(var de=-1,Pe=O==null?0:O.length;++de<Pe;){var st=O[de];k(x,st,D(st),O)}return x}function en(O,k){for(var D=-1,x=O==null?0:O.length;++D<x&&k(O[D],D,O)!==!1;);return O}function y9(O,k){for(var D=O==null?0:O.length;D--&&k(O[D],D,O)!==!1;);return O}function us(O,k){for(var D=-1,x=O==null?0:O.length;++D<x;)if(!k(O[D],D,O))return!1;return!0}function Vn(O,k){for(var D=-1,x=O==null?0:O.length,de=0,Pe=[];++D<x;){var st=O[D];k(st,D,O)&&(Pe[de++]=st)}return Pe}function Bi(O,k){var D=O==null?0:O.length;return!!D&&Er(O,k,0)>-1}function D0(O,k,D){for(var x=-1,de=O==null?0:O.length;++x<de;)if(D(k,O[x]))return!0;return!1}function Ye(O,k){for(var D=-1,x=O==null?0:O.length,de=Array(x);++D<x;)de[D]=k(O[D],D,O);return de}function Gn(O,k){for(var D=-1,x=k.length,de=O.length;++D<x;)O[de+D]=k[D];return O}function k0(O,k,D,x){var de=-1,Pe=O==null?0:O.length;for(x&&Pe&&(D=O[++de]);++de<Pe;)D=k(D,O[de],de,O);return D}function S9(O,k,D,x){var de=O==null?0:O.length;for(x&&de&&(D=O[--de]);de--;)D=k(D,O[de],de,O);return D}function P0(O,k){for(var D=-1,x=O==null?0:O.length;++D<x;)if(k(O[D],D,O))return!0;return!1}var C9=L0("length");function O9(O){return O.split("")}function E9(O){return O.match(mr)||[]}function os(O,k,D){var x;return D(O,function(de,Pe,st){if(k(de,Pe,st))return x=Pe,!1}),x}function Mi(O,k,D,x){for(var de=O.length,Pe=D+(x?1:-1);x?Pe--:++Pe<de;)if(k(O[Pe],Pe,O))return Pe;return-1}function Er(O,k,D){return k===k?U9(O,k,D):Mi(O,fs,D)}function A9(O,k,D,x){for(var de=D-1,Pe=O.length;++de<Pe;)if(x(O[de],k))return de;return-1}function fs(O){return O!==O}function as(O,k){var D=O==null?0:O.length;return D?M0(O,k)/D:gt}function L0(O){return function(k){return k==null?n:k[O]}}function B0(O){return function(k){return O==null?n:O[k]}}function cs(O,k,D,x,de){return de(O,function(Pe,st,ze){D=x?(x=!1,Pe):k(D,Pe,st,ze)}),D}function T9(O,k){var D=O.length;for(O.sort(k);D--;)O[D]=O[D].value;return O}function M0(O,k){for(var D,x=-1,de=O.length;++x<de;){var Pe=k(O[x]);Pe!==n&&(D=D===n?Pe:D+Pe)}return D}function F0(O,k){for(var D=-1,x=Array(O);++D<O;)x[D]=k(D);return x}function I9(O,k){return Ye(k,function(D){return[D,O[D]]})}function hs(O){return O&&O.slice(0,_s(O)+1).replace(It,"")}function Zt(O){return function(k){return O(k)}}function U0(O,k){return Ye(k,function(D){return O[D]})}function ei(O,k){return O.has(k)}function ds(O,k){for(var D=-1,x=O.length;++D<x&&Er(k,O[D],0)>-1;);return D}function ps(O,k){for(var D=O.length;D--&&Er(k,O[D],0)>-1;);return D}function R9(O,k){for(var D=O.length,x=0;D--;)O[D]===k&&++x;return x}var D9=B0(d9),k9=B0(p9);function P9(O){return"\\"+_9[O]}function L9(O,k){return O==null?n:O[k]}function Ar(O){return f9.test(O)}function B9(O){return a9.test(O)}function M9(O){for(var k,D=[];!(k=O.next()).done;)D.push(k.value);return D}function N0(O){var k=-1,D=Array(O.size);return O.forEach(function(x,de){D[++k]=[de,x]}),D}function gs(O,k){return function(D){return O(k(D))}}function Kn(O,k){for(var D=-1,x=O.length,de=0,Pe=[];++D<x;){var st=O[D];(st===k||st===g)&&(O[D]=g,Pe[de++]=D)}return Pe}function Fi(O){var k=-1,D=Array(O.size);return O.forEach(function(x){D[++k]=x}),D}function F9(O){var k=-1,D=Array(O.size);return O.forEach(function(x){D[++k]=[x,x]}),D}function U9(O,k,D){for(var x=D-1,de=O.length;++x<de;)if(O[x]===k)return x;return-1}function N9(O,k,D){for(var x=D+1;x--;)if(O[x]===k)return x;return x}function Tr(O){return Ar(O)?H9(O):C9(O)}function an(O){return Ar(O)?z9(O):O9(O)}function _s(O){for(var k=O.length;k--&&yi.test(O.charAt(k)););return k}var W9=B0(g9);function H9(O){for(var k=T0.lastIndex=0;T0.test(O);)++k;return k}function z9(O){return O.match(T0)||[]}function V9(O){return O.match(o9)||[]}var G9=function O(k){k=k==null?Ot:Ir.defaults(Ot.Object(),k,Ir.pick(Ot,c9));var D=k.Array,x=k.Date,de=k.Error,Pe=k.Function,st=k.Math,ze=k.Object,W0=k.RegExp,K9=k.String,tn=k.TypeError,Ui=D.prototype,q9=Pe.prototype,Rr=ze.prototype,Ni=k["__core-js_shared__"],Wi=q9.toString,Me=Rr.hasOwnProperty,J9=0,ms=function(){var e=/[^.]+$/.exec(Ni&&Ni.keys&&Ni.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Hi=Rr.toString,Y9=Wi.call(ze),Z9=Ot._,j9=W0("^"+Wi.call(Me).replace(ue,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),zi=es?k.Buffer:n,qn=k.Symbol,Vi=k.Uint8Array,vs=zi?zi.allocUnsafe:n,Gi=gs(ze.getPrototypeOf,ze),bs=ze.create,ws=Rr.propertyIsEnumerable,Ki=Ui.splice,ys=qn?qn.isConcatSpreadable:n,ti=qn?qn.iterator:n,rr=qn?qn.toStringTag:n,qi=function(){try{var e=or(ze,"defineProperty");return e({},"",{}),e}catch{}}(),X9=k.clearTimeout!==Ot.clearTimeout&&k.clearTimeout,Q9=x&&x.now!==Ot.Date.now&&x.now,x9=k.setTimeout!==Ot.setTimeout&&k.setTimeout,Ji=st.ceil,Yi=st.floor,H0=ze.getOwnPropertySymbols,$9=zi?zi.isBuffer:n,Ss=k.isFinite,ef=Ui.join,tf=gs(ze.keys,ze),ut=st.max,Dt=st.min,nf=x.now,rf=k.parseInt,Cs=st.random,lf=Ui.reverse,z0=or(k,"DataView"),ni=or(k,"Map"),V0=or(k,"Promise"),Dr=or(k,"Set"),ri=or(k,"WeakMap"),ii=or(ze,"create"),Zi=ri&&new ri,kr={},sf=fr(z0),uf=fr(ni),of=fr(V0),ff=fr(Dr),af=fr(ri),ji=qn?qn.prototype:n,li=ji?ji.valueOf:n,Os=ji?ji.toString:n;function _(e){if($e(e)&&!pe(e)&&!(e instanceof Ie)){if(e instanceof nn)return e;if(Me.call(e,"__wrapped__"))return Eu(e)}return new nn(e)}var Pr=function(){function e(){}return function(t){if(!je(t))return{};if(bs)return bs(t);e.prototype=t;var i=new e;return e.prototype=n,i}}();function Xi(){}function nn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=n}_.templateSettings={escape:gr,evaluate:jr,interpolate:_r,variable:"",imports:{_}},_.prototype=Xi.prototype,_.prototype.constructor=_,nn.prototype=Pr(Xi.prototype),nn.prototype.constructor=nn;function Ie(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ke,this.__views__=[]}function cf(){var e=new Ie(this.__wrapped__);return e.__actions__=Ht(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Ht(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Ht(this.__views__),e}function hf(){if(this.__filtered__){var e=new Ie(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function df(){var e=this.__wrapped__.value(),t=this.__dir__,i=pe(e),o=t<0,h=i?e.length:0,v=Ea(0,h,this.__views__),y=v.start,S=v.end,A=S-y,M=o?S:y-1,F=this.__iteratees__,V=F.length,X=0,ne=Dt(A,this.__takeCount__);if(!i||!o&&h==A&&ne==A)return Zs(e,this.__actions__);var fe=[];e:for(;A--&&X<ne;){M+=t;for(var be=-1,ae=e[M];++be<V;){var Ee=F[be],De=Ee.iteratee,Qt=Ee.type,Ft=De(ae);if(Qt==K)ae=Ft;else if(!Ft){if(Qt==le)continue e;break e}}fe[X++]=ae}return fe}Ie.prototype=Pr(Xi.prototype),Ie.prototype.constructor=Ie;function ir(e){var t=-1,i=e==null?0:e.length;for(this.clear();++t<i;){var o=e[t];this.set(o[0],o[1])}}function pf(){this.__data__=ii?ii(null):{},this.size=0}function gf(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function _f(e){var t=this.__data__;if(ii){var i=t[e];return i===p?n:i}return Me.call(t,e)?t[e]:n}function mf(e){var t=this.__data__;return ii?t[e]!==n:Me.call(t,e)}function vf(e,t){var i=this.__data__;return this.size+=this.has(e)?0:1,i[e]=ii&&t===n?p:t,this}ir.prototype.clear=pf,ir.prototype.delete=gf,ir.prototype.get=_f,ir.prototype.has=mf,ir.prototype.set=vf;function Rn(e){var t=-1,i=e==null?0:e.length;for(this.clear();++t<i;){var o=e[t];this.set(o[0],o[1])}}function bf(){this.__data__=[],this.size=0}function wf(e){var t=this.__data__,i=Qi(t,e);if(i<0)return!1;var o=t.length-1;return i==o?t.pop():Ki.call(t,i,1),--this.size,!0}function yf(e){var t=this.__data__,i=Qi(t,e);return i<0?n:t[i][1]}function Sf(e){return Qi(this.__data__,e)>-1}function Cf(e,t){var i=this.__data__,o=Qi(i,e);return o<0?(++this.size,i.push([e,t])):i[o][1]=t,this}Rn.prototype.clear=bf,Rn.prototype.delete=wf,Rn.prototype.get=yf,Rn.prototype.has=Sf,Rn.prototype.set=Cf;function Dn(e){var t=-1,i=e==null?0:e.length;for(this.clear();++t<i;){var o=e[t];this.set(o[0],o[1])}}function Of(){this.size=0,this.__data__={hash:new ir,map:new(ni||Rn),string:new ir}}function Ef(e){var t=f0(this,e).delete(e);return this.size-=t?1:0,t}function Af(e){return f0(this,e).get(e)}function Tf(e){return f0(this,e).has(e)}function If(e,t){var i=f0(this,e),o=i.size;return i.set(e,t),this.size+=i.size==o?0:1,this}Dn.prototype.clear=Of,Dn.prototype.delete=Ef,Dn.prototype.get=Af,Dn.prototype.has=Tf,Dn.prototype.set=If;function lr(e){var t=-1,i=e==null?0:e.length;for(this.__data__=new Dn;++t<i;)this.add(e[t])}function Rf(e){return this.__data__.set(e,p),this}function Df(e){return this.__data__.has(e)}lr.prototype.add=lr.prototype.push=Rf,lr.prototype.has=Df;function cn(e){var t=this.__data__=new Rn(e);this.size=t.size}function kf(){this.__data__=new Rn,this.size=0}function Pf(e){var t=this.__data__,i=t.delete(e);return this.size=t.size,i}function Lf(e){return this.__data__.get(e)}function Bf(e){return this.__data__.has(e)}function Mf(e,t){var i=this.__data__;if(i instanceof Rn){var o=i.__data__;if(!ni||o.length<s-1)return o.push([e,t]),this.size=++i.size,this;i=this.__data__=new Dn(o)}return i.set(e,t),this.size=i.size,this}cn.prototype.clear=kf,cn.prototype.delete=Pf,cn.prototype.get=Lf,cn.prototype.has=Bf,cn.prototype.set=Mf;function Es(e,t){var i=pe(e),o=!i&&ar(e),h=!i&&!o&&Xn(e),v=!i&&!o&&!h&&Fr(e),y=i||o||h||v,S=y?F0(e.length,K9):[],A=S.length;for(var M in e)(t||Me.call(e,M))&&!(y&&(M=="length"||h&&(M=="offset"||M=="parent")||v&&(M=="buffer"||M=="byteLength"||M=="byteOffset")||Bn(M,A)))&&S.push(M);return S}function As(e){var t=e.length;return t?e[$0(0,t-1)]:n}function Ff(e,t){return a0(Ht(e),sr(t,0,e.length))}function Uf(e){return a0(Ht(e))}function G0(e,t,i){(i!==n&&!hn(e[t],i)||i===n&&!(t in e))&&kn(e,t,i)}function si(e,t,i){var o=e[t];(!(Me.call(e,t)&&hn(o,i))||i===n&&!(t in e))&&kn(e,t,i)}function Qi(e,t){for(var i=e.length;i--;)if(hn(e[i][0],t))return i;return-1}function Nf(e,t,i,o){return Jn(e,function(h,v,y){t(o,h,i(h),y)}),o}function Ts(e,t){return e&&bn(t,wt(t),e)}function Wf(e,t){return e&&bn(t,Vt(t),e)}function kn(e,t,i){t=="__proto__"&&qi?qi(e,t,{configurable:!0,enumerable:!0,value:i,writable:!0}):e[t]=i}function K0(e,t){for(var i=-1,o=t.length,h=D(o),v=e==null;++i<o;)h[i]=v?n:Ol(e,t[i]);return h}function sr(e,t,i){return e===e&&(i!==n&&(e=e<=i?e:i),t!==n&&(e=e>=t?e:t)),e}function rn(e,t,i,o,h,v){var y,S=t&b,A=t&m,M=t&w;if(i&&(y=h?i(e,o,h,v):i(e)),y!==n)return y;if(!je(e))return e;var F=pe(e);if(F){if(y=Ta(e),!S)return Ht(e,y)}else{var V=kt(e),X=V==Ut||V==An;if(Xn(e))return Qs(e,S);if(V==it||V==Be||X&&!h){if(y=A||X?{}:_u(e),!S)return A?_a(e,Wf(y,e)):ga(e,Ts(y,e))}else{if(!Ve[V])return h?e:{};y=Ia(e,V,S)}}v||(v=new cn);var ne=v.get(e);if(ne)return ne;v.set(e,y),qu(e)?e.forEach(function(ae){y.add(rn(ae,t,i,ae,e,v))}):Gu(e)&&e.forEach(function(ae,Ee){y.set(Ee,rn(ae,t,i,Ee,e,v))});var fe=M?A?al:fl:A?Vt:wt,be=F?n:fe(e);return en(be||e,function(ae,Ee){be&&(Ee=ae,ae=e[Ee]),si(y,Ee,rn(ae,t,i,Ee,e,v))}),y}function Hf(e){var t=wt(e);return function(i){return Is(i,e,t)}}function Is(e,t,i){var o=i.length;if(e==null)return!o;for(e=ze(e);o--;){var h=i[o],v=t[h],y=e[h];if(y===n&&!(h in e)||!v(y))return!1}return!0}function Rs(e,t,i){if(typeof e!="function")throw new tn(f);return di(function(){e.apply(n,i)},t)}function ui(e,t,i,o){var h=-1,v=Bi,y=!0,S=e.length,A=[],M=t.length;if(!S)return A;i&&(t=Ye(t,Zt(i))),o?(v=D0,y=!1):t.length>=s&&(v=ei,y=!1,t=new lr(t));e:for(;++h<S;){var F=e[h],V=i==null?F:i(F);if(F=o||F!==0?F:0,y&&V===V){for(var X=M;X--;)if(t[X]===V)continue e;A.push(F)}else v(t,V,o)||A.push(F)}return A}var Jn=nu(vn),Ds=nu(J0,!0);function zf(e,t){var i=!0;return Jn(e,function(o,h,v){return i=!!t(o,h,v),i}),i}function xi(e,t,i){for(var o=-1,h=e.length;++o<h;){var v=e[o],y=t(v);if(y!=null&&(S===n?y===y&&!Xt(y):i(y,S)))var S=y,A=v}return A}function Vf(e,t,i,o){var h=e.length;for(i=ge(i),i<0&&(i=-i>h?0:h+i),o=o===n||o>h?h:ge(o),o<0&&(o+=h),o=i>o?0:Yu(o);i<o;)e[i++]=t;return e}function ks(e,t){var i=[];return Jn(e,function(o,h,v){t(o,h,v)&&i.push(o)}),i}function Et(e,t,i,o,h){var v=-1,y=e.length;for(i||(i=Da),h||(h=[]);++v<y;){var S=e[v];t>0&&i(S)?t>1?Et(S,t-1,i,o,h):Gn(h,S):o||(h[h.length]=S)}return h}var q0=ru(),Ps=ru(!0);function vn(e,t){return e&&q0(e,t,wt)}function J0(e,t){return e&&Ps(e,t,wt)}function $i(e,t){return Vn(t,function(i){return Mn(e[i])})}function ur(e,t){t=Zn(t,e);for(var i=0,o=t.length;e!=null&&i<o;)e=e[wn(t[i++])];return i&&i==o?e:n}function Ls(e,t,i){var o=t(e);return pe(e)?o:Gn(o,i(e))}function Bt(e){return e==null?e===n?Ct:gn:rr&&rr in ze(e)?Oa(e):Ua(e)}function Y0(e,t){return e>t}function Gf(e,t){return e!=null&&Me.call(e,t)}function Kf(e,t){return e!=null&&t in ze(e)}function qf(e,t,i){return e>=Dt(t,i)&&e<ut(t,i)}function Z0(e,t,i){for(var o=i?D0:Bi,h=e[0].length,v=e.length,y=v,S=D(v),A=1/0,M=[];y--;){var F=e[y];y&&t&&(F=Ye(F,Zt(t))),A=Dt(F.length,A),S[y]=!i&&(t||h>=120&&F.length>=120)?new lr(y&&F):n}F=e[0];var V=-1,X=S[0];e:for(;++V<h&&M.length<A;){var ne=F[V],fe=t?t(ne):ne;if(ne=i||ne!==0?ne:0,!(X?ei(X,fe):o(M,fe,i))){for(y=v;--y;){var be=S[y];if(!(be?ei(be,fe):o(e[y],fe,i)))continue e}X&&X.push(fe),M.push(ne)}}return M}function Jf(e,t,i,o){return vn(e,function(h,v,y){t(o,i(h),v,y)}),o}function oi(e,t,i){t=Zn(t,e),e=wu(e,t);var o=e==null?e:e[wn(sn(t))];return o==null?n:Yt(o,e,i)}function Bs(e){return $e(e)&&Bt(e)==Be}function Yf(e){return $e(e)&&Bt(e)==xe}function Zf(e){return $e(e)&&Bt(e)==yt}function fi(e,t,i,o,h){return e===t?!0:e==null||t==null||!$e(e)&&!$e(t)?e!==e&&t!==t:jf(e,t,i,o,fi,h)}function jf(e,t,i,o,h,v){var y=pe(e),S=pe(t),A=y?Y:kt(e),M=S?Y:kt(t);A=A==Be?it:A,M=M==Be?it:M;var F=A==it,V=M==it,X=A==M;if(X&&Xn(e)){if(!Xn(t))return!1;y=!0,F=!1}if(X&&!F)return v||(v=new cn),y||Fr(e)?du(e,t,i,o,h,v):Sa(e,t,A,i,o,h,v);if(!(i&P)){var ne=F&&Me.call(e,"__wrapped__"),fe=V&&Me.call(t,"__wrapped__");if(ne||fe){var be=ne?e.value():e,ae=fe?t.value():t;return v||(v=new cn),h(be,ae,i,o,v)}}return X?(v||(v=new cn),Ca(e,t,i,o,h,v)):!1}function Xf(e){return $e(e)&&kt(e)==rt}function j0(e,t,i,o){var h=i.length,v=h,y=!o;if(e==null)return!v;for(e=ze(e);h--;){var S=i[h];if(y&&S[2]?S[1]!==e[S[0]]:!(S[0]in e))return!1}for(;++h<v;){S=i[h];var A=S[0],M=e[A],F=S[1];if(y&&S[2]){if(M===n&&!(A in e))return!1}else{var V=new cn;if(o)var X=o(M,F,A,e,t,V);if(!(X===n?fi(F,M,P|L,o,V):X))return!1}}return!0}function Ms(e){if(!je(e)||Pa(e))return!1;var t=Mn(e)?j9:Ti;return t.test(fr(e))}function Qf(e){return $e(e)&&Bt(e)==Pt}function xf(e){return $e(e)&&kt(e)==G}function $f(e){return $e(e)&&_0(e.length)&&!!Je[Bt(e)]}function Fs(e){return typeof e=="function"?e:e==null?Gt:typeof e=="object"?pe(e)?Ws(e[0],e[1]):Ns(e):io(e)}function X0(e){if(!hi(e))return tf(e);var t=[];for(var i in ze(e))Me.call(e,i)&&i!="constructor"&&t.push(i);return t}function ea(e){if(!je(e))return Fa(e);var t=hi(e),i=[];for(var o in e)o=="constructor"&&(t||!Me.call(e,o))||i.push(o);return i}function Q0(e,t){return e<t}function Us(e,t){var i=-1,o=zt(e)?D(e.length):[];return Jn(e,function(h,v,y){o[++i]=t(h,v,y)}),o}function Ns(e){var t=hl(e);return t.length==1&&t[0][2]?vu(t[0][0],t[0][1]):function(i){return i===e||j0(i,e,t)}}function Ws(e,t){return pl(e)&&mu(t)?vu(wn(e),t):function(i){var o=Ol(i,e);return o===n&&o===t?El(i,e):fi(t,o,P|L)}}function e0(e,t,i,o,h){e!==t&&q0(t,function(v,y){if(h||(h=new cn),je(v))ta(e,t,y,i,e0,o,h);else{var S=o?o(_l(e,y),v,y+"",e,t,h):n;S===n&&(S=v),G0(e,y,S)}},Vt)}function ta(e,t,i,o,h,v,y){var S=_l(e,i),A=_l(t,i),M=y.get(A);if(M){G0(e,i,M);return}var F=v?v(S,A,i+"",e,t,y):n,V=F===n;if(V){var X=pe(A),ne=!X&&Xn(A),fe=!X&&!ne&&Fr(A);F=A,X||ne||fe?pe(S)?F=S:tt(S)?F=Ht(S):ne?(V=!1,F=Qs(A,!0)):fe?(V=!1,F=xs(A,!0)):F=[]:pi(A)||ar(A)?(F=S,ar(S)?F=Zu(S):(!je(S)||Mn(S))&&(F=_u(A))):V=!1}V&&(y.set(A,F),h(F,A,o,v,y),y.delete(A)),G0(e,i,F)}function Hs(e,t){var i=e.length;if(i)return t+=t<0?i:0,Bn(t,i)?e[t]:n}function zs(e,t,i){t.length?t=Ye(t,function(v){return pe(v)?function(y){return ur(y,v.length===1?v[0]:v)}:v}):t=[Gt];var o=-1;t=Ye(t,Zt(oe()));var h=Us(e,function(v,y,S){var A=Ye(t,function(M){return M(v)});return{criteria:A,index:++o,value:v}});return T9(h,function(v,y){return pa(v,y,i)})}function na(e,t){return Vs(e,t,function(i,o){return El(e,o)})}function Vs(e,t,i){for(var o=-1,h=t.length,v={};++o<h;){var y=t[o],S=ur(e,y);i(S,y)&&ai(v,Zn(y,e),S)}return v}function ra(e){return function(t){return ur(t,e)}}function x0(e,t,i,o){var h=o?A9:Er,v=-1,y=t.length,S=e;for(e===t&&(t=Ht(t)),i&&(S=Ye(e,Zt(i)));++v<y;)for(var A=0,M=t[v],F=i?i(M):M;(A=h(S,F,A,o))>-1;)S!==e&&Ki.call(S,A,1),Ki.call(e,A,1);return e}function Gs(e,t){for(var i=e?t.length:0,o=i-1;i--;){var h=t[i];if(i==o||h!==v){var v=h;Bn(h)?Ki.call(e,h,1):nl(e,h)}}return e}function $0(e,t){return e+Yi(Cs()*(t-e+1))}function ia(e,t,i,o){for(var h=-1,v=ut(Ji((t-e)/(i||1)),0),y=D(v);v--;)y[o?v:++h]=e,e+=i;return y}function el(e,t){var i="";if(!e||t<1||t>Te)return i;do t%2&&(i+=e),t=Yi(t/2),t&&(e+=e);while(t);return i}function Se(e,t){return ml(bu(e,t,Gt),e+"")}function la(e){return As(Ur(e))}function sa(e,t){var i=Ur(e);return a0(i,sr(t,0,i.length))}function ai(e,t,i,o){if(!je(e))return e;t=Zn(t,e);for(var h=-1,v=t.length,y=v-1,S=e;S!=null&&++h<v;){var A=wn(t[h]),M=i;if(A==="__proto__"||A==="constructor"||A==="prototype")return e;if(h!=y){var F=S[A];M=o?o(F,A,S):n,M===n&&(M=je(F)?F:Bn(t[h+1])?[]:{})}si(S,A,M),S=S[A]}return e}var Ks=Zi?function(e,t){return Zi.set(e,t),e}:Gt,ua=qi?function(e,t){return qi(e,"toString",{configurable:!0,enumerable:!1,value:Tl(t),writable:!0})}:Gt;function oa(e){return a0(Ur(e))}function ln(e,t,i){var o=-1,h=e.length;t<0&&(t=-t>h?0:h+t),i=i>h?h:i,i<0&&(i+=h),h=t>i?0:i-t>>>0,t>>>=0;for(var v=D(h);++o<h;)v[o]=e[o+t];return v}function fa(e,t){var i;return Jn(e,function(o,h,v){return i=t(o,h,v),!i}),!!i}function t0(e,t,i){var o=0,h=e==null?o:e.length;if(typeof t=="number"&&t===t&&h<=ie){for(;o<h;){var v=o+h>>>1,y=e[v];y!==null&&!Xt(y)&&(i?y<=t:y<t)?o=v+1:h=v}return h}return tl(e,t,Gt,i)}function tl(e,t,i,o){var h=0,v=e==null?0:e.length;if(v===0)return 0;t=i(t);for(var y=t!==t,S=t===null,A=Xt(t),M=t===n;h<v;){var F=Yi((h+v)/2),V=i(e[F]),X=V!==n,ne=V===null,fe=V===V,be=Xt(V);if(y)var ae=o||fe;else M?ae=fe&&(o||X):S?ae=fe&&X&&(o||!ne):A?ae=fe&&X&&!ne&&(o||!be):ne||be?ae=!1:ae=o?V<=t:V<t;ae?h=F+1:v=F}return Dt(v,qe)}function qs(e,t){for(var i=-1,o=e.length,h=0,v=[];++i<o;){var y=e[i],S=t?t(y):y;if(!i||!hn(S,A)){var A=S;v[h++]=y===0?0:y}}return v}function Js(e){return typeof e=="number"?e:Xt(e)?gt:+e}function jt(e){if(typeof e=="string")return e;if(pe(e))return Ye(e,jt)+"";if(Xt(e))return Os?Os.call(e):"";var t=e+"";return t=="0"&&1/e==-Ce?"-0":t}function Yn(e,t,i){var o=-1,h=Bi,v=e.length,y=!0,S=[],A=S;if(i)y=!1,h=D0;else if(v>=s){var M=t?null:wa(e);if(M)return Fi(M);y=!1,h=ei,A=new lr}else A=t?[]:S;e:for(;++o<v;){var F=e[o],V=t?t(F):F;if(F=i||F!==0?F:0,y&&V===V){for(var X=A.length;X--;)if(A[X]===V)continue e;t&&A.push(V),S.push(F)}else h(A,V,i)||(A!==S&&A.push(V),S.push(F))}return S}function nl(e,t){return t=Zn(t,e),e=wu(e,t),e==null||delete e[wn(sn(t))]}function Ys(e,t,i,o){return ai(e,t,i(ur(e,t)),o)}function n0(e,t,i,o){for(var h=e.length,v=o?h:-1;(o?v--:++v<h)&&t(e[v],v,e););return i?ln(e,o?0:v,o?v+1:h):ln(e,o?v+1:0,o?h:v)}function Zs(e,t){var i=e;return i instanceof Ie&&(i=i.value()),k0(t,function(o,h){return h.func.apply(h.thisArg,Gn([o],h.args))},i)}function rl(e,t,i){var o=e.length;if(o<2)return o?Yn(e[0]):[];for(var h=-1,v=D(o);++h<o;)for(var y=e[h],S=-1;++S<o;)S!=h&&(v[h]=ui(v[h]||y,e[S],t,i));return Yn(Et(v,1),t,i)}function js(e,t,i){for(var o=-1,h=e.length,v=t.length,y={};++o<h;){var S=o<v?t[o]:n;i(y,e[o],S)}return y}function il(e){return tt(e)?e:[]}function ll(e){return typeof e=="function"?e:Gt}function Zn(e,t){return pe(e)?e:pl(e,t)?[e]:Ou(Le(e))}var aa=Se;function jn(e,t,i){var o=e.length;return i=i===n?o:i,!t&&i>=o?e:ln(e,t,i)}var Xs=X9||function(e){return Ot.clearTimeout(e)};function Qs(e,t){if(t)return e.slice();var i=e.length,o=vs?vs(i):new e.constructor(i);return e.copy(o),o}function sl(e){var t=new e.constructor(e.byteLength);return new Vi(t).set(new Vi(e)),t}function ca(e,t){var i=t?sl(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.byteLength)}function ha(e){var t=new e.constructor(e.source,Xr.exec(e));return t.lastIndex=e.lastIndex,t}function da(e){return li?ze(li.call(e)):{}}function xs(e,t){var i=t?sl(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.length)}function $s(e,t){if(e!==t){var i=e!==n,o=e===null,h=e===e,v=Xt(e),y=t!==n,S=t===null,A=t===t,M=Xt(t);if(!S&&!M&&!v&&e>t||v&&y&&A&&!S&&!M||o&&y&&A||!i&&A||!h)return 1;if(!o&&!v&&!M&&e<t||M&&i&&h&&!o&&!v||S&&i&&h||!y&&h||!A)return-1}return 0}function pa(e,t,i){for(var o=-1,h=e.criteria,v=t.criteria,y=h.length,S=i.length;++o<y;){var A=$s(h[o],v[o]);if(A){if(o>=S)return A;var M=i[o];return A*(M=="desc"?-1:1)}}return e.index-t.index}function eu(e,t,i,o){for(var h=-1,v=e.length,y=i.length,S=-1,A=t.length,M=ut(v-y,0),F=D(A+M),V=!o;++S<A;)F[S]=t[S];for(;++h<y;)(V||h<v)&&(F[i[h]]=e[h]);for(;M--;)F[S++]=e[h++];return F}function tu(e,t,i,o){for(var h=-1,v=e.length,y=-1,S=i.length,A=-1,M=t.length,F=ut(v-S,0),V=D(F+M),X=!o;++h<F;)V[h]=e[h];for(var ne=h;++A<M;)V[ne+A]=t[A];for(;++y<S;)(X||h<v)&&(V[ne+i[y]]=e[h++]);return V}function Ht(e,t){var i=-1,o=e.length;for(t||(t=D(o));++i<o;)t[i]=e[i];return t}function bn(e,t,i,o){var h=!i;i||(i={});for(var v=-1,y=t.length;++v<y;){var S=t[v],A=o?o(i[S],e[S],S,i,e):n;A===n&&(A=e[S]),h?kn(i,S,A):si(i,S,A)}return i}function ga(e,t){return bn(e,dl(e),t)}function _a(e,t){return bn(e,pu(e),t)}function r0(e,t){return function(i,o){var h=pe(i)?w9:Nf,v=t?t():{};return h(i,e,oe(o,2),v)}}function Lr(e){return Se(function(t,i){var o=-1,h=i.length,v=h>1?i[h-1]:n,y=h>2?i[2]:n;for(v=e.length>3&&typeof v=="function"?(h--,v):n,y&&Mt(i[0],i[1],y)&&(v=h<3?n:v,h=1),t=ze(t);++o<h;){var S=i[o];S&&e(t,S,o,v)}return t})}function nu(e,t){return function(i,o){if(i==null)return i;if(!zt(i))return e(i,o);for(var h=i.length,v=t?h:-1,y=ze(i);(t?v--:++v<h)&&o(y[v],v,y)!==!1;);return i}}function ru(e){return function(t,i,o){for(var h=-1,v=ze(t),y=o(t),S=y.length;S--;){var A=y[e?S:++h];if(i(v[A],A,v)===!1)break}return t}}function ma(e,t,i){var o=t&U,h=ci(e);function v(){var y=this&&this!==Ot&&this instanceof v?h:e;return y.apply(o?i:this,arguments)}return v}function iu(e){return function(t){t=Le(t);var i=Ar(t)?an(t):n,o=i?i[0]:t.charAt(0),h=i?jn(i,1).join(""):t.slice(1);return o[e]()+h}}function Br(e){return function(t){return k0(no(to(t).replace(s9,"")),e,"")}}function ci(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var i=Pr(e.prototype),o=e.apply(i,t);return je(o)?o:i}}function va(e,t,i){var o=ci(e);function h(){for(var v=arguments.length,y=D(v),S=v,A=Mr(h);S--;)y[S]=arguments[S];var M=v<3&&y[0]!==A&&y[v-1]!==A?[]:Kn(y,A);if(v-=M.length,v<i)return fu(e,t,i0,h.placeholder,n,y,M,n,n,i-v);var F=this&&this!==Ot&&this instanceof h?o:e;return Yt(F,this,y)}return h}function lu(e){return function(t,i,o){var h=ze(t);if(!zt(t)){var v=oe(i,3);t=wt(t),i=function(S){return v(h[S],S,h)}}var y=e(t,i,o);return y>-1?h[v?t[y]:y]:n}}function su(e){return Ln(function(t){var i=t.length,o=i,h=nn.prototype.thru;for(e&&t.reverse();o--;){var v=t[o];if(typeof v!="function")throw new tn(f);if(h&&!y&&o0(v)=="wrapper")var y=new nn([],!0)}for(o=y?o:i;++o<i;){v=t[o];var S=o0(v),A=S=="wrapper"?cl(v):n;A&&gl(A[0])&&A[1]==($|q|J|j)&&!A[4].length&&A[9]==1?y=y[o0(A[0])].apply(y,A[3]):y=v.length==1&&gl(v)?y[S]():y.thru(v)}return function(){var M=arguments,F=M[0];if(y&&M.length==1&&pe(F))return y.plant(F).value();for(var V=0,X=i?t[V].apply(this,M):F;++V<i;)X=t[V].call(this,X);return X}})}function i0(e,t,i,o,h,v,y,S,A,M){var F=t&$,V=t&U,X=t&z,ne=t&(q|B),fe=t&re,be=X?n:ci(e);function ae(){for(var Ee=arguments.length,De=D(Ee),Qt=Ee;Qt--;)De[Qt]=arguments[Qt];if(ne)var Ft=Mr(ae),xt=R9(De,Ft);if(o&&(De=eu(De,o,h,ne)),v&&(De=tu(De,v,y,ne)),Ee-=xt,ne&&Ee<M){var nt=Kn(De,Ft);return fu(e,t,i0,ae.placeholder,i,De,nt,S,A,M-Ee)}var dn=V?i:this,Un=X?dn[e]:e;return Ee=De.length,S?De=Na(De,S):fe&&Ee>1&&De.reverse(),F&&A<Ee&&(De.length=A),this&&this!==Ot&&this instanceof ae&&(Un=be||ci(Un)),Un.apply(dn,De)}return ae}function uu(e,t){return function(i,o){return Jf(i,e,t(o),{})}}function l0(e,t){return function(i,o){var h;if(i===n&&o===n)return t;if(i!==n&&(h=i),o!==n){if(h===n)return o;typeof i=="string"||typeof o=="string"?(i=jt(i),o=jt(o)):(i=Js(i),o=Js(o)),h=e(i,o)}return h}}function ul(e){return Ln(function(t){return t=Ye(t,Zt(oe())),Se(function(i){var o=this;return e(t,function(h){return Yt(h,o,i)})})})}function s0(e,t){t=t===n?" ":jt(t);var i=t.length;if(i<2)return i?el(t,e):t;var o=el(t,Ji(e/Tr(t)));return Ar(t)?jn(an(o),0,e).join(""):o.slice(0,e)}function ba(e,t,i,o){var h=t&U,v=ci(e);function y(){for(var S=-1,A=arguments.length,M=-1,F=o.length,V=D(F+A),X=this&&this!==Ot&&this instanceof y?v:e;++M<F;)V[M]=o[M];for(;A--;)V[M++]=arguments[++S];return Yt(X,h?i:this,V)}return y}function ou(e){return function(t,i,o){return o&&typeof o!="number"&&Mt(t,i,o)&&(i=o=n),t=Fn(t),i===n?(i=t,t=0):i=Fn(i),o=o===n?t<i?1:-1:Fn(o),ia(t,i,o,e)}}function u0(e){return function(t,i){return typeof t=="string"&&typeof i=="string"||(t=un(t),i=un(i)),e(t,i)}}function fu(e,t,i,o,h,v,y,S,A,M){var F=t&q,V=F?y:n,X=F?n:y,ne=F?v:n,fe=F?n:v;t|=F?J:R,t&=~(F?R:J),t&Z||(t&=~(U|z));var be=[e,t,h,ne,V,fe,X,S,A,M],ae=i.apply(n,be);return gl(e)&&yu(ae,be),ae.placeholder=o,Su(ae,e,t)}function ol(e){var t=st[e];return function(i,o){if(i=un(i),o=o==null?0:Dt(ge(o),292),o&&Ss(i)){var h=(Le(i)+"e").split("e"),v=t(h[0]+"e"+(+h[1]+o));return h=(Le(v)+"e").split("e"),+(h[0]+"e"+(+h[1]-o))}return t(i)}}var wa=Dr&&1/Fi(new Dr([,-0]))[1]==Ce?function(e){return new Dr(e)}:Dl;function au(e){return function(t){var i=kt(t);return i==rt?N0(t):i==G?F9(t):I9(t,e(t))}}function Pn(e,t,i,o,h,v,y,S){var A=t&z;if(!A&&typeof e!="function")throw new tn(f);var M=o?o.length:0;if(M||(t&=~(J|R),o=h=n),y=y===n?y:ut(ge(y),0),S=S===n?S:ge(S),M-=h?h.length:0,t&R){var F=o,V=h;o=h=n}var X=A?n:cl(e),ne=[e,t,i,o,h,F,V,v,y,S];if(X&&Ma(ne,X),e=ne[0],t=ne[1],i=ne[2],o=ne[3],h=ne[4],S=ne[9]=ne[9]===n?A?0:e.length:ut(ne[9]-M,0),!S&&t&(q|B)&&(t&=~(q|B)),!t||t==U)var fe=ma(e,t,i);else t==q||t==B?fe=va(e,t,S):(t==J||t==(U|J))&&!h.length?fe=ba(e,t,i,o):fe=i0.apply(n,ne);var be=X?Ks:yu;return Su(be(fe,ne),e,t)}function cu(e,t,i,o){return e===n||hn(e,Rr[i])&&!Me.call(o,i)?t:e}function hu(e,t,i,o,h,v){return je(e)&&je(t)&&(v.set(t,e),e0(e,t,n,hu,v),v.delete(t)),e}function ya(e){return pi(e)?n:e}function du(e,t,i,o,h,v){var y=i&P,S=e.length,A=t.length;if(S!=A&&!(y&&A>S))return!1;var M=v.get(e),F=v.get(t);if(M&&F)return M==t&&F==e;var V=-1,X=!0,ne=i&L?new lr:n;for(v.set(e,t),v.set(t,e);++V<S;){var fe=e[V],be=t[V];if(o)var ae=y?o(be,fe,V,t,e,v):o(fe,be,V,e,t,v);if(ae!==n){if(ae)continue;X=!1;break}if(ne){if(!P0(t,function(Ee,De){if(!ei(ne,De)&&(fe===Ee||h(fe,Ee,i,o,v)))return ne.push(De)})){X=!1;break}}else if(!(fe===be||h(fe,be,i,o,v))){X=!1;break}}return v.delete(e),v.delete(t),X}function Sa(e,t,i,o,h,v,y){switch(i){case qt:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case xe:return!(e.byteLength!=t.byteLength||!v(new Vi(e),new Vi(t)));case _t:case yt:case mt:return hn(+e,+t);case Ue:return e.name==t.name&&e.message==t.message;case Pt:case ce:return e==t+"";case rt:var S=N0;case G:var A=o&P;if(S||(S=Fi),e.size!=t.size&&!A)return!1;var M=y.get(e);if(M)return M==t;o|=L,y.set(e,t);var F=du(S(e),S(t),o,h,v,y);return y.delete(e),F;case St:if(li)return li.call(e)==li.call(t)}return!1}function Ca(e,t,i,o,h,v){var y=i&P,S=fl(e),A=S.length,M=fl(t),F=M.length;if(A!=F&&!y)return!1;for(var V=A;V--;){var X=S[V];if(!(y?X in t:Me.call(t,X)))return!1}var ne=v.get(e),fe=v.get(t);if(ne&&fe)return ne==t&&fe==e;var be=!0;v.set(e,t),v.set(t,e);for(var ae=y;++V<A;){X=S[V];var Ee=e[X],De=t[X];if(o)var Qt=y?o(De,Ee,X,t,e,v):o(Ee,De,X,e,t,v);if(!(Qt===n?Ee===De||h(Ee,De,i,o,v):Qt)){be=!1;break}ae||(ae=X=="constructor")}if(be&&!ae){var Ft=e.constructor,xt=t.constructor;Ft!=xt&&"constructor"in e&&"constructor"in t&&!(typeof Ft=="function"&&Ft instanceof Ft&&typeof xt=="function"&&xt instanceof xt)&&(be=!1)}return v.delete(e),v.delete(t),be}function Ln(e){return ml(bu(e,n,Iu),e+"")}function fl(e){return Ls(e,wt,dl)}function al(e){return Ls(e,Vt,pu)}var cl=Zi?function(e){return Zi.get(e)}:Dl;function o0(e){for(var t=e.name+"",i=kr[t],o=Me.call(kr,t)?i.length:0;o--;){var h=i[o],v=h.func;if(v==null||v==e)return h.name}return t}function Mr(e){var t=Me.call(_,"placeholder")?_:e;return t.placeholder}function oe(){var e=_.iteratee||Il;return e=e===Il?Fs:e,arguments.length?e(arguments[0],arguments[1]):e}function f0(e,t){var i=e.__data__;return ka(t)?i[typeof t=="string"?"string":"hash"]:i.map}function hl(e){for(var t=wt(e),i=t.length;i--;){var o=t[i],h=e[o];t[i]=[o,h,mu(h)]}return t}function or(e,t){var i=L9(e,t);return Ms(i)?i:n}function Oa(e){var t=Me.call(e,rr),i=e[rr];try{e[rr]=n;var o=!0}catch{}var h=Hi.call(e);return o&&(t?e[rr]=i:delete e[rr]),h}var dl=H0?function(e){return e==null?[]:(e=ze(e),Vn(H0(e),function(t){return ws.call(e,t)}))}:kl,pu=H0?function(e){for(var t=[];e;)Gn(t,dl(e)),e=Gi(e);return t}:kl,kt=Bt;(z0&&kt(new z0(new ArrayBuffer(1)))!=qt||ni&&kt(new ni)!=rt||V0&&kt(V0.resolve())!=_n||Dr&&kt(new Dr)!=G||ri&&kt(new ri)!=Qe)&&(kt=function(e){var t=Bt(e),i=t==it?e.constructor:n,o=i?fr(i):"";if(o)switch(o){case sf:return qt;case uf:return rt;case of:return _n;case ff:return G;case af:return Qe}return t});function Ea(e,t,i){for(var o=-1,h=i.length;++o<h;){var v=i[o],y=v.size;switch(v.type){case"drop":e+=y;break;case"dropRight":t-=y;break;case"take":t=Dt(t,e+y);break;case"takeRight":e=ut(e,t-y);break}}return{start:e,end:t}}function Aa(e){var t=e.match(Ci);return t?t[1].split(Rt):[]}function gu(e,t,i){t=Zn(t,e);for(var o=-1,h=t.length,v=!1;++o<h;){var y=wn(t[o]);if(!(v=e!=null&&i(e,y)))break;e=e[y]}return v||++o!=h?v:(h=e==null?0:e.length,!!h&&_0(h)&&Bn(y,h)&&(pe(e)||ar(e)))}function Ta(e){var t=e.length,i=new e.constructor(t);return t&&typeof e[0]=="string"&&Me.call(e,"index")&&(i.index=e.index,i.input=e.input),i}function _u(e){return typeof e.constructor=="function"&&!hi(e)?Pr(Gi(e)):{}}function Ia(e,t,i){var o=e.constructor;switch(t){case xe:return sl(e);case _t:case yt:return new o(+e);case qt:return ca(e,i);case Wt:case Tn:case Hn:case Qn:case on:case mn:case In:case zn:case fn:return xs(e,i);case rt:return new o;case mt:case ce:return new o(e);case Pt:return ha(e);case G:return new o;case St:return da(e)}}function Ra(e,t){var i=t.length;if(!i)return e;var o=i-1;return t[o]=(i>1?"& ":"")+t[o],t=t.join(i>2?", ":" "),e.replace(Si,`{
/* [wrapped with `+t+`] */
`)}function Da(e){return pe(e)||ar(e)||!!(ys&&e&&e[ys])}function Bn(e,t){var i=typeof e;return t=t??Te,!!t&&(i=="number"||i!="symbol"&&wr.test(e))&&e>-1&&e%1==0&&e<t}function Mt(e,t,i){if(!je(i))return!1;var o=typeof t;return(o=="number"?zt(i)&&Bn(t,i.length):o=="string"&&t in i)?hn(i[t],e):!1}function pl(e,t){if(pe(e))return!1;var i=typeof e;return i=="number"||i=="symbol"||i=="boolean"||e==null||Xt(e)?!0:vt.test(e)||!wi.test(e)||t!=null&&e in ze(t)}function ka(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function gl(e){var t=o0(e),i=_[t];if(typeof i!="function"||!(t in Ie.prototype))return!1;if(e===i)return!0;var o=cl(i);return!!o&&e===o[0]}function Pa(e){return!!ms&&ms in e}var La=Ni?Mn:Pl;function hi(e){var t=e&&e.constructor,i=typeof t=="function"&&t.prototype||Rr;return e===i}function mu(e){return e===e&&!je(e)}function vu(e,t){return function(i){return i==null?!1:i[e]===t&&(t!==n||e in ze(i))}}function Ba(e){var t=p0(e,function(o){return i.size===d&&i.clear(),o}),i=t.cache;return t}function Ma(e,t){var i=e[1],o=t[1],h=i|o,v=h<(U|z|$),y=o==$&&i==q||o==$&&i==j&&e[7].length<=t[8]||o==($|j)&&t[7].length<=t[8]&&i==q;if(!(v||y))return e;o&U&&(e[2]=t[2],h|=i&U?0:Z);var S=t[3];if(S){var A=e[3];e[3]=A?eu(A,S,t[4]):S,e[4]=A?Kn(e[3],g):t[4]}return S=t[5],S&&(A=e[5],e[5]=A?tu(A,S,t[6]):S,e[6]=A?Kn(e[5],g):t[6]),S=t[7],S&&(e[7]=S),o&$&&(e[8]=e[8]==null?t[8]:Dt(e[8],t[8])),e[9]==null&&(e[9]=t[9]),e[0]=t[0],e[1]=h,e}function Fa(e){var t=[];if(e!=null)for(var i in ze(e))t.push(i);return t}function Ua(e){return Hi.call(e)}function bu(e,t,i){return t=ut(t===n?e.length-1:t,0),function(){for(var o=arguments,h=-1,v=ut(o.length-t,0),y=D(v);++h<v;)y[h]=o[t+h];h=-1;for(var S=D(t+1);++h<t;)S[h]=o[h];return S[t]=i(y),Yt(e,this,S)}}function wu(e,t){return t.length<2?e:ur(e,ln(t,0,-1))}function Na(e,t){for(var i=e.length,o=Dt(t.length,i),h=Ht(e);o--;){var v=t[o];e[o]=Bn(v,i)?h[v]:n}return e}function _l(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var yu=Cu(Ks),di=x9||function(e,t){return Ot.setTimeout(e,t)},ml=Cu(ua);function Su(e,t,i){var o=t+"";return ml(e,Ra(o,Wa(Aa(o),i)))}function Cu(e){var t=0,i=0;return function(){var o=nf(),h=we-(o-i);if(i=o,h>0){if(++t>=Oe)return arguments[0]}else t=0;return e.apply(n,arguments)}}function a0(e,t){var i=-1,o=e.length,h=o-1;for(t=t===n?o:t;++i<t;){var v=$0(i,h),y=e[v];e[v]=e[i],e[i]=y}return e.length=t,e}var Ou=Ba(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(bt,function(i,o,h,v){t.push(h?v.replace(Ei,"$1"):o||i)}),t});function wn(e){if(typeof e=="string"||Xt(e))return e;var t=e+"";return t=="0"&&1/e==-Ce?"-0":t}function fr(e){if(e!=null){try{return Wi.call(e)}catch{}try{return e+""}catch{}}return""}function Wa(e,t){return en(ve,function(i){var o="_."+i[0];t&i[1]&&!Bi(e,o)&&e.push(o)}),e.sort()}function Eu(e){if(e instanceof Ie)return e.clone();var t=new nn(e.__wrapped__,e.__chain__);return t.__actions__=Ht(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function Ha(e,t,i){(i?Mt(e,t,i):t===n)?t=1:t=ut(ge(t),0);var o=e==null?0:e.length;if(!o||t<1)return[];for(var h=0,v=0,y=D(Ji(o/t));h<o;)y[v++]=ln(e,h,h+=t);return y}function za(e){for(var t=-1,i=e==null?0:e.length,o=0,h=[];++t<i;){var v=e[t];v&&(h[o++]=v)}return h}function Va(){var e=arguments.length;if(!e)return[];for(var t=D(e-1),i=arguments[0],o=e;o--;)t[o-1]=arguments[o];return Gn(pe(i)?Ht(i):[i],Et(t,1))}var Ga=Se(function(e,t){return tt(e)?ui(e,Et(t,1,tt,!0)):[]}),Ka=Se(function(e,t){var i=sn(t);return tt(i)&&(i=n),tt(e)?ui(e,Et(t,1,tt,!0),oe(i,2)):[]}),qa=Se(function(e,t){var i=sn(t);return tt(i)&&(i=n),tt(e)?ui(e,Et(t,1,tt,!0),n,i):[]});function Ja(e,t,i){var o=e==null?0:e.length;return o?(t=i||t===n?1:ge(t),ln(e,t<0?0:t,o)):[]}function Ya(e,t,i){var o=e==null?0:e.length;return o?(t=i||t===n?1:ge(t),t=o-t,ln(e,0,t<0?0:t)):[]}function Za(e,t){return e&&e.length?n0(e,oe(t,3),!0,!0):[]}function ja(e,t){return e&&e.length?n0(e,oe(t,3),!0):[]}function Xa(e,t,i,o){var h=e==null?0:e.length;return h?(i&&typeof i!="number"&&Mt(e,t,i)&&(i=0,o=h),Vf(e,t,i,o)):[]}function Au(e,t,i){var o=e==null?0:e.length;if(!o)return-1;var h=i==null?0:ge(i);return h<0&&(h=ut(o+h,0)),Mi(e,oe(t,3),h)}function Tu(e,t,i){var o=e==null?0:e.length;if(!o)return-1;var h=o-1;return i!==n&&(h=ge(i),h=i<0?ut(o+h,0):Dt(h,o-1)),Mi(e,oe(t,3),h,!0)}function Iu(e){var t=e==null?0:e.length;return t?Et(e,1):[]}function Qa(e){var t=e==null?0:e.length;return t?Et(e,Ce):[]}function xa(e,t){var i=e==null?0:e.length;return i?(t=t===n?1:ge(t),Et(e,t)):[]}function $a(e){for(var t=-1,i=e==null?0:e.length,o={};++t<i;){var h=e[t];o[h[0]]=h[1]}return o}function Ru(e){return e&&e.length?e[0]:n}function ec(e,t,i){var o=e==null?0:e.length;if(!o)return-1;var h=i==null?0:ge(i);return h<0&&(h=ut(o+h,0)),Er(e,t,h)}function tc(e){var t=e==null?0:e.length;return t?ln(e,0,-1):[]}var nc=Se(function(e){var t=Ye(e,il);return t.length&&t[0]===e[0]?Z0(t):[]}),rc=Se(function(e){var t=sn(e),i=Ye(e,il);return t===sn(i)?t=n:i.pop(),i.length&&i[0]===e[0]?Z0(i,oe(t,2)):[]}),ic=Se(function(e){var t=sn(e),i=Ye(e,il);return t=typeof t=="function"?t:n,t&&i.pop(),i.length&&i[0]===e[0]?Z0(i,n,t):[]});function lc(e,t){return e==null?"":ef.call(e,t)}function sn(e){var t=e==null?0:e.length;return t?e[t-1]:n}function sc(e,t,i){var o=e==null?0:e.length;if(!o)return-1;var h=o;return i!==n&&(h=ge(i),h=h<0?ut(o+h,0):Dt(h,o-1)),t===t?N9(e,t,h):Mi(e,fs,h,!0)}function uc(e,t){return e&&e.length?Hs(e,ge(t)):n}var oc=Se(Du);function Du(e,t){return e&&e.length&&t&&t.length?x0(e,t):e}function fc(e,t,i){return e&&e.length&&t&&t.length?x0(e,t,oe(i,2)):e}function ac(e,t,i){return e&&e.length&&t&&t.length?x0(e,t,n,i):e}var cc=Ln(function(e,t){var i=e==null?0:e.length,o=K0(e,t);return Gs(e,Ye(t,function(h){return Bn(h,i)?+h:h}).sort($s)),o});function hc(e,t){var i=[];if(!(e&&e.length))return i;var o=-1,h=[],v=e.length;for(t=oe(t,3);++o<v;){var y=e[o];t(y,o,e)&&(i.push(y),h.push(o))}return Gs(e,h),i}function vl(e){return e==null?e:lf.call(e)}function dc(e,t,i){var o=e==null?0:e.length;return o?(i&&typeof i!="number"&&Mt(e,t,i)?(t=0,i=o):(t=t==null?0:ge(t),i=i===n?o:ge(i)),ln(e,t,i)):[]}function gc(e,t){return t0(e,t)}function _c(e,t,i){return tl(e,t,oe(i,2))}function mc(e,t){var i=e==null?0:e.length;if(i){var o=t0(e,t);if(o<i&&hn(e[o],t))return o}return-1}function vc(e,t){return t0(e,t,!0)}function bc(e,t,i){return tl(e,t,oe(i,2),!0)}function wc(e,t){var i=e==null?0:e.length;if(i){var o=t0(e,t,!0)-1;if(hn(e[o],t))return o}return-1}function yc(e){return e&&e.length?qs(e):[]}function Sc(e,t){return e&&e.length?qs(e,oe(t,2)):[]}function Cc(e){var t=e==null?0:e.length;return t?ln(e,1,t):[]}function Oc(e,t,i){return e&&e.length?(t=i||t===n?1:ge(t),ln(e,0,t<0?0:t)):[]}function Ec(e,t,i){var o=e==null?0:e.length;return o?(t=i||t===n?1:ge(t),t=o-t,ln(e,t<0?0:t,o)):[]}function Ac(e,t){return e&&e.length?n0(e,oe(t,3),!1,!0):[]}function Tc(e,t){return e&&e.length?n0(e,oe(t,3)):[]}var Ic=Se(function(e){return Yn(Et(e,1,tt,!0))}),Rc=Se(function(e){var t=sn(e);return tt(t)&&(t=n),Yn(Et(e,1,tt,!0),oe(t,2))}),Dc=Se(function(e){var t=sn(e);return t=typeof t=="function"?t:n,Yn(Et(e,1,tt,!0),n,t)});function kc(e){return e&&e.length?Yn(e):[]}function Pc(e,t){return e&&e.length?Yn(e,oe(t,2)):[]}function Lc(e,t){return t=typeof t=="function"?t:n,e&&e.length?Yn(e,n,t):[]}function bl(e){if(!(e&&e.length))return[];var t=0;return e=Vn(e,function(i){if(tt(i))return t=ut(i.length,t),!0}),F0(t,function(i){return Ye(e,L0(i))})}function ku(e,t){if(!(e&&e.length))return[];var i=bl(e);return t==null?i:Ye(i,function(o){return Yt(t,n,o)})}var Bc=Se(function(e,t){return tt(e)?ui(e,t):[]}),Mc=Se(function(e){return rl(Vn(e,tt))}),Fc=Se(function(e){var t=sn(e);return tt(t)&&(t=n),rl(Vn(e,tt),oe(t,2))}),Uc=Se(function(e){var t=sn(e);return t=typeof t=="function"?t:n,rl(Vn(e,tt),n,t)}),Nc=Se(bl);function Wc(e,t){return js(e||[],t||[],si)}function Hc(e,t){return js(e||[],t||[],ai)}var zc=Se(function(e){var t=e.length,i=t>1?e[t-1]:n;return i=typeof i=="function"?(e.pop(),i):n,ku(e,i)});function Pu(e){var t=_(e);return t.__chain__=!0,t}function Vc(e,t){return t(e),e}function c0(e,t){return t(e)}var Gc=Ln(function(e){var t=e.length,i=t?e[0]:0,o=this.__wrapped__,h=function(v){return K0(v,e)};return t>1||this.__actions__.length||!(o instanceof Ie)||!Bn(i)?this.thru(h):(o=o.slice(i,+i+(t?1:0)),o.__actions__.push({func:c0,args:[h],thisArg:n}),new nn(o,this.__chain__).thru(function(v){return t&&!v.length&&v.push(n),v}))});function Kc(){return Pu(this)}function qc(){return new nn(this.value(),this.__chain__)}function Jc(){this.__values__===n&&(this.__values__=Ju(this.value()));var e=this.__index__>=this.__values__.length,t=e?n:this.__values__[this.__index__++];return{done:e,value:t}}function Yc(){return this}function Zc(e){for(var t,i=this;i instanceof Xi;){var o=Eu(i);o.__index__=0,o.__values__=n,t?h.__wrapped__=o:t=o;var h=o;i=i.__wrapped__}return h.__wrapped__=e,t}function jc(){var e=this.__wrapped__;if(e instanceof Ie){var t=e;return this.__actions__.length&&(t=new Ie(this)),t=t.reverse(),t.__actions__.push({func:c0,args:[vl],thisArg:n}),new nn(t,this.__chain__)}return this.thru(vl)}function Xc(){return Zs(this.__wrapped__,this.__actions__)}var Qc=r0(function(e,t,i){Me.call(e,i)?++e[i]:kn(e,i,1)});function xc(e,t,i){var o=pe(e)?us:zf;return i&&Mt(e,t,i)&&(t=n),o(e,oe(t,3))}function $c(e,t){var i=pe(e)?Vn:ks;return i(e,oe(t,3))}var eh=lu(Au),th=lu(Tu);function nh(e,t){return Et(h0(e,t),1)}function rh(e,t){return Et(h0(e,t),Ce)}function ih(e,t,i){return i=i===n?1:ge(i),Et(h0(e,t),i)}function Lu(e,t){var i=pe(e)?en:Jn;return i(e,oe(t,3))}function Bu(e,t){var i=pe(e)?y9:Ds;return i(e,oe(t,3))}var lh=r0(function(e,t,i){Me.call(e,i)?e[i].push(t):kn(e,i,[t])});function sh(e,t,i,o){e=zt(e)?e:Ur(e),i=i&&!o?ge(i):0;var h=e.length;return i<0&&(i=ut(h+i,0)),m0(e)?i<=h&&e.indexOf(t,i)>-1:!!h&&Er(e,t,i)>-1}var uh=Se(function(e,t,i){var o=-1,h=typeof t=="function",v=zt(e)?D(e.length):[];return Jn(e,function(y){v[++o]=h?Yt(t,y,i):oi(y,t,i)}),v}),oh=r0(function(e,t,i){kn(e,i,t)});function h0(e,t){var i=pe(e)?Ye:Us;return i(e,oe(t,3))}function fh(e,t,i,o){return e==null?[]:(pe(t)||(t=t==null?[]:[t]),i=o?n:i,pe(i)||(i=i==null?[]:[i]),zs(e,t,i))}var ah=r0(function(e,t,i){e[i?0:1].push(t)},function(){return[[],[]]});function ch(e,t,i){var o=pe(e)?k0:cs,h=arguments.length<3;return o(e,oe(t,4),i,h,Jn)}function hh(e,t,i){var o=pe(e)?S9:cs,h=arguments.length<3;return o(e,oe(t,4),i,h,Ds)}function dh(e,t){var i=pe(e)?Vn:ks;return i(e,g0(oe(t,3)))}function ph(e){var t=pe(e)?As:la;return t(e)}function gh(e,t,i){(i?Mt(e,t,i):t===n)?t=1:t=ge(t);var o=pe(e)?Ff:sa;return o(e,t)}function _h(e){var t=pe(e)?Uf:oa;return t(e)}function mh(e){if(e==null)return 0;if(zt(e))return m0(e)?Tr(e):e.length;var t=kt(e);return t==rt||t==G?e.size:X0(e).length}function vh(e,t,i){var o=pe(e)?P0:fa;return i&&Mt(e,t,i)&&(t=n),o(e,oe(t,3))}var bh=Se(function(e,t){if(e==null)return[];var i=t.length;return i>1&&Mt(e,t[0],t[1])?t=[]:i>2&&Mt(t[0],t[1],t[2])&&(t=[t[0]]),zs(e,Et(t,1),[])}),d0=Q9||function(){return Ot.Date.now()};function wh(e,t){if(typeof t!="function")throw new tn(f);return e=ge(e),function(){if(--e<1)return t.apply(this,arguments)}}function Mu(e,t,i){return t=i?n:t,t=e&&t==null?e.length:t,Pn(e,$,n,n,n,n,t)}function Fu(e,t){var i;if(typeof t!="function")throw new tn(f);return e=ge(e),function(){return--e>0&&(i=t.apply(this,arguments)),e<=1&&(t=n),i}}var wl=Se(function(e,t,i){var o=U;if(i.length){var h=Kn(i,Mr(wl));o|=J}return Pn(e,o,t,i,h)}),Uu=Se(function(e,t,i){var o=U|z;if(i.length){var h=Kn(i,Mr(Uu));o|=J}return Pn(t,o,e,i,h)});function Nu(e,t,i){t=i?n:t;var o=Pn(e,q,n,n,n,n,n,t);return o.placeholder=Nu.placeholder,o}function Wu(e,t,i){t=i?n:t;var o=Pn(e,B,n,n,n,n,n,t);return o.placeholder=Wu.placeholder,o}function Hu(e,t,i){var o,h,v,y,S,A,M=0,F=!1,V=!1,X=!0;if(typeof e!="function")throw new tn(f);t=un(t)||0,je(i)&&(F=!!i.leading,V="maxWait"in i,v=V?ut(un(i.maxWait)||0,t):v,X="trailing"in i?!!i.trailing:X);function ne(nt){var dn=o,Un=h;return o=h=n,M=nt,y=e.apply(Un,dn),y}function fe(nt){return M=nt,S=di(Ee,t),F?ne(nt):y}function be(nt){var dn=nt-A,Un=nt-M,lo=t-dn;return V?Dt(lo,v-Un):lo}function ae(nt){var dn=nt-A,Un=nt-M;return A===n||dn>=t||dn<0||V&&Un>=v}function Ee(){var nt=d0();if(ae(nt))return De(nt);S=di(Ee,be(nt))}function De(nt){return S=n,X&&o?ne(nt):(o=h=n,y)}function Qt(){S!==n&&Xs(S),M=0,o=A=h=S=n}function Ft(){return S===n?y:De(d0())}function xt(){var nt=d0(),dn=ae(nt);if(o=arguments,h=this,A=nt,dn){if(S===n)return fe(A);if(V)return Xs(S),S=di(Ee,t),ne(A)}return S===n&&(S=di(Ee,t)),y}return xt.cancel=Qt,xt.flush=Ft,xt}var yh=Se(function(e,t){return Rs(e,1,t)}),Sh=Se(function(e,t,i){return Rs(e,un(t)||0,i)});function Ch(e){return Pn(e,re)}function p0(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new tn(f);var i=function(){var o=arguments,h=t?t.apply(this,o):o[0],v=i.cache;if(v.has(h))return v.get(h);var y=e.apply(this,o);return i.cache=v.set(h,y)||v,y};return i.cache=new(p0.Cache||Dn),i}p0.Cache=Dn;function g0(e){if(typeof e!="function")throw new tn(f);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function Oh(e){return Fu(2,e)}var Eh=aa(function(e,t){t=t.length==1&&pe(t[0])?Ye(t[0],Zt(oe())):Ye(Et(t,1),Zt(oe()));var i=t.length;return Se(function(o){for(var h=-1,v=Dt(o.length,i);++h<v;)o[h]=t[h].call(this,o[h]);return Yt(e,this,o)})}),yl=Se(function(e,t){var i=Kn(t,Mr(yl));return Pn(e,J,n,t,i)}),zu=Se(function(e,t){var i=Kn(t,Mr(zu));return Pn(e,R,n,t,i)}),Ah=Ln(function(e,t){return Pn(e,j,n,n,n,t)});function Th(e,t){if(typeof e!="function")throw new tn(f);return t=t===n?t:ge(t),Se(e,t)}function Ih(e,t){if(typeof e!="function")throw new tn(f);return t=t==null?0:ut(ge(t),0),Se(function(i){var o=i[t],h=jn(i,0,t);return o&&Gn(h,o),Yt(e,this,h)})}function Rh(e,t,i){var o=!0,h=!0;if(typeof e!="function")throw new tn(f);return je(i)&&(o="leading"in i?!!i.leading:o,h="trailing"in i?!!i.trailing:h),Hu(e,t,{leading:o,maxWait:t,trailing:h})}function Dh(e){return Mu(e,1)}function kh(e,t){return yl(ll(t),e)}function Ph(){if(!arguments.length)return[];var e=arguments[0];return pe(e)?e:[e]}function Lh(e){return rn(e,w)}function Bh(e,t){return t=typeof t=="function"?t:n,rn(e,w,t)}function Mh(e){return rn(e,b|w)}function Fh(e,t){return t=typeof t=="function"?t:n,rn(e,b|w,t)}function Uh(e,t){return t==null||Is(e,t,wt(t))}function hn(e,t){return e===t||e!==e&&t!==t}var Nh=u0(Y0),Wh=u0(function(e,t){return e>=t}),ar=Bs(function(){return arguments}())?Bs:function(e){return $e(e)&&Me.call(e,"callee")&&!ws.call(e,"callee")},pe=D.isArray,Hh=ts?Zt(ts):Yf;function zt(e){return e!=null&&_0(e.length)&&!Mn(e)}function tt(e){return $e(e)&&zt(e)}function zh(e){return e===!0||e===!1||$e(e)&&Bt(e)==_t}var Xn=$9||Pl,Vh=ns?Zt(ns):Zf;function Gh(e){return $e(e)&&e.nodeType===1&&!pi(e)}function Kh(e){if(e==null)return!0;if(zt(e)&&(pe(e)||typeof e=="string"||typeof e.splice=="function"||Xn(e)||Fr(e)||ar(e)))return!e.length;var t=kt(e);if(t==rt||t==G)return!e.size;if(hi(e))return!X0(e).length;for(var i in e)if(Me.call(e,i))return!1;return!0}function qh(e,t){return fi(e,t)}function Jh(e,t,i){i=typeof i=="function"?i:n;var o=i?i(e,t):n;return o===n?fi(e,t,n,i):!!o}function Sl(e){if(!$e(e))return!1;var t=Bt(e);return t==Ue||t==En||typeof e.message=="string"&&typeof e.name=="string"&&!pi(e)}function Yh(e){return typeof e=="number"&&Ss(e)}function Mn(e){if(!je(e))return!1;var t=Bt(e);return t==Ut||t==An||t==et||t==Nt}function Vu(e){return typeof e=="number"&&e==ge(e)}function _0(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Te}function je(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function $e(e){return e!=null&&typeof e=="object"}var Gu=rs?Zt(rs):Xf;function Zh(e,t){return e===t||j0(e,t,hl(t))}function jh(e,t,i){return i=typeof i=="function"?i:n,j0(e,t,hl(t),i)}function Xh(e){return Ku(e)&&e!=+e}function Qh(e){if(La(e))throw new de(c);return Ms(e)}function xh(e){return e===null}function $h(e){return e==null}function Ku(e){return typeof e=="number"||$e(e)&&Bt(e)==mt}function pi(e){if(!$e(e)||Bt(e)!=it)return!1;var t=Gi(e);if(t===null)return!0;var i=Me.call(t,"constructor")&&t.constructor;return typeof i=="function"&&i instanceof i&&Wi.call(i)==Y9}var Cl=is?Zt(is):Qf;function e1(e){return Vu(e)&&e>=-Te&&e<=Te}var qu=ls?Zt(ls):xf;function m0(e){return typeof e=="string"||!pe(e)&&$e(e)&&Bt(e)==ce}function Xt(e){return typeof e=="symbol"||$e(e)&&Bt(e)==St}var Fr=ss?Zt(ss):$f;function t1(e){return e===n}function n1(e){return $e(e)&&kt(e)==Qe}function r1(e){return $e(e)&&Bt(e)==Lt}var i1=u0(Q0),l1=u0(function(e,t){return e<=t});function Ju(e){if(!e)return[];if(zt(e))return m0(e)?an(e):Ht(e);if(ti&&e[ti])return M9(e[ti]());var t=kt(e),i=t==rt?N0:t==G?Fi:Ur;return i(e)}function Fn(e){if(!e)return e===0?e:0;if(e=un(e),e===Ce||e===-Ce){var t=e<0?-1:1;return t*Ke}return e===e?e:0}function ge(e){var t=Fn(e),i=t%1;return t===t?i?t-i:t:0}function Yu(e){return e?sr(ge(e),0,ke):0}function un(e){if(typeof e=="number")return e;if(Xt(e))return gt;if(je(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=je(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=hs(e);var i=br.test(e);return i||Ii.test(e)?v9(e.slice(2),i?2:8):Ai.test(e)?gt:+e}function Zu(e){return bn(e,Vt(e))}function s1(e){return e?sr(ge(e),-Te,Te):e===0?e:0}function Le(e){return e==null?"":jt(e)}var u1=Lr(function(e,t){if(hi(t)||zt(t)){bn(t,wt(t),e);return}for(var i in t)Me.call(t,i)&&si(e,i,t[i])}),ju=Lr(function(e,t){bn(t,Vt(t),e)}),v0=Lr(function(e,t,i,o){bn(t,Vt(t),e,o)}),o1=Lr(function(e,t,i,o){bn(t,wt(t),e,o)}),f1=Ln(K0);function a1(e,t){var i=Pr(e);return t==null?i:Ts(i,t)}var c1=Se(function(e,t){e=ze(e);var i=-1,o=t.length,h=o>2?t[2]:n;for(h&&Mt(t[0],t[1],h)&&(o=1);++i<o;)for(var v=t[i],y=Vt(v),S=-1,A=y.length;++S<A;){var M=y[S],F=e[M];(F===n||hn(F,Rr[M])&&!Me.call(e,M))&&(e[M]=v[M])}return e}),h1=Se(function(e){return e.push(n,hu),Yt(Xu,n,e)});function d1(e,t){return os(e,oe(t,3),vn)}function p1(e,t){return os(e,oe(t,3),J0)}function g1(e,t){return e==null?e:q0(e,oe(t,3),Vt)}function _1(e,t){return e==null?e:Ps(e,oe(t,3),Vt)}function m1(e,t){return e&&vn(e,oe(t,3))}function v1(e,t){return e&&J0(e,oe(t,3))}function b1(e){return e==null?[]:$i(e,wt(e))}function w1(e){return e==null?[]:$i(e,Vt(e))}function Ol(e,t,i){var o=e==null?n:ur(e,t);return o===n?i:o}function y1(e,t){return e!=null&&gu(e,t,Gf)}function El(e,t){return e!=null&&gu(e,t,Kf)}var S1=uu(function(e,t,i){t!=null&&typeof t.toString!="function"&&(t=Hi.call(t)),e[t]=i},Tl(Gt)),C1=uu(function(e,t,i){t!=null&&typeof t.toString!="function"&&(t=Hi.call(t)),Me.call(e,t)?e[t].push(i):e[t]=[i]},oe),O1=Se(oi);function wt(e){return zt(e)?Es(e):X0(e)}function Vt(e){return zt(e)?Es(e,!0):ea(e)}function E1(e,t){var i={};return t=oe(t,3),vn(e,function(o,h,v){kn(i,t(o,h,v),o)}),i}function A1(e,t){var i={};return t=oe(t,3),vn(e,function(o,h,v){kn(i,h,t(o,h,v))}),i}var T1=Lr(function(e,t,i){e0(e,t,i)}),Xu=Lr(function(e,t,i,o){e0(e,t,i,o)}),I1=Ln(function(e,t){var i={};if(e==null)return i;var o=!1;t=Ye(t,function(v){return v=Zn(v,e),o||(o=v.length>1),v}),bn(e,al(e),i),o&&(i=rn(i,b|m|w,ya));for(var h=t.length;h--;)nl(i,t[h]);return i});function R1(e,t){return Qu(e,g0(oe(t)))}var D1=Ln(function(e,t){return e==null?{}:na(e,t)});function Qu(e,t){if(e==null)return{};var i=Ye(al(e),function(o){return[o]});return t=oe(t),Vs(e,i,function(o,h){return t(o,h[0])})}function k1(e,t,i){t=Zn(t,e);var o=-1,h=t.length;for(h||(h=1,e=n);++o<h;){var v=e==null?n:e[wn(t[o])];v===n&&(o=h,v=i),e=Mn(v)?v.call(e):v}return e}function P1(e,t,i){return e==null?e:ai(e,t,i)}function L1(e,t,i,o){return o=typeof o=="function"?o:n,e==null?e:ai(e,t,i,o)}var xu=au(wt),$u=au(Vt);function B1(e,t,i){var o=pe(e),h=o||Xn(e)||Fr(e);if(t=oe(t,4),i==null){var v=e&&e.constructor;h?i=o?new v:[]:je(e)?i=Mn(v)?Pr(Gi(e)):{}:i={}}return(h?en:vn)(e,function(y,S,A){return t(i,y,S,A)}),i}function M1(e,t){return e==null?!0:nl(e,t)}function F1(e,t,i){return e==null?e:Ys(e,t,ll(i))}function U1(e,t,i,o){return o=typeof o=="function"?o:n,e==null?e:Ys(e,t,ll(i),o)}function Ur(e){return e==null?[]:U0(e,wt(e))}function N1(e){return e==null?[]:U0(e,Vt(e))}function W1(e,t,i){return i===n&&(i=t,t=n),i!==n&&(i=un(i),i=i===i?i:0),t!==n&&(t=un(t),t=t===t?t:0),sr(un(e),t,i)}function H1(e,t,i){return t=Fn(t),i===n?(i=t,t=0):i=Fn(i),e=un(e),qf(e,t,i)}function z1(e,t,i){if(i&&typeof i!="boolean"&&Mt(e,t,i)&&(t=i=n),i===n&&(typeof t=="boolean"?(i=t,t=n):typeof e=="boolean"&&(i=e,e=n)),e===n&&t===n?(e=0,t=1):(e=Fn(e),t===n?(t=e,e=0):t=Fn(t)),e>t){var o=e;e=t,t=o}if(i||e%1||t%1){var h=Cs();return Dt(e+h*(t-e+m9("1e-"+((h+"").length-1))),t)}return $0(e,t)}var V1=Br(function(e,t,i){return t=t.toLowerCase(),e+(i?eo(t):t)});function eo(e){return Al(Le(e).toLowerCase())}function to(e){return e=Le(e),e&&e.replace(Ri,D9).replace(u9,"")}function G1(e,t,i){e=Le(e),t=jt(t);var o=e.length;i=i===n?o:sr(ge(i),0,o);var h=i;return i-=t.length,i>=0&&e.slice(i,h)==t}function K1(e){return e=Le(e),e&&pr.test(e)?e.replace(Jt,k9):e}function q1(e){return e=Le(e),e&&Ne.test(e)?e.replace(ue,"\\$&"):e}var J1=Br(function(e,t,i){return e+(i?"-":"")+t.toLowerCase()}),Y1=Br(function(e,t,i){return e+(i?" ":"")+t.toLowerCase()}),Z1=iu("toLowerCase");function j1(e,t,i){e=Le(e),t=ge(t);var o=t?Tr(e):0;if(!t||o>=t)return e;var h=(t-o)/2;return s0(Yi(h),i)+e+s0(Ji(h),i)}function X1(e,t,i){e=Le(e),t=ge(t);var o=t?Tr(e):0;return t&&o<t?e+s0(t-o,i):e}function Q1(e,t,i){e=Le(e),t=ge(t);var o=t?Tr(e):0;return t&&o<t?s0(t-o,i)+e:e}function x1(e,t,i){return i||t==null?t=0:t&&(t=+t),rf(Le(e).replace(It,""),t||0)}function $1(e,t,i){return(i?Mt(e,t,i):t===n)?t=1:t=ge(t),el(Le(e),t)}function ed(){var e=arguments,t=Le(e[0]);return e.length<3?t:t.replace(e[1],e[2])}var td=Br(function(e,t,i){return e+(i?"_":"")+t.toLowerCase()});function nd(e,t,i){return i&&typeof i!="number"&&Mt(e,t,i)&&(t=i=n),i=i===n?ke:i>>>0,i?(e=Le(e),e&&(typeof t=="string"||t!=null&&!Cl(t))&&(t=jt(t),!t&&Ar(e))?jn(an(e),0,i):e.split(t,i)):[]}var rd=Br(function(e,t,i){return e+(i?" ":"")+Al(t)});function id(e,t,i){return e=Le(e),i=i==null?0:sr(ge(i),0,e.length),t=jt(t),e.slice(i,i+t.length)==t}function ld(e,t,i){var o=_.templateSettings;i&&Mt(e,t,i)&&(t=n),e=Le(e),t=v0({},t,o,cu);var h=v0({},t.imports,o.imports,cu),v=wt(h),y=U0(h,v),S,A,M=0,F=t.interpolate||er,V="__p += '",X=W0((t.escape||er).source+"|"+F.source+"|"+(F===_r?vr:er).source+"|"+(t.evaluate||er).source+"|$","g"),ne="//# sourceURL="+(Me.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++h9+"]")+`
`;e.replace(X,function(ae,Ee,De,Qt,Ft,xt){return De||(De=Qt),V+=e.slice(M,xt).replace(yr,P9),Ee&&(S=!0,V+=`' +
__e(`+Ee+`) +
'`),Ft&&(A=!0,V+=`';
`+Ft+`;
__p += '`),De&&(V+=`' +
((__t = (`+De+`)) == null ? '' : __t) +
'`),M=xt+ae.length,ae}),V+=`';
`;var fe=Me.call(t,"variable")&&t.variable;if(!fe)V=`with (obj) {
`+V+`
}
`;else if(Oi.test(fe))throw new de(a);V=(A?V.replace(Zr,""):V).replace(xn,"$1").replace(hr,"$1;"),V="function("+(fe||"obj")+`) {
`+(fe?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(S?", __e = _.escape":"")+(A?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+V+`return __p
}`;var be=ro(function(){return Pe(v,ne+"return "+V).apply(n,y)});if(be.source=V,Sl(be))throw be;return be}function sd(e){return Le(e).toLowerCase()}function ud(e){return Le(e).toUpperCase()}function od(e,t,i){if(e=Le(e),e&&(i||t===n))return hs(e);if(!e||!(t=jt(t)))return e;var o=an(e),h=an(t),v=ds(o,h),y=ps(o,h)+1;return jn(o,v,y).join("")}function fd(e,t,i){if(e=Le(e),e&&(i||t===n))return e.slice(0,_s(e)+1);if(!e||!(t=jt(t)))return e;var o=an(e),h=ps(o,an(t))+1;return jn(o,0,h).join("")}function ad(e,t,i){if(e=Le(e),e&&(i||t===n))return e.replace(It,"");if(!e||!(t=jt(t)))return e;var o=an(e),h=ds(o,an(t));return jn(o,h).join("")}function cd(e,t){var i=Ae,o=Ge;if(je(t)){var h="separator"in t?t.separator:h;i="length"in t?ge(t.length):i,o="omission"in t?jt(t.omission):o}e=Le(e);var v=e.length;if(Ar(e)){var y=an(e);v=y.length}if(i>=v)return e;var S=i-Tr(o);if(S<1)return o;var A=y?jn(y,0,S).join(""):e.slice(0,S);if(h===n)return A+o;if(y&&(S+=A.length-S),Cl(h)){if(e.slice(S).search(h)){var M,F=A;for(h.global||(h=W0(h.source,Le(Xr.exec(h))+"g")),h.lastIndex=0;M=h.exec(F);)var V=M.index;A=A.slice(0,V===n?S:V)}}else if(e.indexOf(jt(h),S)!=S){var X=A.lastIndexOf(h);X>-1&&(A=A.slice(0,X))}return A+o}function hd(e){return e=Le(e),e&&$n.test(e)?e.replace(dr,W9):e}var dd=Br(function(e,t,i){return e+(i?" ":"")+t.toUpperCase()}),Al=iu("toUpperCase");function no(e,t,i){return e=Le(e),t=i?n:t,t===n?B9(e)?V9(e):E9(e):e.match(t)||[]}var ro=Se(function(e,t){try{return Yt(e,n,t)}catch(i){return Sl(i)?i:new de(i)}}),pd=Ln(function(e,t){return en(t,function(i){i=wn(i),kn(e,i,wl(e[i],e))}),e});function gd(e){var t=e==null?0:e.length,i=oe();return e=t?Ye(e,function(o){if(typeof o[1]!="function")throw new tn(f);return[i(o[0]),o[1]]}):[],Se(function(o){for(var h=-1;++h<t;){var v=e[h];if(Yt(v[0],this,o))return Yt(v[1],this,o)}})}function _d(e){return Hf(rn(e,b))}function Tl(e){return function(){return e}}function md(e,t){return e==null||e!==e?t:e}var vd=su(),bd=su(!0);function Gt(e){return e}function Il(e){return Fs(typeof e=="function"?e:rn(e,b))}function wd(e){return Ns(rn(e,b))}function yd(e,t){return Ws(e,rn(t,b))}var Sd=Se(function(e,t){return function(i){return oi(i,e,t)}}),Cd=Se(function(e,t){return function(i){return oi(e,i,t)}});function Rl(e,t,i){var o=wt(t),h=$i(t,o);i==null&&!(je(t)&&(h.length||!o.length))&&(i=t,t=e,e=this,h=$i(t,wt(t)));var v=!(je(i)&&"chain"in i)||!!i.chain,y=Mn(e);return en(h,function(S){var A=t[S];e[S]=A,y&&(e.prototype[S]=function(){var M=this.__chain__;if(v||M){var F=e(this.__wrapped__),V=F.__actions__=Ht(this.__actions__);return V.push({func:A,args:arguments,thisArg:e}),F.__chain__=M,F}return A.apply(e,Gn([this.value()],arguments))})}),e}function Od(){return Ot._===this&&(Ot._=Z9),this}function Dl(){}function Ed(e){return e=ge(e),Se(function(t){return Hs(t,e)})}var Ad=ul(Ye),Td=ul(us),Id=ul(P0);function io(e){return pl(e)?L0(wn(e)):ra(e)}function Rd(e){return function(t){return e==null?n:ur(e,t)}}var Dd=ou(),kd=ou(!0);function kl(){return[]}function Pl(){return!1}function Pd(){return{}}function Ld(){return""}function Bd(){return!0}function Md(e,t){if(e=ge(e),e<1||e>Te)return[];var i=ke,o=Dt(e,ke);t=oe(t),e-=ke;for(var h=F0(o,t);++i<e;)t(i);return h}function Fd(e){return pe(e)?Ye(e,wn):Xt(e)?[e]:Ht(Ou(Le(e)))}function Ud(e){var t=++J9;return Le(e)+t}var Nd=l0(function(e,t){return e+t},0),Wd=ol("ceil"),Hd=l0(function(e,t){return e/t},1),zd=ol("floor");function Vd(e){return e&&e.length?xi(e,Gt,Y0):n}function Gd(e,t){return e&&e.length?xi(e,oe(t,2),Y0):n}function Kd(e){return as(e,Gt)}function qd(e,t){return as(e,oe(t,2))}function Jd(e){return e&&e.length?xi(e,Gt,Q0):n}function Yd(e,t){return e&&e.length?xi(e,oe(t,2),Q0):n}var Zd=l0(function(e,t){return e*t},1),jd=ol("round"),Xd=l0(function(e,t){return e-t},0);function Qd(e){return e&&e.length?M0(e,Gt):0}function xd(e,t){return e&&e.length?M0(e,oe(t,2)):0}return _.after=wh,_.ary=Mu,_.assign=u1,_.assignIn=ju,_.assignInWith=v0,_.assignWith=o1,_.at=f1,_.before=Fu,_.bind=wl,_.bindAll=pd,_.bindKey=Uu,_.castArray=Ph,_.chain=Pu,_.chunk=Ha,_.compact=za,_.concat=Va,_.cond=gd,_.conforms=_d,_.constant=Tl,_.countBy=Qc,_.create=a1,_.curry=Nu,_.curryRight=Wu,_.debounce=Hu,_.defaults=c1,_.defaultsDeep=h1,_.defer=yh,_.delay=Sh,_.difference=Ga,_.differenceBy=Ka,_.differenceWith=qa,_.drop=Ja,_.dropRight=Ya,_.dropRightWhile=Za,_.dropWhile=ja,_.fill=Xa,_.filter=$c,_.flatMap=nh,_.flatMapDeep=rh,_.flatMapDepth=ih,_.flatten=Iu,_.flattenDeep=Qa,_.flattenDepth=xa,_.flip=Ch,_.flow=vd,_.flowRight=bd,_.fromPairs=$a,_.functions=b1,_.functionsIn=w1,_.groupBy=lh,_.initial=tc,_.intersection=nc,_.intersectionBy=rc,_.intersectionWith=ic,_.invert=S1,_.invertBy=C1,_.invokeMap=uh,_.iteratee=Il,_.keyBy=oh,_.keys=wt,_.keysIn=Vt,_.map=h0,_.mapKeys=E1,_.mapValues=A1,_.matches=wd,_.matchesProperty=yd,_.memoize=p0,_.merge=T1,_.mergeWith=Xu,_.method=Sd,_.methodOf=Cd,_.mixin=Rl,_.negate=g0,_.nthArg=Ed,_.omit=I1,_.omitBy=R1,_.once=Oh,_.orderBy=fh,_.over=Ad,_.overArgs=Eh,_.overEvery=Td,_.overSome=Id,_.partial=yl,_.partialRight=zu,_.partition=ah,_.pick=D1,_.pickBy=Qu,_.property=io,_.propertyOf=Rd,_.pull=oc,_.pullAll=Du,_.pullAllBy=fc,_.pullAllWith=ac,_.pullAt=cc,_.range=Dd,_.rangeRight=kd,_.rearg=Ah,_.reject=dh,_.remove=hc,_.rest=Th,_.reverse=vl,_.sampleSize=gh,_.set=P1,_.setWith=L1,_.shuffle=_h,_.slice=dc,_.sortBy=bh,_.sortedUniq=yc,_.sortedUniqBy=Sc,_.split=nd,_.spread=Ih,_.tail=Cc,_.take=Oc,_.takeRight=Ec,_.takeRightWhile=Ac,_.takeWhile=Tc,_.tap=Vc,_.throttle=Rh,_.thru=c0,_.toArray=Ju,_.toPairs=xu,_.toPairsIn=$u,_.toPath=Fd,_.toPlainObject=Zu,_.transform=B1,_.unary=Dh,_.union=Ic,_.unionBy=Rc,_.unionWith=Dc,_.uniq=kc,_.uniqBy=Pc,_.uniqWith=Lc,_.unset=M1,_.unzip=bl,_.unzipWith=ku,_.update=F1,_.updateWith=U1,_.values=Ur,_.valuesIn=N1,_.without=Bc,_.words=no,_.wrap=kh,_.xor=Mc,_.xorBy=Fc,_.xorWith=Uc,_.zip=Nc,_.zipObject=Wc,_.zipObjectDeep=Hc,_.zipWith=zc,_.entries=xu,_.entriesIn=$u,_.extend=ju,_.extendWith=v0,Rl(_,_),_.add=Nd,_.attempt=ro,_.camelCase=V1,_.capitalize=eo,_.ceil=Wd,_.clamp=W1,_.clone=Lh,_.cloneDeep=Mh,_.cloneDeepWith=Fh,_.cloneWith=Bh,_.conformsTo=Uh,_.deburr=to,_.defaultTo=md,_.divide=Hd,_.endsWith=G1,_.eq=hn,_.escape=K1,_.escapeRegExp=q1,_.every=xc,_.find=eh,_.findIndex=Au,_.findKey=d1,_.findLast=th,_.findLastIndex=Tu,_.findLastKey=p1,_.floor=zd,_.forEach=Lu,_.forEachRight=Bu,_.forIn=g1,_.forInRight=_1,_.forOwn=m1,_.forOwnRight=v1,_.get=Ol,_.gt=Nh,_.gte=Wh,_.has=y1,_.hasIn=El,_.head=Ru,_.identity=Gt,_.includes=sh,_.indexOf=ec,_.inRange=H1,_.invoke=O1,_.isArguments=ar,_.isArray=pe,_.isArrayBuffer=Hh,_.isArrayLike=zt,_.isArrayLikeObject=tt,_.isBoolean=zh,_.isBuffer=Xn,_.isDate=Vh,_.isElement=Gh,_.isEmpty=Kh,_.isEqual=qh,_.isEqualWith=Jh,_.isError=Sl,_.isFinite=Yh,_.isFunction=Mn,_.isInteger=Vu,_.isLength=_0,_.isMap=Gu,_.isMatch=Zh,_.isMatchWith=jh,_.isNaN=Xh,_.isNative=Qh,_.isNil=$h,_.isNull=xh,_.isNumber=Ku,_.isObject=je,_.isObjectLike=$e,_.isPlainObject=pi,_.isRegExp=Cl,_.isSafeInteger=e1,_.isSet=qu,_.isString=m0,_.isSymbol=Xt,_.isTypedArray=Fr,_.isUndefined=t1,_.isWeakMap=n1,_.isWeakSet=r1,_.join=lc,_.kebabCase=J1,_.last=sn,_.lastIndexOf=sc,_.lowerCase=Y1,_.lowerFirst=Z1,_.lt=i1,_.lte=l1,_.max=Vd,_.maxBy=Gd,_.mean=Kd,_.meanBy=qd,_.min=Jd,_.minBy=Yd,_.stubArray=kl,_.stubFalse=Pl,_.stubObject=Pd,_.stubString=Ld,_.stubTrue=Bd,_.multiply=Zd,_.nth=uc,_.noConflict=Od,_.noop=Dl,_.now=d0,_.pad=j1,_.padEnd=X1,_.padStart=Q1,_.parseInt=x1,_.random=z1,_.reduce=ch,_.reduceRight=hh,_.repeat=$1,_.replace=ed,_.result=k1,_.round=jd,_.runInContext=O,_.sample=ph,_.size=mh,_.snakeCase=td,_.some=vh,_.sortedIndex=gc,_.sortedIndexBy=_c,_.sortedIndexOf=mc,_.sortedLastIndex=vc,_.sortedLastIndexBy=bc,_.sortedLastIndexOf=wc,_.startCase=rd,_.startsWith=id,_.subtract=Xd,_.sum=Qd,_.sumBy=xd,_.template=ld,_.times=Md,_.toFinite=Fn,_.toInteger=ge,_.toLength=Yu,_.toLower=sd,_.toNumber=un,_.toSafeInteger=s1,_.toString=Le,_.toUpper=ud,_.trim=od,_.trimEnd=fd,_.trimStart=ad,_.truncate=cd,_.unescape=hd,_.uniqueId=Ud,_.upperCase=dd,_.upperFirst=Al,_.each=Lu,_.eachRight=Bu,_.first=Ru,Rl(_,function(){var e={};return vn(_,function(t,i){Me.call(_.prototype,i)||(e[i]=t)}),e}(),{chain:!1}),_.VERSION=l,en(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){_[e].placeholder=_}),en(["drop","take"],function(e,t){Ie.prototype[e]=function(i){i=i===n?1:ut(ge(i),0);var o=this.__filtered__&&!t?new Ie(this):this.clone();return o.__filtered__?o.__takeCount__=Dt(i,o.__takeCount__):o.__views__.push({size:Dt(i,ke),type:e+(o.__dir__<0?"Right":"")}),o},Ie.prototype[e+"Right"]=function(i){return this.reverse()[e](i).reverse()}}),en(["filter","map","takeWhile"],function(e,t){var i=t+1,o=i==le||i==ye;Ie.prototype[e]=function(h){var v=this.clone();return v.__iteratees__.push({iteratee:oe(h,3),type:i}),v.__filtered__=v.__filtered__||o,v}}),en(["head","last"],function(e,t){var i="take"+(t?"Right":"");Ie.prototype[e]=function(){return this[i](1).value()[0]}}),en(["initial","tail"],function(e,t){var i="drop"+(t?"":"Right");Ie.prototype[e]=function(){return this.__filtered__?new Ie(this):this[i](1)}}),Ie.prototype.compact=function(){return this.filter(Gt)},Ie.prototype.find=function(e){return this.filter(e).head()},Ie.prototype.findLast=function(e){return this.reverse().find(e)},Ie.prototype.invokeMap=Se(function(e,t){return typeof e=="function"?new Ie(this):this.map(function(i){return oi(i,e,t)})}),Ie.prototype.reject=function(e){return this.filter(g0(oe(e)))},Ie.prototype.slice=function(e,t){e=ge(e);var i=this;return i.__filtered__&&(e>0||t<0)?new Ie(i):(e<0?i=i.takeRight(-e):e&&(i=i.drop(e)),t!==n&&(t=ge(t),i=t<0?i.dropRight(-t):i.take(t-e)),i)},Ie.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Ie.prototype.toArray=function(){return this.take(ke)},vn(Ie.prototype,function(e,t){var i=/^(?:filter|find|map|reject)|While$/.test(t),o=/^(?:head|last)$/.test(t),h=_[o?"take"+(t=="last"?"Right":""):t],v=o||/^find/.test(t);h&&(_.prototype[t]=function(){var y=this.__wrapped__,S=o?[1]:arguments,A=y instanceof Ie,M=S[0],F=A||pe(y),V=function(Ee){var De=h.apply(_,Gn([Ee],S));return o&&X?De[0]:De};F&&i&&typeof M=="function"&&M.length!=1&&(A=F=!1);var X=this.__chain__,ne=!!this.__actions__.length,fe=v&&!X,be=A&&!ne;if(!v&&F){y=be?y:new Ie(this);var ae=e.apply(y,S);return ae.__actions__.push({func:c0,args:[V],thisArg:n}),new nn(ae,X)}return fe&&be?e.apply(this,S):(ae=this.thru(V),fe?o?ae.value()[0]:ae.value():ae)})}),en(["pop","push","shift","sort","splice","unshift"],function(e){var t=Ui[e],i=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",o=/^(?:pop|shift)$/.test(e);_.prototype[e]=function(){var h=arguments;if(o&&!this.__chain__){var v=this.value();return t.apply(pe(v)?v:[],h)}return this[i](function(y){return t.apply(pe(y)?y:[],h)})}}),vn(Ie.prototype,function(e,t){var i=_[t];if(i){var o=i.name+"";Me.call(kr,o)||(kr[o]=[]),kr[o].push({name:t,func:i})}}),kr[i0(n,z).name]=[{name:"wrapper",func:n}],Ie.prototype.clone=cf,Ie.prototype.reverse=hf,Ie.prototype.value=df,_.prototype.at=Gc,_.prototype.chain=Kc,_.prototype.commit=qc,_.prototype.next=Jc,_.prototype.plant=Zc,_.prototype.reverse=jc,_.prototype.toJSON=_.prototype.valueOf=_.prototype.value=Xc,_.prototype.first=_.prototype.head,ti&&(_.prototype[ti]=Yc),_},Ir=G9();nr?((nr.exports=Ir)._=Ir,I0._=Ir):Ot._=Ir}).call(Nr)})(b0,b0.exports);var pp=b0.exports;const uo=Ul(pp);function oo(u){let r,n,l;return{c(){r=W("input"),this.h()},l(s){r=H(s,"INPUT",{class:!0,accept:!0,id:!0,name:!0,type:!0,style:!0}),this.h()},h(){C(r,"class","file-upload svelte-3cznv6"),C(r,"accept","image/png, image/jpeg"),C(r,"id","avatar"),C(r,"name","avatar"),C(r,"type","file"),T(r,"display","none")},m(s,c){Q(s,r,c),u[20](r),n||(l=[Re(r,"change",u[16]),Re(r,"change",u[21])],n=!0)},p:Xe,d(s){s&&E(r),u[20](null),n=!1,cr(l)}}}function fo(u){let r,n;return{c(){r=W("iframe"),this.h()},l(l){r=H(l,"IFRAME",{class:!0,src:!0,scrolling:!0,frameborder:!0,style:!0,title:!0}),N(r).forEach(E),this.h()},h(){C(r,"class","user_frame"),yn(r.src,n="https://nedol.ru/kolmit/user/iframe.html?em="+u[1].email+"&abonent="+u[3].abonent)||C(r,"src",n),C(r,"scrolling","no"),C(r,"frameborder","0"),T(r,"position","absolute"),T(r,"width","100%"),T(r,"top","0"),T(r,"left","0"),C(r,"title","")},m(l,s){Q(l,r,s)},p(l,s){s[0]&10&&!yn(r.src,n="https://nedol.ru/kolmit/user/iframe.html?em="+l[1].email+"&abonent="+l[3].abonent)&&C(r,"src",n)},d(l){l&&E(r)}}}function ao(u){let r,n=u[0].admin.email===u[3].email&&u[3].email!==u[1].email&&u[1].role==="operator"&&co(u);return{c(){n&&n.c(),r=lt()},l(l){n&&n.l(l),r=lt()},m(l,s){n&&n.m(l,s),Q(l,r,s)},p(l,s){l[0].admin.email===l[3].email&&l[3].email!==l[1].email&&l[1].role==="operator"?n?n.p(l,s):(n=co(l),n.c(),n.m(r.parentNode,r)):n&&(n.d(1),n=null)},d(l){l&&E(r),n&&n.d(l)}}}function co(u){let r,n,l,s,c,f;return{c(){r=We("svg"),n=We("glyph"),l=We("g"),s=We("path"),this.h()},l(a){r=He(a,"svg",{height:!0,width:!0,style:!0});var p=N(r);n=He(p,"glyph",{"glyph-name":!0,unicode:!0,"horiz-adv-x":!0}),N(n).forEach(E),l=He(p,"g",{class:!0});var d=N(l);s=He(d,"path",{d:!0,transform:!0,style:!0}),N(s).forEach(E),d.forEach(E),p.forEach(E),this.h()},h(){C(n,"glyph-name","minus-circle"),C(n,"unicode",""),C(n,"horiz-adv-x","50"),C(s,"d","M500.2 62.5c-241.8 0-437.7 195.89999999999998-437.7 437.3 0 241.8 195.89999999999998 437.7 437.7 437.7 241.40000000000003 0 437.3-195.89999999999998 437.3-437.7 0-241.40000000000003-195.89999999999998-437.3-437.3-437.3z m301.59999999999997 466.5c-0.6999999999999318 9-2.199999999999932 19.100000000000023-4.699999999999932 30.299999999999955h-593.9000000000001c-2.499999999999943-11.199999999999932-4.299999999999926-21.699999999999932-5.0999999999999375-31.399999999999977-0.6999999999999886-9.699999999999932-1.0999999999999943-19.799999999999955-1.0999999999999943-30.299999999999955 0-9 0.4000000000000057-18 1.0999999999999943-26.700000000000045 0.700000000000017-9 2.5-19.099999999999966 5.099999999999994-30.299999999999955h593.9000000000001c2.4999999999998863 11.199999999999989 3.9999999999998863 21.599999999999966 4.699999999999818 31.399999999999977 1.1000000000000227 9.699999999999989 1.400000000000091 19.80000000000001 1.400000000000091 30.30000000000001 0.09999999999990905 9.099999999999966-0.3000000000000682 17.69999999999999-1.400000000000091 26.69999999999999z"),C(s,"transform","scale(.03)"),T(s,"fill","lightgrey"),T(s,"stroke","black"),T(s,"stroke-width","20px"),C(l,"class","currentLayer"),C(r,"height","30"),C(r,"width","30"),T(r,"position","absolute"),T(r,"bottom","-15px"),T(r,"left","-9px")},m(a,p){Q(a,r,p),I(r,n),I(r,l),I(l,s),c||(f=Re(r,"click",function(){w0(u[18](u[1]))&&u[18](u[1]).apply(this,arguments)}),c=!0)},p(a,p){u=a},d(a){a&&E(r),c=!1,f()}}}function gp(u){let r,n,l,s,c;return{c(){r=W("input"),n=ee(),l=W("input"),this.h()},l(f){r=H(f,"INPUT",{type:!0,class:!0,placeholder:!0,style:!0}),n=te(f),l=H(f,"INPUT",{type:!0,class:!0,placeholder:!0,style:!0}),this.h()},h(){C(r,"type","text"),C(r,"class","user_name svelte-3cznv6"),C(r,"placeholder",u[6]),r.readOnly=u[11],T(r,"width","80%"),C(l,"type","text"),C(l,"class","user_email svelte-3cznv6"),C(l,"placeholder",u[7]),l.readOnly=u[12],T(l,"width","100%"),T(l,"max-height","100px")},m(f,a){Q(f,r,a),pn(r,u[1].name),Q(f,n,a),Q(f,l,a),pn(l,u[1].email),s||(c=[Re(r,"change",u[17]),Re(r,"input",u[22]),Re(l,"change",u[17]),Re(l,"input",u[23])],s=!0)},p(f,a){a[0]&64&&C(r,"placeholder",f[6]),a[0]&2048&&(r.readOnly=f[11]),a[0]&2&&r.value!==f[1].name&&pn(r,f[1].name),a[0]&128&&C(l,"placeholder",f[7]),a[0]&4096&&(l.readOnly=f[12]),a[0]&2&&l.value!==f[1].email&&pn(l,f[1].email)},d(f){f&&(E(r),E(n),E(l)),s=!1,cr(c)}}}function ho(u){let r,n,l;function s(f){u[25](f)}let c={operator:u[1].email,$$slots:{default:[_p]},$$scope:{ctx:u}};return u[10]!==void 0&&(c.status=u[10]),r=new ap({props:c}),Ze.push(()=>Tt(r,"status",s)),{c(){ot(r.$$.fragment)},l(f){ft(r.$$.fragment,f)},m(f,a){at(r,f,a),l=!0},p(f,a){const p={};a[0]&2&&(p.operator=f[1].email),a[1]&1024&&(p.$$scope={dirty:a,ctx:f}),!n&&a[0]&1024&&(n=!0,p.status=f[10],At(()=>n=!1)),r.$set(p)},i(f){l||(se(r.$$.fragment,f),l=!0)},o(f){he(r.$$.fragment,f),l=!1},d(f){ct(r,f)}}}function _p(u){let r,n;return{c(){r=W("img"),this.h()},l(l){r=H(l,"IMG",{src:!0,alt:!0,width:!0,height:!0}),this.h()},h(){yn(r.src,n="./src/routes/assets/call-forward.svg")||C(r,"src",n),C(r,"alt","call-forward"),C(r,"width","30px"),C(r,"height","30px")},m(l,s){Q(l,r,s)},p:Xe,d(l){l&&E(r)}}}function po(u){let r,n;return r=new dp({props:{status:u[10],operator:u[1].email,$$slots:{default:[mp]},$$scope:{ctx:u}}}),{c(){ot(r.$$.fragment)},l(l){ft(r.$$.fragment,l)},m(l,s){at(r,l,s),n=!0},p(l,s){const c={};s[0]&1024&&(c.status=l[10]),s[0]&2&&(c.operator=l[1].email),s[1]&1024&&(c.$$scope={dirty:s,ctx:l}),r.$set(c)},i(l){n||(se(r.$$.fragment,l),n=!0)},o(l){he(r.$$.fragment,l),n=!1},d(l){ct(r,l)}}}function mp(u){let r,n;return{c(){r=W("img"),this.h()},l(l){r=H(l,"IMG",{src:!0,alt:!0,width:!0,height:!0}),this.h()},h(){yn(r.src,n="./src/routes/assets/file-transfer.svg")||C(r,"src",n),C(r,"alt","file-transfer"),C(r,"width","30px"),C(r,"height","30px")},m(l,s){Q(l,r,s)},p:Xe,d(l){l&&E(r)}}}function vp(u){let r,n,l,s,c,f,a,p,d,g,b,m,w,P,L,U,z,Z=u[2]&&oo(u),q=u[1].email&&u[3].email!==u[1].email&&fo(u),B=u[2]&&ao(u),J=u[14]&&gp(u),R=u[10]==="talk"&&u[5]==="active"&&u[1].email!==u[3].email&&ho(u),$=(u[5]==="talk"||u[10]==="talk"&&u[1].email===u[3].email)&&po(u);return{c(){r=W("div"),n=W("div"),l=W("img"),c=ee(),Z&&Z.c(),f=ee(),q&&q.c(),a=ee(),B&&B.c(),p=ee(),d=W("div"),J&&J.c(),g=ee(),b=W("textarea"),m=ee(),w=W("div"),R&&R.c(),P=ee(),$&&$.c(),this.h()},l(j){r=H(j,"DIV",{style:!0});var re=N(r);n=H(re,"DIV",{class:!0,style:!0});var Ae=N(n);l=H(Ae,"IMG",{class:!0,src:!0,alt:!0,style:!0}),c=te(Ae),Z&&Z.l(Ae),f=te(Ae),q&&q.l(Ae),a=te(Ae),B&&B.l(Ae),Ae.forEach(E),p=te(re),d=H(re,"DIV",{style:!0});var Ge=N(d);J&&J.l(Ge),g=te(Ge),b=H(Ge,"TEXTAREA",{type:!0,rows:!0,class:!0,placeholder:!0,style:!0}),N(b).forEach(E),Ge.forEach(E),m=te(re),w=H(re,"DIV",{style:!0});var Oe=N(w);R&&R.l(Oe),P=te(Oe),$&&$.l(Oe),Oe.forEach(E),re.forEach(E),this.h()},h(){C(l,"class","user_pic is-rounded"),yn(l.src,s=u[1].picture.medium)||C(l,"src",s),C(l,"alt",""),T(l,"border-radius","5px"),T(l,"float","right"),T(l,"max-width","100%"),C(n,"class","user_pic_div"),T(n,"position","relative"),T(n,"width","100px"),C(b,"type","text"),C(b,"rows","3"),C(b,"class","user_desc svelte-3cznv6"),C(b,"placeholder",u[8]),b.readOnly=u[11],T(b,"width","85%"),T(b,"overflow","auto"),T(b,"max-height","100px"),T(b,"resize","none"),T(d,"flex","1"),T(d,"margin-left","10px"),T(w,"display","flex"),T(w,"flex-flow","row nowrap"),T(w,"align-items","flex-start"),T(w,"flex-direction","column"),T(r,"display","flex"),T(r,"flex-wrap","nowrap"),T(r,"justify-content","space-between"),T(r,"padding","4px")},m(j,re){Q(j,r,re),I(r,n),I(n,l),I(n,c),Z&&Z.m(n,null),I(n,f),q&&q.m(n,null),I(n,a),B&&B.m(n,null),I(r,p),I(r,d),J&&J.m(d,null),I(d,g),I(d,b),pn(b,u[1].desc),I(r,m),I(r,w),R&&R.m(w,null),I(w,P),$&&$.m(w,null),u[26](r),L=!0,U||(z=[Re(l,"click",u[15]),Re(b,"change",u[17]),Re(b,"input",u[24])],U=!0)},p(j,re){(!L||re[0]&2&&!yn(l.src,s=j[1].picture.medium))&&C(l,"src",s),j[2]?Z?Z.p(j,re):(Z=oo(j),Z.c(),Z.m(n,f)):Z&&(Z.d(1),Z=null),j[1].email&&j[3].email!==j[1].email?q?q.p(j,re):(q=fo(j),q.c(),q.m(n,a)):q&&(q.d(1),q=null),j[2]?B?B.p(j,re):(B=ao(j),B.c(),B.m(n,null)):B&&(B.d(1),B=null),j[14]&&J.p(j,re),(!L||re[0]&256)&&C(b,"placeholder",j[8]),(!L||re[0]&2048)&&(b.readOnly=j[11]),re[0]&2&&pn(b,j[1].desc),j[10]==="talk"&&j[5]==="active"&&j[1].email!==j[3].email?R?(R.p(j,re),re[0]&1066&&se(R,1)):(R=ho(j),R.c(),se(R,1),R.m(w,P)):R&&(Sn(),he(R,1,1,()=>{R=null}),Cn()),j[5]==="talk"||j[10]==="talk"&&j[1].email===j[3].email?$?($.p(j,re),re[0]&1066&&se($,1)):($=po(j),$.c(),se($,1),$.m(w,null)):$&&(Sn(),he($,1,1,()=>{$=null}),Cn())},i(j){L||(se(R),se($),L=!0)},o(j){he(R),he($),L=!1},d(j){j&&E(r),Z&&Z.d(),q&&q.d(),B&&B.d(),J&&J.d(),R&&R.d(),$&&$.d(),u[26](null),U=!1,cr(z)}}}function bp(u,r,n){let l,s,c;Kt(u,y0,ie=>n(29,l=ie)),Kt(u,vi,ie=>n(30,ie)),Kt(u,bi,ie=>n(31,s=ie)),Kt(u,Nn,ie=>n(32,c=ie));let f=c,{operator:a}=r,{id:p}=r,{dep:d}=r,{user:g}=r,b,m,w,P,L,U,z=s;z&&(w=z["input operator name"][f],P=z["input operator email"][f],L=z["input description"][f]);let Z="";S0.subscribe(ie=>{n(10,Z=ie)});let q=l,{edited_display:B}=r,J=!0,R=!0;const $=_i.subscribe(ie=>{n(2,B=ie),n(11,J=!B),n(12,R=!B)});mi($),g.email=g.email?g.email:"";const j=ie=>ie?ie.replace(/^([a-z])/,(ve,Be)=>Be.toUpperCase()):"";g.name=j(g.name);let re;Wn(()=>{g.email&&a.email===g.email&&Ho.set(re)});function Ae(ie){let ve=new MouseEvent("click",{bubbles:!1,cancelable:!0,view:window});U&&U.dispatchEvent(ve)}let Ge,Oe;function we(ie){try{sp(ie.target.files[0],function(ve,Be){ve.type==="error"?console.error("Error loading image "):(Ge=ve.width,Oe=ve.height,n(1,g.picture.medium=ve.toDataURL(),g),le())},{orientation:!0,maxWidth:100,maxHeight:100,minWidth:50,minHeight:50,canvas:!0})}catch(ve){console.log(ve)}}async function le(ie){let ve={};ve.proj="kolmit",ve.func="changeoper",ve.abonent=a.abonent,ve.em=a.email,ve.dep_id=d.id,ve.psw=q,ve.data=g,ve.lang=f,fetch("/api/edit_cc/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({par:ve})})}async function K(ie){let ve=d.staff[p];if(ve&&confirm("Delete "+ve.name)){let Be={};Be.proj="kolmit",Be.func="remoper",Be.em=a.email,Be.id=ve.id,Be.dep=d.id,Be.lang=f,Be.abonent=a.abonent,Be.psw=q;const et=await(await fetch("/api/edit_cc/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({par:Be})})).json();n(0,d.staff=et.dep.staff,d)}}function ye(ie){Ze[ie?"unshift":"push"](()=>{U=ie,n(9,U)})}function Ce(){b=this.files,n(4,b)}function Te(){g.name=this.value,n(1,g)}function Ke(){g.email=this.value,n(1,g)}function gt(){g.desc=this.value,n(1,g)}function ke(ie){Z=ie,n(10,Z)}function qe(ie){Ze[ie?"unshift":"push"](()=>{re=ie,n(13,re)})}return u.$$set=ie=>{"operator"in ie&&n(3,a=ie.operator),"id"in ie&&n(19,p=ie.id),"dep"in ie&&n(0,d=ie.dep),"user"in ie&&n(1,g=ie.user),"edited_display"in ie&&n(2,B=ie.edited_display)},[d,g,B,a,b,m,w,P,L,U,Z,J,R,re,z,Ae,we,le,K,p,ye,Ce,Te,Ke,gt,ke,qe]}class Ko extends dt{constructor(r){super(),pt(this,r,bp,vp,ht,{operator:3,id:19,dep:0,user:1,edited_display:2},null,[-1,-1])}}function go(u,r,n){const l=u.slice();return l[32]=r[n],l[33]=r,l[34]=n,l}function _o(u){let r,n,l,s,c,f=u[1]&&mo(u);return{c(){r=W("button"),n=W("input"),l=ee(),f&&f.c(),this.h()},l(a){r=H(a,"BUTTON",{class:!0,owner:!0});var p=N(r);n=H(p,"INPUT",{type:!0,style:!0,placeholder:!0,class:!0}),l=te(p),f&&f.l(p),p.forEach(E),this.h()},h(){C(n,"type","text"),n.readOnly=u[10],T(n,"border-width","0px"),C(n,"placeholder","input dep name"),C(n,"class","svelte-1fx3n49"),C(r,"class","collapsible svelte-1fx3n49"),C(r,"owner",u[2])},m(a,p){Q(a,r,p),I(r,n),pn(n,u[0].alias),I(r,l),f&&f.m(r,null),u[16](r),s||(c=[Re(n,"change",function(){w0(u[13]({dep:u[0]}))&&u[13]({dep:u[0]}).apply(this,arguments)}),Re(n,"click",u[12]),Re(n,"input",u[15]),Re(r,"click",u[14])],s=!0)},p(a,p){u=a,p[0]&1024&&(n.readOnly=u[10]),p[0]&1&&n.value!==u[0].alias&&pn(n,u[0].alias),u[1]?f?f.p(u,p):(f=mo(u),f.c(),f.m(r,null)):f&&(f.d(1),f=null),p[0]&4&&C(r,"owner",u[2])},d(a){a&&E(r),f&&f.d(),u[16](null),s=!1,cr(c)}}}function mo(u){let r,n=u[3].email===u[3].abonent&&vo(u);return{c(){n&&n.c(),r=lt()},l(l){n&&n.l(l),r=lt()},m(l,s){n&&n.m(l,s),Q(l,r,s)},p(l,s){l[3].email===l[3].abonent?n?n.p(l,s):(n=vo(l),n.c(),n.m(r.parentNode,r)):n&&(n.d(1),n=null)},d(l){l&&E(r),n&&n.d(l)}}}function vo(u){let r,n,l,s,c,f;return{c(){r=We("svg"),n=We("glyph"),l=We("g"),s=We("path"),this.h()},l(a){r=He(a,"svg",{height:!0,width:!0,style:!0});var p=N(r);n=He(p,"glyph",{"glyph-name":!0,unicode:!0,"horiz-adv-x":!0}),N(n).forEach(E),l=He(p,"g",{class:!0});var d=N(l);s=He(d,"path",{d:!0,transform:!0,style:!0}),N(s).forEach(E),d.forEach(E),p.forEach(E),this.h()},h(){C(n,"glyph-name","minus-circle"),C(n,"unicode",""),C(n,"horiz-adv-x","50"),C(s,"d","M500.2 62.5c-241.8 0-437.7 195.89999999999998-437.7 437.3 0 241.8 195.89999999999998 437.7 437.7 437.7 241.40000000000003 0 437.3-195.89999999999998 437.3-437.7 0-241.40000000000003-195.89999999999998-437.3-437.3-437.3z m301.59999999999997 466.5c-0.6999999999999318 9-2.199999999999932 19.100000000000023-4.699999999999932 30.299999999999955h-593.9000000000001c-2.499999999999943-11.199999999999932-4.299999999999926-21.699999999999932-5.0999999999999375-31.399999999999977-0.6999999999999886-9.699999999999932-1.0999999999999943-19.799999999999955-1.0999999999999943-30.299999999999955 0-9 0.4000000000000057-18 1.0999999999999943-26.700000000000045 0.700000000000017-9 2.5-19.099999999999966 5.099999999999994-30.299999999999955h593.9000000000001c2.4999999999998863 11.199999999999989 3.9999999999998863 21.599999999999966 4.699999999999818 31.399999999999977 1.1000000000000227 9.699999999999989 1.400000000000091 19.80000000000001 1.400000000000091 30.30000000000001 0.09999999999990905 9.099999999999966-0.3000000000000682 17.69999999999999-1.400000000000091 26.69999999999999z"),C(s,"transform","scale(.03)"),T(s,"fill","lightgrey"),T(s,"stroke","black"),T(s,"stroke-width","20px"),C(l,"class","currentLayer"),C(r,"height","30"),C(r,"width","30"),T(r,"position","relative"),T(r,"float","right")},m(a,p){Q(a,r,p),I(r,n),I(r,l),I(l,s),c||(f=Re(r,"click",function(){w0(u[6](u[0].id))&&u[6](u[0].id).apply(this,arguments)}),c=!0)},p(a,p){u=a},d(a){a&&E(r),c=!1,f()}}}function bo(u){let r,n,l,s,c,f;function a(b){u[17](b)}function p(b){u[18](b)}function d(b){u[19](b)}let g={id:u[0].admin.id,operator:u[3],update:u[4],readonly:u[10]};return u[9]!==void 0&&(g.status=u[9]),u[0]!==void 0&&(g.dep=u[0]),u[0].admin!==void 0&&(g.user=u[0].admin),n=new Ko({props:g}),Ze.push(()=>Tt(n,"status",a)),Ze.push(()=>Tt(n,"dep",p)),Ze.push(()=>Tt(n,"user",d)),{c(){r=W("div"),ot(n.$$.fragment)},l(b){r=H(b,"DIV",{});var m=N(r);ft(n.$$.fragment,m),m.forEach(E)},m(b,m){Q(b,r,m),at(n,r,null),f=!0},p(b,m){const w={};m[0]&1&&(w.id=b[0].admin.id),m[0]&8&&(w.operator=b[3]),m[0]&16&&(w.update=b[4]),m[0]&1024&&(w.readonly=b[10]),!l&&m[0]&512&&(l=!0,w.status=b[9],At(()=>l=!1)),!s&&m[0]&1&&(s=!0,w.dep=b[0],At(()=>s=!1)),!c&&m[0]&1&&(c=!0,w.user=b[0].admin,At(()=>c=!1)),n.$set(w)},i(b){f||(se(n.$$.fragment,b),f=!0)},o(b){he(n.$$.fragment,b),f=!1},d(b){b&&E(r),ct(n)}}}function wo(u){let r,n,l=Gr(u[0].staff),s=[];for(let f=0;f<l.length;f+=1)s[f]=So(go(u,l,f));const c=f=>he(s[f],1,1,()=>{s[f]=null});return{c(){for(let f=0;f<s.length;f+=1)s[f].c();r=lt()},l(f){for(let a=0;a<s.length;a+=1)s[a].l(f);r=lt()},m(f,a){for(let p=0;p<s.length;p+=1)s[p]&&s[p].m(f,a);Q(f,r,a),n=!0},p(f,a){if(a[0]&1565){l=Gr(f[0].staff);let p;for(p=0;p<l.length;p+=1){const d=go(f,l,p);s[p]?(s[p].p(d,a),se(s[p],1)):(s[p]=So(d),s[p].c(),se(s[p],1),s[p].m(r.parentNode,r))}for(Sn(),p=l.length;p<s.length;p+=1)c(p);Cn()}},i(f){if(!n){for(let a=0;a<l.length;a+=1)se(s[a]);n=!0}},o(f){s=s.filter(Boolean);for(let a=0;a<s.length;a+=1)he(s[a]);n=!1},d(f){f&&E(r),Ml(s,f)}}}function yo(u){let r,n,l,s,c,f,a;function p(m){u[20](m)}function d(m){u[21](m)}function g(m){u[22](m,u[32],u[33],u[34])}let b={id:u[34],operator:u[3],update:u[4],readonly:u[10]};return u[9]!==void 0&&(b.status=u[9]),u[0]!==void 0&&(b.dep=u[0]),u[32]!==void 0&&(b.user=u[32]),r=new Ko({props:b}),Ze.push(()=>Tt(r,"status",p)),Ze.push(()=>Tt(r,"dep",d)),Ze.push(()=>Tt(r,"user",g)),{c(){ot(r.$$.fragment),c=ee(),f=W("br")},l(m){ft(r.$$.fragment,m),c=te(m),f=H(m,"BR",{})},m(m,w){at(r,m,w),Q(m,c,w),Q(m,f,w),a=!0},p(m,w){u=m;const P={};w[0]&8&&(P.operator=u[3]),w[0]&16&&(P.update=u[4]),w[0]&1024&&(P.readonly=u[10]),!n&&w[0]&512&&(n=!0,P.status=u[9],At(()=>n=!1)),!l&&w[0]&1&&(l=!0,P.dep=u[0],At(()=>l=!1)),!s&&w[0]&1&&(s=!0,P.user=u[32],At(()=>s=!1)),r.$set(P)},i(m){a||(se(r.$$.fragment,m),a=!0)},o(m){he(r.$$.fragment,m),a=!1},d(m){m&&(E(c),E(f)),ct(r,m)}}}function So(u){let r,n,l=(u[32].email||!u[32].email&&u[2]===u[3].email)&&yo(u);return{c(){l&&l.c(),r=lt()},l(s){l&&l.l(s),r=lt()},m(s,c){l&&l.m(s,c),Q(s,r,c),n=!0},p(s,c){s[32].email||!s[32].email&&s[2]===s[3].email?l?(l.p(s,c),c[0]&13&&se(l,1)):(l=yo(s),l.c(),se(l,1),l.m(r.parentNode,r)):l&&(Sn(),he(l,1,1,()=>{l=null}),Cn())},i(s){n||(se(l),n=!0)},o(s){he(l),n=!1},d(s){s&&E(r),l&&l.d(s)}}}function Co(u){let r,n,l,s,c,f,a,p;return{c(){r=W("div"),n=We("svg"),l=We("title"),s=_e("add-user"),c=We("glyph"),f=We("path"),this.h()},l(d){r=H(d,"DIV",{class:!0,style:!0});var g=N(r);n=He(g,"svg",{style:!0});var b=N(n);l=He(b,"title",{});var m=N(l);s=me(m,"add-user"),m.forEach(E),c=He(b,"glyph",{"glyph-name":!0,unicode:!0,"horiz-adv-x":!0}),N(c).forEach(E),f=He(b,"path",{d:!0,transform:!0,style:!0}),N(f).forEach(E),b.forEach(E),g.forEach(E),this.h()},h(){C(c,"glyph-name","contact-add"),C(c,"unicode",""),C(c,"horiz-adv-x","50"),C(f,"d","M134.1 761.6c-14.5 0-26.39999999999999-11.899999999999977-26.39999999999999-26.399999999999977v-523.5c0-14.500000000000057 11.899999999999991-26.400000000000034 26.39999999999999-26.400000000000034h639.8c14.5 0 26.399999999999977 11.899999999999977 26.399999999999977 26.399999999999977v239.40000000000003c15.800000000000068 2.3999999999999773 30.90000000000009 6.2999999999999545 45.40000000000009 11.899999999999977v-288.7c0-14.5-11.900000000000091-26.400000000000006-26.40000000000009-26.400000000000006h-730.4c-14.499999999999972 0-26.399999999999977 11.900000000000006-26.399999999999977 26.400000000000006v598.7c0 14.399999999999977 11.900000000000006 26.299999999999955 26.400000000000006 26.299999999999955h479.30000000000007c-7.400000000000091-11.899999999999977-13.700000000000045-24.59999999999991-18.700000000000045-37.69999999999993h-415.4z m164.70000000000002-245h-19.400000000000034c-41.69999999999999 0-75.39999999999998 33.799999999999955-75.39999999999998 75.39999999999998v21c0 13.100000000000023 10.699999999999989 23.799999999999955 23.80000000000001 23.799999999999955h251.7c13.100000000000023 0 23.899999999999977-10.699999999999932 23.899999999999977-23.799999999999955v-21c0-41.60000000000002-33.799999999999955-75.39999999999998-75.39999999999998-75.39999999999998h-19.600000000000023c-10.099999999999966 0-18.299999999999955-8.100000000000023-18.299999999999955-18.30000000000001 0-3.8000000000000114 1.5-7.300000000000011 4.199999999999989-10 11.300000000000011-11 20.899999999999977-25.80000000000001 27.69999999999999-41.80000000000001 1.5 1.1000000000000227 2.8999999999999773 1.8000000000000114 4.5 1.8000000000000114 10.899999999999977 0 23.80000000000001-24.19999999999999 23.80000000000001-40.80000000000001 0-16.399999999999977-1.5-29.80000000000001-12.300000000000011-29.80000000000001-1.3000000000000114 0-2.8000000000000114 0.30000000000001137-4 0.6000000000000227-0.8000000000000114-44.69999999999999-12.100000000000023-100.40000000000003-80.30000000000001-100.40000000000003-71.19999999999999 0-79.5 55.60000000000002-80.19999999999999 100.20000000000005-1-0.20000000000004547-2-0.4000000000000341-2.8999999999999773-0.4000000000000341-11 0-12.5 13.400000000000034-12.5 29.80000000000001 0 16.5 12.899999999999977 40.80000000000001 23.799999999999955 40.80000000000001 1.3000000000000114 0 2.6000000000000227-0.4000000000000341 3.8000000000000114-1.1000000000000227 6.800000000000011 15.699999999999989 16.19999999999999 30.30000000000001 27.30000000000001 41 2.8000000000000114 2.6000000000000227 4.199999999999989 6.300000000000011 4.199999999999989 10-0.19999999999998863 10.199999999999989-8.399999999999977 18.400000000000034-18.399999999999977 18.400000000000034z m381.2-189.3c0-9.699999999999989-7.899999999999977-17.80000000000001-17.799999999999955-17.80000000000001h-211.00000000000006c6 13.600000000000023 10.300000000000011 30.100000000000023 12.199999999999989 50.60000000000002 4.600000000000023 2.8999999999999773 7.900000000000034 7.399999999999977 10.700000000000045 12.799999999999955h188.10000000000002c9.699999999999932 0 17.799999999999955-7.899999999999977 17.799999999999955-17.599999999999966v-28z m-2.1000000000000227 151.09999999999997c1.1000000000000227-2.3999999999999773 2.1000000000000227-5 2.1000000000000227-7.699999999999989v-28c0-9.699999999999989-7.899999999999977-17.80000000000001-17.799999999999955-17.80000000000001h-183.80000000000007c-5 18.900000000000034-17.099999999999966 38.700000000000045-34.299999999999955 43.900000000000034l-1.6000000000000227 2.8000000000000114v16.69999999999999h213.20000000000005c7.2999999999999545-3.6999999999999886 14.699999999999932-7 22.199999999999932-9.900000000000034z m-125 125.10000000000002c8.899999999999977-23.299999999999955 21.5-44.5 37.39999999999998-63.200000000000045h-71.69999999999993c9.399999999999977 15 15.100000000000023 32.700000000000045 15.100000000000023 51.60000000000002v11.5h19.199999999999932v0.10000000000002274z m332.20000000000005-55.39999999999998c-30.700000000000045-31.100000000000023-73.10000000000002-50.60000000000002-119.70000000000005-52.400000000000034h-6.2999999999999545c-49.700000000000045 0-94 19.900000000000034-126.5 52.400000000000034-32.10000000000002 32.10000000000002-52.39999999999998 76.79999999999995-52.39999999999998 126 0 25.299999999999955 5.399999999999977 49.299999999999955 14.899999999999977 71 9 20.699999999999932 21.699999999999932 39.69999999999993 37.5 55.60000000000002 32.5 32.09999999999991 76.79999999999995 52 126.5 52 98.39999999999998 0 178.39999999999998-80 178.39999999999998-178.4000000000001 0-49.39999999999998-19.899999999999977-94.09999999999991-52.39999999999998-126.19999999999993z m-41.60000000000002 152.19999999999993h-58.700000000000045v58.30000000000007h-52v-58.30000000000007h-58.299999999999955v-52.39999999999998h58.299999999999955v-58.299999999999955h52v58.299999999999955h58.700000000000045v52.39999999999998z"),C(f,"transform","scale(.04)"),T(f,"fill","grey"),T(n,"position","relative"),T(n,"left","45%"),T(n,"height","40, width=40"),C(r,"class","add_oper"),T(r,"display",u[8])},m(d,g){Q(d,r,g),I(r,n),I(n,l),I(l,s),I(n,c),I(n,f),a||(p=Re(r,"click",u[5]),a=!0)},p(d,g){g[0]&256&&T(r,"display",d[8])},d(d){d&&E(r),a=!1,p()}}}function wp(u){let r,n,l,s,c,f,a,p=u[0].id!=="0"&&_o(u),d=u[0].admin&&bo(u),g=u[0].staff&&wo(u),b=u[1]&&Co(u);return{c(){p&&p.c(),r=ee(),n=W("div"),l=W("br"),s=ee(),d&&d.c(),c=ee(),g&&g.c(),f=ee(),b&&b.c(),this.h()},l(m){p&&p.l(m),r=te(m),n=H(m,"DIV",{class:!0,style:!0});var w=N(n);l=H(w,"BR",{}),s=te(w),d&&d.l(w),c=te(w),g&&g.l(w),f=te(w),b&&b.l(w),w.forEach(E),this.h()},h(){C(n,"class","content svelte-1fx3n49"),T(n,"max-height","0px")},m(m,w){p&&p.m(m,w),Q(m,r,w),Q(m,n,w),I(n,l),I(n,s),d&&d.m(n,null),I(n,c),g&&g.m(n,null),I(n,f),b&&b.m(n,null),u[23](n),a=!0},p(m,w){m[0].id!=="0"?p?p.p(m,w):(p=_o(m),p.c(),p.m(r.parentNode,r)):p&&(p.d(1),p=null),m[0].admin?d?(d.p(m,w),w[0]&1&&se(d,1)):(d=bo(m),d.c(),se(d,1),d.m(n,c)):d&&(Sn(),he(d,1,1,()=>{d=null}),Cn()),m[0].staff?g?(g.p(m,w),w[0]&1&&se(g,1)):(g=wo(m),g.c(),se(g,1),g.m(n,f)):g&&(Sn(),he(g,1,1,()=>{g=null}),Cn()),m[1]?b?b.p(m,w):(b=Co(m),b.c(),b.m(n,null)):b&&(b.d(1),b=null)},i(m){a||(se(d),se(g),a=!0)},o(m){he(d),he(g),a=!1},d(m){m&&(E(r),E(n)),p&&p.d(m),d&&d.d(),g&&g.d(),b&&b.d(),u[23](null)}}}function yp(u,r,n){let l;Kt(u,S0,K=>n(26,l=K)),Kt(u,vi,K=>n(27,K));let{dep:s}=r,{owner:c}=r,{operator:f}=r,a,p="none",d=l,g=!1,b;Wn(()=>{s.id==="0"&&n(11,b.style.maxHeight=200+b.scrollHeight+"px",b);let K=document.getElementsByClassName("add_oper");for(let ye in K)g||(K[ye].scrollIntoView&&K[ye].scrollIntoView(!1),J(new Event("expand")))});let{update:m}=r,{edited_display:w}=r;const P=_i.subscribe(K=>{n(1,w=K),n(10,g=!w)});let L="en";Nn.subscribe(K=>{L=K});let U;y0.subscribe(K=>{U=K}),mi(P);function z(K){w&&(s.admin.email===c||!f.abonent)&&(K.currentTarget.readOnly=!1)}async function Z(K){let ye={};ye.proj="kolmit",ye.func="changedep",ye.abonent=f.abonent,ye.em=f.email,ye.psw=U,ye.dep=s;let Te=await(await fetch("/api/edit_cc/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({par:ye})})).json();n(0,s=Te.dep),console.log(Te.rows.affectedRows)}async function q(K){let ye={};ye.proj="kolmit",ye.func="addoper",ye.abonent=f.abonent,ye.em=f.email,ye.psw=U,ye.lang=L,ye.dep_id=s.id;let Te=await(await fetch("/api/edit_cc/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({par:ye})})).json();n(0,s=Te.dep),n(11,b.style.maxHeight=200+b.scrollHeight+"px",b)}let{RemoveDep:B}=r;function J(K){b&&K.type!=="expand"&&(b.style.maxHeight=="0px"?n(11,b.style.maxHeight=b.scrollHeight+"px",b):n(11,b.style.maxHeight="0px",b)),console.log(b.style.maxHeight)}function R(){s.alias=this.value,n(0,s)}function $(K){Ze[K?"unshift":"push"](()=>{a=K,n(7,a)})}function j(K){d=K,n(9,d)}function re(K){s=K,n(0,s)}function Ae(K){u.$$.not_equal(s.admin,K)&&(s.admin=K,n(0,s))}function Ge(K){d=K,n(9,d)}function Oe(K){s=K,n(0,s)}function we(K,ye,Ce,Te){Ce[Te]=K,n(0,s)}function le(K){Ze[K?"unshift":"push"](()=>{b=K,n(11,b)})}return u.$$set=K=>{"dep"in K&&n(0,s=K.dep),"owner"in K&&n(2,c=K.owner),"operator"in K&&n(3,f=K.operator),"update"in K&&n(4,m=K.update),"edited_display"in K&&n(1,w=K.edited_display),"RemoveDep"in K&&n(6,B=K.RemoveDep)},u.$$.update=()=>{u.$$.dirty[0]&11&&w&&(!f.abonent&&s.id==="0"||!f.abonent&&!s.admin||f.abonent&&f.email===s.admin.email)&&n(8,p="block")},[s,w,c,f,m,q,B,a,p,d,g,b,z,Z,J,R,$,j,re,Ae,Ge,Oe,we,le]}class Sp extends dt{constructor(r){super(),pt(this,r,yp,wp,ht,{dep:0,owner:2,operator:3,update:4,edited_display:1,AddOper:5,RemoveDep:6},null,[-1,-1])}get AddOper(){return this.$$.ctx[5]}}function Oo(u,r,n){const l=u.slice();return l[21]=r[n],l[22]=r,l[23]=n,l}function Eo(u){let r,n,l,s,c,f,a;function p(m){u[7](m,u[21],u[22],u[23])}function d(m){u[8](m)}function g(m){u[9](m)}let b={owner:u[21].admin.email,operator:u[0],update:u[2],RemoveDep:u[5]};return u[21]!==void 0&&(b.dep=u[21]),u[1]!==void 0&&(b.tarif=u[1]),u[3]!==void 0&&(b.edited_display=u[3]),l=new Sp({props:b}),Ze.push(()=>Tt(l,"dep",p)),Ze.push(()=>Tt(l,"tarif",d)),Ze.push(()=>Tt(l,"edited_display",g)),{c(){r=W("br"),n=ee(),ot(l.$$.fragment),this.h()},l(m){r=H(m,"BR",{class:!0}),n=te(m),ft(l.$$.fragment,m),this.h()},h(){C(r,"class","svelte-mkabf0")},m(m,w){Q(m,r,w),Q(m,n,w),at(l,m,w),a=!0},p(m,w){u=m;const P={};w&4&&(P.owner=u[21].admin.email),w&1&&(P.operator=u[0]),w&4&&(P.update=u[2]),!s&&w&4&&(s=!0,P.dep=u[21],At(()=>s=!1)),!c&&w&2&&(c=!0,P.tarif=u[1],At(()=>c=!1)),!f&&w&8&&(f=!0,P.edited_display=u[3],At(()=>f=!1)),l.$set(P)},i(m){a||(se(l.$$.fragment,m),a=!0)},o(m){he(l.$$.fragment,m),a=!1},d(m){m&&(E(r),E(n)),ct(l,m)}}}function Ao(u){let r,n=u[0].email===u[0].abonent&&To(u);return{c(){n&&n.c(),r=lt()},l(l){n&&n.l(l),r=lt()},m(l,s){n&&n.m(l,s),Q(l,r,s)},p(l,s){l[0].email===l[0].abonent?n?n.p(l,s):(n=To(l),n.c(),n.m(r.parentNode,r)):n&&(n.d(1),n=null)},d(l){l&&E(r),n&&n.d(l)}}}function To(u){let r,n,l,s,c,f,a;return{c(){r=We("svg"),n=We("title"),l=_e("plus-circle"),s=We("glyph"),c=We("path"),this.h()},l(p){r=He(p,"svg",{class:!0,height:!0,width:!0,style:!0});var d=N(r);n=He(d,"title",{class:!0});var g=N(n);l=me(g,"plus-circle"),g.forEach(E),s=He(d,"glyph",{"glyph-name":!0,unicode:!0,"horiz-adv-x":!0,class:!0}),N(s).forEach(E),c=He(d,"path",{d:!0,transform:!0,style:!0,class:!0}),N(c).forEach(E),d.forEach(E),this.h()},h(){C(n,"class","svelte-mkabf0"),C(s,"glyph-name","plus-circle"),C(s,"unicode",""),C(s,"horiz-adv-x","50"),C(s,"class","svelte-mkabf0"),C(c,"d","M500.2 62.5c-241.8 0-437.7 195.89999999999998-437.7 437.3 0 241.8 195.89999999999998 437.7 437.7 437.7 241.40000000000003 0 437.3-195.89999999999998 437.3-437.7 0-241.40000000000003-195.89999999999998-437.3-437.3-437.3z m301.59999999999997 466.5c-0.6999999999999318 9-2.199999999999932 19.100000000000023-4.699999999999932 30.299999999999955h-237.70000000000005v237.80000000000007c-11.199999999999932 2.5-21.600000000000023 4.2999999999999545-31.399999999999977 5.100000000000023-9.700000000000045 0.6999999999999318-19.80000000000001 1.099999999999909-30.30000000000001 1.099999999999909-9 0-17.69999999999999-0.39999999999997726-26.69999999999999-1.099999999999909-9-0.7000000000000455-19.100000000000023-2.5-30.30000000000001-5.100000000000023v-237.70000000000005h-237.5c-2.5-11.199999999999932-4.299999999999983-21.699999999999932-5.099999999999994-31.399999999999977-0.6999999999999886-9.700000000000045-1.0999999999999943-19.80000000000001-1.0999999999999943-30.30000000000001 0-9 0.4000000000000057-17.69999999999999 1.0999999999999943-26.69999999999999 0.700000000000017-9 2.5-19.100000000000023 5.099999999999994-30.30000000000001h237.40000000000003v-237.5c11.199999999999989-2.5 21.599999999999966-4 31.399999999999977-4.699999999999989 9.699999999999989-1.0999999999999943 19.80000000000001-1.4000000000000057 30.30000000000001-1.4000000000000057 9 0 17.999999999999943 0.4000000000000057 26.69999999999999 1.4000000000000057 9 0.6999999999999886 19.100000000000023 2.1999999999999886 30.299999999999955 4.699999999999989v237.40000000000003h237.80000000000007c2.5 11.199999999999989 4 21.599999999999966 4.699999999999932 31.399999999999977 1.1000000000000227 9.699999999999989 1.400000000000091 19.80000000000001 1.400000000000091 30.30000000000001 0.09999999999990905 9.099999999999966-0.3000000000000682 18.099999999999966-1.400000000000091 26.69999999999999z"),C(c,"transform","scale(.04)"),T(c,"fill","lightgrey"),C(c,"class","svelte-mkabf0"),C(r,"class","add_dep svelte-mkabf0"),C(r,"height","50"),C(r,"width","50"),T(r,"float","right")},m(p,d){Q(p,r,d),I(r,n),I(n,l),I(r,s),I(r,c),f||(a=Re(r,"click",u[4]),f=!0)},p:Xe,d(p){p&&E(r),f=!1,a()}}}function Cp(u){let r,n,l,s,c,f=Gr(u[2]),a=[];for(let g=0;g<f.length;g+=1)a[g]=Eo(Oo(u,f,g));const p=g=>he(a[g],1,1,()=>{a[g]=null});let d=u[3]&&Ao(u);return{c(){r=W("div");for(let g=0;g<a.length;g+=1)a[g].c();n=ee(),d&&d.c(),l=ee(),s=W("div"),this.h()},l(g){r=H(g,"DIV",{class:!0,style:!0});var b=N(r);for(let m=0;m<a.length;m+=1)a[m].l(b);n=te(b),d&&d.l(b),l=te(b),s=H(b,"DIV",{class:!0,style:!0}),N(s).forEach(E),b.forEach(E),this.h()},h(){C(s,"class","empty svelte-mkabf0"),T(s,"height","200px"),C(r,"class","deps_div svelte-mkabf0"),T(r,"height","100vh"),T(r,"overflow-y","scroll")},m(g,b){Q(g,r,b);for(let m=0;m<a.length;m+=1)a[m]&&a[m].m(r,null);I(r,n),d&&d.m(r,null),I(r,l),I(r,s),c=!0},p(g,[b]){if(b&47){f=Gr(g[2]);let m;for(m=0;m<f.length;m+=1){const w=Oo(g,f,m);a[m]?(a[m].p(w,b),se(a[m],1)):(a[m]=Eo(w),a[m].c(),se(a[m],1),a[m].m(r,n))}for(Sn(),m=f.length;m<a.length;m+=1)p(m);Cn()}g[3]?d?d.p(g,b):(d=Ao(g),d.c(),d.m(r,l)):d&&(d.d(1),d=null)},i(g){if(!c){for(let b=0;b<f.length;b+=1)se(a[b]);c=!0}},o(g){a=a.filter(Boolean);for(let b=0;b<a.length;b+=1)he(a[b]);c=!1},d(g){g&&E(r),Ml(a,g),d&&d.d()}}}function Op(u,r,n){let l,s,c;Kt(u,zo,B=>n(11,l=B)),Kt(u,Nn,B=>n(12,s=B)),Kt(u,vi,B=>n(13,B)),Kt(u,y0,B=>n(14,c=B)),Kt(u,S0,B=>n(15,B));let f=globalThis,{operator:a,url:p}=r,d,g=c,b=s,m="";l&&(m=l),Wn(async()=>{n(6,p=new URL(f.location.href))});let w=!1,{tarif:P}=r;async function L(){if(a.role==="admin"){let B={};B.proj="kolmit",B.func="adddep",B.em=a.email,B.lang=b,B.abonent=a.abonent,B.psw=g,B.id=d;const j=(await(await fetch("/api/edit_cc/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({par:B})})).json()).dep;n(2,m[B.id]=j,m)}}async function U(B){let J=uo.findIndex(m,{id:B});if(confirm("Delete Dep "+(m[J].alias?m[J].alias:"")+"?")){let R={};R.proj="kolmit",R.func="remdep",R.role=a,R.dep=B,R.em=a.email,R.lang=b,R.abonent=a.abonent,R.uid=a.uid,R.psw=g;const j=await(await fetch("/api/edit_cc/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({par:R})})).json();n(2,m=j.users)}}function z(B,J,R,$){R[$]=B,n(2,m)}function Z(B){P=B,n(1,P)}function q(B){w=B,n(3,w)}return u.$$set=B=>{"operator"in B&&n(0,a=B.operator),"url"in B&&n(6,p=B.url),"tarif"in B&&n(1,P=B.tarif)},u.$$.update=()=>{u.$$.dirty&5&&m&&m.length>0&&uo.forEach(m,(B,J)=>{B.admin&&B.admin.email===a.email&&n(0,a.role=B.admin.role,a),d=J})},[a,P,m,w,L,U,p,z,Z,q]}class Ep extends dt{constructor(r){super(),pt(this,r,Op,Cp,ht,{operator:0,url:6,tarif:1})}}function Io(u,r,n){const l=u.slice();return l[8]=r[n][0],l[3]=r[n][1],l}function Ro(u){let r,n=Gr(Object.entries(u[2])),l=[];for(let s=0;s<n.length;s+=1)l[s]=Po(Io(u,n,s));return{c(){for(let s=0;s<l.length;s+=1)l[s].c();r=lt()},l(s){for(let c=0;c<l.length;c+=1)l[c].l(s);r=lt()},m(s,c){for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(s,c);Q(s,r,c)},p(s,c){if(c&23){n=Gr(Object.entries(s[2]));let f;for(f=0;f<n.length;f+=1){const a=Io(s,n,f);l[f]?l[f].p(a,c):(l[f]=Po(a),l[f].c(),l[f].m(r.parentNode,r))}for(;f<l.length;f+=1)l[f].d(1);l.length=n.length}},d(s){s&&E(r),Ml(l,s)}}}function Do(u){let r,n=u[1].dict[u[3].Ribbon][u[0]]+"",l;return{c(){r=W("div"),l=_e(n),this.h()},l(s){r=H(s,"DIV",{class:!0});var c=N(r);l=me(c,n),c.forEach(E),this.h()},h(){C(r,"class","ribbon svelte-1vnjoro")},m(s,c){Q(s,r,c),I(r,l)},p(s,c){c&7&&n!==(n=s[1].dict[s[3].Ribbon][s[0]]+"")&&Fe(l,n)},d(s){s&&E(r)}}}function ko(u){let r,n,l=u[1].dict.Duration[u[0]]+"",s,c,f,a=u[3].Duration+"",p,d,g=u[1].dict.Days[u[0]]+"",b;return{c(){r=W("h4"),n=W("span"),s=_e(l),c=_e(" : "),f=W("span"),p=_e(a),d=ee(),b=_e(g),this.h()},l(m){r=H(m,"H4",{class:!0});var w=N(r);n=H(w,"SPAN",{class:!0});var P=N(n);s=me(P,l),P.forEach(E),c=me(w," : "),f=H(w,"SPAN",{class:!0});var L=N(f);p=me(L,a),d=te(L),b=me(L,g),L.forEach(E),w.forEach(E),this.h()},h(){C(n,"class","feature svelte-1vnjoro"),C(f,"class","value"),C(r,"class","svelte-1vnjoro")},m(m,w){Q(m,r,w),I(r,n),I(n,s),I(r,c),I(r,f),I(f,p),I(f,d),I(f,b)},p(m,w){w&3&&l!==(l=m[1].dict.Duration[m[0]]+"")&&Fe(s,l),w&4&&a!==(a=m[3].Duration+"")&&Fe(p,a),w&3&&g!==(g=m[1].dict.Days[m[0]]+"")&&Fe(b,g)},d(m){m&&E(r)}}}function Po(u){let r,n,l,s,c,f=u[8].toUpperCase()+"",a,p,d,g=u[3].Desc[u[0]]+"",b,m,w,P,L,U,z=u[1].getValByKey(u[0],["Waiting Mode"])+"",Z,q,B,J=u[3]["Waiting Mode"][u[0]]+"",R,$,j,re,Ae=u[1].getValByKey(u[0],["Total Operators"])+"",Ge,Oe,we,le=u[3]["Total Operators"][u[0]]+"",K,ye,Ce,Te,Ke=u[1].getValByKey(u[0],["Multi Operator Mode"])+"",gt,ke,qe,ie=u[3]["Multi Operator Mode"][u[0]]+"",ve,Be,Y,et,_t=u[1].getValByKey(u[0],["Total Depts"])+"",yt,En,Ue,Ut=u[3]["Total Depts"][u[0]]+"",An,rt,mt,gn,it=u[1].getValByKey(u[0],["Dedicated Servers"])+"",_n,Nt,Pt,G=u[1].dict[u[3]["Dedicated Servers"]][u[0]]+"",ce,St,Ct,Qe,Lt=u[1].getValByKey(u[0],["Full Support"])+"",xe,qt,Wt,Tn=u[1].dict[u[3]["Full Support"]][u[0]]+"",Hn,Qn,on,mn,In=u[3].Price[u[0]]+"",zn,fn,Zr,xn=u[1].dict.month[u[0]]+"",hr,dr,Jt,$n=u[1].dict.Choose[u[0]]+"",pr,gr,jr,_r,wi,vt=u[3].Ribbon&&Do(u),bt=u[3].Duration&&ko(u);return{c(){r=W("div"),n=W("div"),vt&&vt.c(),l=ee(),s=W("div"),c=W("h3"),a=_e(f),p=ee(),d=W("p"),b=_e(g),m=ee(),w=W("div"),bt&&bt.c(),P=ee(),L=W("h4"),U=W("span"),Z=_e(z),q=_e(" : "),B=W("span"),R=_e(J),$=ee(),j=W("h4"),re=W("span"),Ge=_e(Ae),Oe=_e(" : "),we=W("span"),K=_e(le),ye=ee(),Ce=W("h4"),Te=W("span"),gt=_e(Ke),ke=_e(" : "),qe=W("span"),ve=_e(ie),Be=ee(),Y=W("h4"),et=W("span"),yt=_e(_t),En=_e(" : "),Ue=W("span"),An=_e(Ut),rt=ee(),mt=W("h4"),gn=W("span"),_n=_e(it),Nt=_e(" : "),Pt=W("span"),ce=_e(G),St=ee(),Ct=W("h4"),Qe=W("span"),xe=_e(Lt),qt=_e(" : "),Wt=W("span"),Hn=_e(Tn),Qn=ee(),on=W("div"),mn=W("h4"),zn=_e(In),fn=W("h5"),Zr=_e("/"),hr=_e(xn),dr=ee(),Jt=W("button"),pr=_e($n),jr=ee(),this.h()},l(ue){r=H(ue,"DIV",{class:!0});var Ne=N(r);n=H(Ne,"DIV",{class:!0});var It=N(n);vt&&vt.l(It),l=te(It),s=H(It,"DIV",{class:!0});var yi=N(s);c=H(yi,"H3",{});var Si=N(c);a=me(Si,f),Si.forEach(E),yi.forEach(E),p=te(It),d=H(It,"P",{class:!0});var Ci=N(d);b=me(Ci,g),Ci.forEach(E),m=te(It),w=H(It,"DIV",{class:!0});var Rt=N(w);bt&&bt.l(Rt),P=te(Rt),L=H(Rt,"H4",{class:!0});var mr=N(L);U=H(mr,"SPAN",{class:!0});var Oi=N(U);Z=me(Oi,z),Oi.forEach(E),q=me(mr," : "),B=H(mr,"SPAN",{class:!0});var Ei=N(B);R=me(Ei,J),Ei.forEach(E),mr.forEach(E),$=te(Rt),j=H(Rt,"H4",{class:!0});var vr=N(j);re=H(vr,"SPAN",{class:!0});var Xr=N(re);Ge=me(Xr,Ae),Xr.forEach(E),Oe=me(vr," : "),we=H(vr,"SPAN",{class:!0});var Ai=N(we);K=me(Ai,le),Ai.forEach(E),vr.forEach(E),ye=te(Rt),Ce=H(Rt,"H4",{class:!0});var br=N(Ce);Te=H(br,"SPAN",{class:!0});var Ti=N(Te);gt=me(Ti,Ke),Ti.forEach(E),ke=me(br," : "),qe=H(br,"SPAN",{class:!0});var Ii=N(qe);ve=me(Ii,ie),Ii.forEach(E),br.forEach(E),Be=te(Rt),Y=H(Rt,"H4",{class:!0});var wr=N(Y);et=H(wr,"SPAN",{class:!0});var Ri=N(et);yt=me(Ri,_t),Ri.forEach(E),En=me(wr," : "),Ue=H(wr,"SPAN",{class:!0});var er=N(Ue);An=me(er,Ut),er.forEach(E),wr.forEach(E),rt=te(Rt),mt=H(Rt,"H4",{class:!0});var yr=N(mt);gn=H(yr,"SPAN",{class:!0});var tr=N(gn);_n=me(tr,it),tr.forEach(E),Nt=me(yr," : "),Pt=H(yr,"SPAN",{class:!0});var Di=N(Pt);ce=me(Di,G),Di.forEach(E),yr.forEach(E),St=te(Rt),Ct=H(Rt,"H4",{class:!0});var Sr=N(Ct);Qe=H(Sr,"SPAN",{class:!0});var ki=N(Qe);xe=me(ki,Lt),ki.forEach(E),qt=me(Sr," : "),Wt=H(Sr,"SPAN",{class:!0});var Qr=N(Wt);Hn=me(Qr,Tn),Qr.forEach(E),Sr.forEach(E),Rt.forEach(E),Qn=te(It),on=H(It,"DIV",{class:!0});var Cr=N(on);mn=H(Cr,"H4",{class:!0});var xr=N(mn);zn=me(xr,In),xr.forEach(E),fn=H(Cr,"H5",{class:!0});var $r=N(fn);Zr=me($r,"/"),hr=me($r,xn),$r.forEach(E),Cr.forEach(E),dr=te(It),Jt=H(It,"BUTTON",{class:!0,type:!0,tarif:!0});var Pi=N(Jt);pr=me(Pi,$n),Pi.forEach(E),It.forEach(E),jr=te(Ne),Ne.forEach(E),this.h()},h(){C(s,"class","heading svelte-1vnjoro"),C(d,"class","svelte-1vnjoro"),C(U,"class","feature svelte-1vnjoro"),C(B,"class","value"),C(L,"class","svelte-1vnjoro"),C(re,"class","feature svelte-1vnjoro"),C(we,"class","value"),C(j,"class","svelte-1vnjoro"),C(Te,"class","feature svelte-1vnjoro"),C(qe,"class","value"),C(Ce,"class","svelte-1vnjoro"),C(et,"class","feature svelte-1vnjoro"),C(Ue,"class","value"),C(Y,"class","svelte-1vnjoro"),C(gn,"class","feature svelte-1vnjoro"),C(Pt,"class","value"),C(mt,"class","svelte-1vnjoro"),C(Qe,"class","feature svelte-1vnjoro"),C(Wt,"class","value"),C(Ct,"class","svelte-1vnjoro"),C(w,"class","features"),C(mn,"class","svelte-1vnjoro"),C(fn,"class","svelte-1vnjoro"),C(on,"class","price svelte-1vnjoro"),C(Jt,"class","btn btn-block btn-outline-primary svelte-1vnjoro"),C(Jt,"type","submit"),C(Jt,"tarif",gr=u[8]),C(n,"class","item svelte-1vnjoro"),C(r,"class","col-md-5 col-lg-4")},m(ue,Ne){Q(ue,r,Ne),I(r,n),vt&&vt.m(n,null),I(n,l),I(n,s),I(s,c),I(c,a),I(n,p),I(n,d),I(d,b),I(n,m),I(n,w),bt&&bt.m(w,null),I(w,P),I(w,L),I(L,U),I(U,Z),I(L,q),I(L,B),I(B,R),I(w,$),I(w,j),I(j,re),I(re,Ge),I(j,Oe),I(j,we),I(we,K),I(w,ye),I(w,Ce),I(Ce,Te),I(Te,gt),I(Ce,ke),I(Ce,qe),I(qe,ve),I(w,Be),I(w,Y),I(Y,et),I(et,yt),I(Y,En),I(Y,Ue),I(Ue,An),I(w,rt),I(w,mt),I(mt,gn),I(gn,_n),I(mt,Nt),I(mt,Pt),I(Pt,ce),I(w,St),I(w,Ct),I(Ct,Qe),I(Qe,xe),I(Ct,qt),I(Ct,Wt),I(Wt,Hn),I(n,Qn),I(n,on),I(on,mn),I(mn,zn),I(on,fn),I(fn,Zr),I(fn,hr),I(n,dr),I(n,Jt),I(Jt,pr),I(r,jr),_r||(wi=Re(Jt,"click",u[4]),_r=!0)},p(ue,Ne){ue[3].Ribbon?vt?vt.p(ue,Ne):(vt=Do(ue),vt.c(),vt.m(n,l)):vt&&(vt.d(1),vt=null),Ne&4&&f!==(f=ue[8].toUpperCase()+"")&&Fe(a,f),Ne&5&&g!==(g=ue[3].Desc[ue[0]]+"")&&Fe(b,g),ue[3].Duration?bt?bt.p(ue,Ne):(bt=ko(ue),bt.c(),bt.m(w,P)):bt&&(bt.d(1),bt=null),Ne&3&&z!==(z=ue[1].getValByKey(ue[0],["Waiting Mode"])+"")&&Fe(Z,z),Ne&5&&J!==(J=ue[3]["Waiting Mode"][ue[0]]+"")&&Fe(R,J),Ne&3&&Ae!==(Ae=ue[1].getValByKey(ue[0],["Total Operators"])+"")&&Fe(Ge,Ae),Ne&5&&le!==(le=ue[3]["Total Operators"][ue[0]]+"")&&Fe(K,le),Ne&3&&Ke!==(Ke=ue[1].getValByKey(ue[0],["Multi Operator Mode"])+"")&&Fe(gt,Ke),Ne&5&&ie!==(ie=ue[3]["Multi Operator Mode"][ue[0]]+"")&&Fe(ve,ie),Ne&3&&_t!==(_t=ue[1].getValByKey(ue[0],["Total Depts"])+"")&&Fe(yt,_t),Ne&5&&Ut!==(Ut=ue[3]["Total Depts"][ue[0]]+"")&&Fe(An,Ut),Ne&3&&it!==(it=ue[1].getValByKey(ue[0],["Dedicated Servers"])+"")&&Fe(_n,it),Ne&7&&G!==(G=ue[1].dict[ue[3]["Dedicated Servers"]][ue[0]]+"")&&Fe(ce,G),Ne&3&&Lt!==(Lt=ue[1].getValByKey(ue[0],["Full Support"])+"")&&Fe(xe,Lt),Ne&7&&Tn!==(Tn=ue[1].dict[ue[3]["Full Support"]][ue[0]]+"")&&Fe(Hn,Tn),Ne&5&&In!==(In=ue[3].Price[ue[0]]+"")&&Fe(zn,In),Ne&3&&xn!==(xn=ue[1].dict.month[ue[0]]+"")&&Fe(hr,xn),Ne&3&&$n!==($n=ue[1].dict.Choose[ue[0]]+"")&&Fe(pr,$n),Ne&4&&gr!==(gr=ue[8])&&C(Jt,"tarif",gr)},d(ue){ue&&E(r),vt&&vt.d(),bt&&bt.d(),_r=!1,wi()}}}function Ap(u){let r,n,l,s,c,f=u[1].getValByKey(u[0],["Our Pricing"])+"",a,p,d,g="Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nunc quam urna, dignissim nec auctor in, mattis vitae leo.",b,m,w,P,L=u[2]&&Ro(u);return{c(){r=W("div"),n=W("section"),l=W("div"),s=W("div"),c=W("h2"),a=_e(f),p=ee(),d=W("p"),d.textContent=g,b=ee(),m=W("div"),L&&L.c(),w=ee(),P=W("div"),this.h()},l(U){r=H(U,"DIV",{class:!0});var z=N(r);n=H(z,"SECTION",{class:!0});var Z=N(n);l=H(Z,"DIV",{class:!0});var q=N(l);s=H(q,"DIV",{class:!0});var B=N(s);c=H(B,"H2",{class:!0});var J=N(c);a=me(J,f),J.forEach(E),p=te(B),d=H(B,"P",{class:!0,"data-svelte-h":!0}),Vr(d)!=="svelte-1frve1p"&&(d.textContent=g),B.forEach(E),b=te(q),m=H(q,"DIV",{class:!0});var R=N(m);L&&L.l(R),R.forEach(E),q.forEach(E),Z.forEach(E),w=te(z),P=H(z,"DIV",{style:!0}),N(P).forEach(E),z.forEach(E),this.h()},h(){C(c,"class","svelte-1vnjoro"),C(d,"class","svelte-1vnjoro"),C(s,"class","block-heading svelte-1vnjoro"),C(m,"class","row justify-content-md-center"),C(l,"class","container"),C(n,"class","pricing-table svelte-1vnjoro"),T(P,"height","400px"),C(r,"class","content svelte-1vnjoro")},m(U,z){Q(U,r,z),I(r,n),I(n,l),I(l,s),I(s,c),I(c,a),I(s,p),I(s,d),I(l,b),I(l,m),L&&L.m(m,null),I(r,w),I(r,P)},p(U,[z]){z&3&&f!==(f=U[1].getValByKey(U[0],["Our Pricing"])+"")&&Fe(a,f),U[2]?L?L.p(U,z):(L=Ro(U),L.c(),L.m(m,null)):L&&(L.d(1),L=null)},i:Xe,o:Xe,d(U){U&&E(r),L&&L.d()}}}function Tp(u,r,n){let{rtc:l}=r,s="en";const c=Nn.subscribe(g=>{g&&n(0,s=g)});let f;bi.subscribe(g=>{g&&n(1,f=g)});let a="free",p;(async()=>n(2,p=await(await fetch("/src/lib/tarifs.json")).json()))(),mi(c);async function d(g){g.target.attributes.tarif.value==="basic"&&(await l.ChooseTarif(g.target.attributes.tarif.value),n(3,a=p[g.target.attributes.tarif.value]))}return u.$$set=g=>{"rtc"in g&&n(5,l=g.rtc)},[s,f,p,a,d,l]}class Ip extends dt{constructor(r){super(),pt(this,r,Tp,Ap,ht,{rtc:5})}}function Lo(u){let r,n;return r=new Ip({props:{rtc:u[0]}}),{c(){ot(r.$$.fragment)},l(l){ft(r.$$.fragment,l)},m(l,s){at(r,l,s),n=!0},p(l,s){const c={};s&1&&(c.rtc=l[0]),r.$set(c)},i(l){n||(se(r.$$.fragment,l),n=!0)},o(l){he(r.$$.fragment,l),n=!1},d(l){ct(r,l)}}}function Rp(u){let r,n,l,s,c,f,a,p=u[2]&&Lo(u);return{c(){r=W("span"),n=_e(u[1]),l=ee(),p&&p.c(),s=lt(),this.h()},l(d){r=H(d,"SPAN",{ref:!0});var g=N(r);n=me(g,u[1]),g.forEach(E),l=te(d),p&&p.l(d),s=lt(),this.h()},h(){C(r,"ref","#")},m(d,g){Q(d,r,g),I(r,n),Q(d,l,g),p&&p.m(d,g),Q(d,s,g),c=!0,f||(a=Re(r,"click",u[3]),f=!0)},p(d,[g]){(!c||g&2)&&Fe(n,d[1]),d[2]?p?(p.p(d,g),g&4&&se(p,1)):(p=Lo(d),p.c(),se(p,1),p.m(s.parentNode,s)):p&&(Sn(),he(p,1,1,()=>{p=null}),Cn())},i(d){c||(se(p),c=!0)},o(d){he(p),c=!1},d(d){d&&(E(r),E(l),E(s)),p&&p.d(d),f=!1,a()}}}function Dp(u,r,n){let{rtc:l}=r,s="en";Nn.subscribe(b=>{b&&n(4,s=b)});let c="Download Call Center",f="",a;const p=bi.subscribe(b=>{b&&(n(6,a=b),n(1,f=a.dict[c][s]))});mi(p);let d=!1;async function g(b){n(5,c="Choose Tarif"),n(2,d=!0)}return u.$$set=b=>{"rtc"in b&&n(0,l=b.rtc)},u.$$.update=()=>{u.$$.dirty&112&&s&&a&&c&&n(1,f=a.dict[c][s])},[l,f,d,g,s,c,a]}class kp extends dt{constructor(r){super(),pt(this,r,Dp,Rp,ht,{rtc:0})}}class Pp{constructor(r,n,l){this.con=new RTCPeerConnection(n),this.rtc=r,this.pc_key=l,this.params={}}async SendDesc(r){let n=this,l={};return l.proj="kolmit",l.func="call",l.abonent=n.rtc.abonent,l.type=this.rtc.type,l.em=this.rtc.operator,l.uid=this.rtc.uid,l.desc=r,l.status="call",l.oper_uid=this.rtc.oper_uid,await this.signch.SendMessage(l)}async SendCand(r){let n=this,l={};return l.proj="kolmit",l.func="call",l.type=this.rtc.type,l.uid=this.rtc.uid,l.em=this.rtc.operator,l.cand=r,l.status="call",l.abonent=n.rtc.abonent,l.oper_uid=this.rtc.oper_uid,await this.signch.SendMessage(l)}async SendOffer(r){let n={};n.proj="kolmit",n.func="offer",n.abonent=this.rtc.abonent,n.type=this.rtc.type,n.uid=this.rtc.uid,n.em=this.rtc.email,n.desc=this.params.loc_desc,n.cand=this.params.loc_cand,n.status="offer",this.signch.SendMessage(n,l=>{console.log(l)})}StartEvents(){let r=this;this.con.ontrack=function(l){r.pc_key!=="reserve"&&(r.rtc.GetRemoteAudio()!==l.streams[0]&&(r.rtc.remoteStream=l.streams[0],r.rtc.remoteStream.onaddtrack=function(s){console.log("addtrack in remote stream",r)}),r.rtc.remoteStream&&(l.track.kind==="audio"&&(r.rtc.SetRemoteAudio(null),r.rtc.SetRemoteAudio(r.rtc.remoteStream)),l.track.kind==="video"&&(r.rtc.SetRemoteVideo(r.rtc.remoteStream),r.rtc.DC.SendDCVideoOK(()=>{}))))};let n;this.con.onicecandidate=l=>{let s=this;l.candidate&&(this.params.loc_cand||(this.params.loc_cand=[]),this.params.loc_cand.push(l.candidate),n||(n=setTimeout(()=>{if(this.rtc.DC&&this.rtc.DC.dc.readyState==="open"){let c="";this.rtc.type&&this.rtc.type.offerToReceiveVideo===1&&(c={confirm:"Do you mind to turn on the cameras?"}),this.rtc.DC.SendDCOffer(s.pc_key,c),clearTimeout(n)}else this.rtc.DC&&this.rtc.DC.dc.readyState!=="open"&&(this.SendOffer(l.candidate),clearTimeout(n))},100)))},this.con.oniceconnectionstatechange=function(l){r.rtc.onIceStateChange(r,l)},this.con.onremovestream=function(l){},this.con.onsignalingstatechange=function(l){},this.con.onconnectionstatechange=function(l){console.log()}}onCreateAnswerSuccess(r){let n=this;console.log("Answer from pcPull 2:",this),console.log("setLocalDescription start",n),n.con.setLocalDescription(r).then(function(){n.params.loc_desc=n.con.localDescription,console.log("onSetLocalDescriptionSuccess",n),n.SendDesc(r)},n.onSetAnswerError)}setRemoteDesc(r){let n=this;console.log("setRemoteDescription start",n),console.log("Peer connectionState:"+this.con.connectionState,n),this.con.setRemoteDescription(r).then(function(){n.params.rem_desc=n.con.remoteDescription,n.con.remoteDescription.type==="offer"&&n.con.createAnswer().then(l=>n.onCreateAnswerSuccess(l),n.onCreateAnswerError)},function(l){console.log("Failed to set remote description: "+l.toString(),this)})}onCreateAnswerError(r){console.log("Failed to create answer: "+r.toString(),this)}onCreateOfferSuccess(r){let n=this;console.log("Offer created",n),console.log("setLocalDescription start",n),n.con.setLocalDescription(r).then(function(){n.params.loc_desc=n.con.localDescription,console.log(" setLocalDescription complete",n)},n.onSetOfferError)}onCreateVideoOfferSuccess(r,n){let l=this;console.log("Offer created",l),console.log("setLocalDescription start",l),l.con.setLocalDescription(r).then(function(){l.params.loc_desc=l.con.localDescription,console.log(" setLocalDescription complete",l),l.rtc.DC.SendDCDesc(r,l.pc_key)},l.onSetOfferError)}onSetOfferError(r){console.log("Failed to set offer: "+r.toString(),this)}onSetAnswerError(r){console.log("Failed to set session description: "+r.toString(),this)}onAddIceCandidateSuccess(r){console.log(" addIceCandidate success",this)}onAddIceCandidateError(r,n){console.log(" failed to add ICE Candidate: "+n.toString(),this)}onCreateOfferError(r){console.log("Failed to create session description: "+r.toString(),this)}onAddVideo(r){let n=this,l="Do you mind to turn on the cameras?";n.rtc.DC&&n.rtc.DC.dc.readyState==="open"&&n.rtc.DC.SendData({confirm:l})}onCreateSessionDescriptionError(r){}Cancel(){this.close()}}class Lp{constructor(r,n){this.rtc=r,this.pc=n,this.call_num=3,this.forward}CreateDC(){this.dc=pc.con.createDataChannel(pc.pc_key+" data channel")}}const qo=On();class Bp extends Lp{constructor(r,n){super(r,n);let l=this;l.cnt_call=0,this.dc=n.con.createDataChannel(n.pc_key+" data channel"),this.dc.onopen=()=>{l.dc.readyState==="open"&&console.log(l.pc.pc_key+" datachannel open"),this.dc.onclose=()=>{}},n.StartEvents(),n.con.ondatachannel=a=>{console.log("Receive Channel Callback"),this.dc=a.channel};let s="",c=[],f=0;this.dc.onmessage=function(a){try{let p=JSON.parse(a.data);if(p.type==="eom"){s&&(l.rtc.OnMessage(JSON.parse(s),l),qo.set(JSON.parse(s))),s="";return}if(s+=p.slice,p.file,p.type==="eof"){const d=new Blob(c);if(c=[],f=0,confirm("Получен файл: "+p.file+". Размер: "+p.length+" Сохранить?")){let g=document.getElementById("download_href");g.text("Получен файл: "+p.file+". Размер: "+p.length+" Сохранить?"),g.attributes.href="URL.createObjectURL(received)",g.attributes.download=p.file,g.click()}setTimeout(function(){document.getElementById("dataProgress").style.display="none"},2e3);return}}catch{if(s="",!a.data.byteLength)return}}}SendFile(r,n){try{if(this.dc.readyState==="open"){let l=16384;const s=Math.ceil(r.byteLength/l);this.dc.send(JSON.stringify({file:n,length:r.byteLength}),function(c){console.log(c)});for(let c=0,f=0;c<s;++c,f+=l){const a=r.slice(f,f+l);document.getElementById("dataProgress").attributes.value=f+l,this.dc.send(a,function(p){console.log(p)})}setTimeout(function(){document.getElementById("dataProgress").style.display="none"},2e3),this.dc.send(JSON.stringify({type:"eof",file:n,length:r.byteLength}),function(c){console.log(c)})}}catch(l){console.log(l)}}SendData(r,n){try{if(this.dc.readyState==="open"){r=JSON.stringify(r);let l=16384;const s=Math.ceil(r.length/l);for(let c=0,f=0;c<s;++c,f+=l)this.dc.send(JSON.stringify({slice:r.substr(f,l)}));this.dc.send(JSON.stringify({type:"eom"}))}n&&n()}catch(l){console.log(l)}}SendDCHangup(r){let n={};n.proj="kolmit",n.func="mute",n.type=this.rtc.type,this.SendData(n,r)}SendDCClose(r){let n={};n.proj="kolmit",n.func="close",n.type=this.rtc.type,this.SendData(n,r)}SendDCTalk(r){let n={};n.proj="kolmit",n.func="talk",n.type=this.rtc.type,this.SendData(n,r)}SendDCCand(r,n,l){let s={};s.proj="kolmit",s.func="offer",s.cand=r,s.trans=n,s.abonent=this.rtc.abonent,s.msg=l,this.SendData(s)}SendDCDesc(r,n,l){let s={};s.proj="kolmit",s.func="offer",s.desc=r,s.trans=n,s.abonent=this.rtc.abonent,s.msg=l,this.SendData(s)}SendDCOffer(r,n){let l={};l.proj="kolmit",l.func="offer",l.desc=this.pc.params.loc_desc,l.cand=this.pc.params.loc_cand,l.trans=r,l.abonent=this.rtc.abonent,l.msg=n,this.SendData(l)}SendDCVideoOK(r){let n={};n.proj="kolmit",n.func="video",n.type=this.rtc.type,this.SendData(n,r)}SendRedirect(r,n){let l={};if(l.proj="kolmit",l.func="redirect",l.abonent=r,this.dc.readyState==="open"){this.SendData(l);let s=new Date().toLocaleString("es-CL");n(s)}}}var Jo={exports:{}},Yo={exports:{}};(function(){var u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r={rotl:function(n,l){return n<<l|n>>>32-l},rotr:function(n,l){return n<<32-l|n>>>l},endian:function(n){if(n.constructor==Number)return r.rotl(n,8)&16711935|r.rotl(n,24)&4278255360;for(var l=0;l<n.length;l++)n[l]=r.endian(n[l]);return n},randomBytes:function(n){for(var l=[];n>0;n--)l.push(Math.floor(Math.random()*256));return l},bytesToWords:function(n){for(var l=[],s=0,c=0;s<n.length;s++,c+=8)l[c>>>5]|=n[s]<<24-c%32;return l},wordsToBytes:function(n){for(var l=[],s=0;s<n.length*32;s+=8)l.push(n[s>>>5]>>>24-s%32&255);return l},bytesToHex:function(n){for(var l=[],s=0;s<n.length;s++)l.push((n[s]>>>4).toString(16)),l.push((n[s]&15).toString(16));return l.join("")},hexToBytes:function(n){for(var l=[],s=0;s<n.length;s+=2)l.push(parseInt(n.substr(s,2),16));return l},bytesToBase64:function(n){for(var l=[],s=0;s<n.length;s+=3)for(var c=n[s]<<16|n[s+1]<<8|n[s+2],f=0;f<4;f++)s*8+f*6<=n.length*8?l.push(u.charAt(c>>>6*(3-f)&63)):l.push("=");return l.join("")},base64ToBytes:function(n){n=n.replace(/[^A-Z0-9+\/]/ig,"");for(var l=[],s=0,c=0;s<n.length;c=++s%4)c!=0&&l.push((u.indexOf(n.charAt(s-1))&Math.pow(2,-2*c+8)-1)<<c*2|u.indexOf(n.charAt(s))>>>6-c*2);return l}};Yo.exports=r})();var Mp=Yo.exports,Ll={utf8:{stringToBytes:function(u){return Ll.bin.stringToBytes(unescape(encodeURIComponent(u)))},bytesToString:function(u){return decodeURIComponent(escape(Ll.bin.bytesToString(u)))}},bin:{stringToBytes:function(u){for(var r=[],n=0;n<u.length;n++)r.push(u.charCodeAt(n)&255);return r},bytesToString:function(u){for(var r=[],n=0;n<u.length;n++)r.push(String.fromCharCode(u[n]));return r.join("")}}},Bo=Ll;/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var Fp=function(u){return u!=null&&(Zo(u)||Up(u)||!!u._isBuffer)};function Zo(u){return!!u.constructor&&typeof u.constructor.isBuffer=="function"&&u.constructor.isBuffer(u)}function Up(u){return typeof u.readFloatLE=="function"&&typeof u.slice=="function"&&Zo(u.slice(0,0))}(function(){var u=Mp,r=Bo.utf8,n=Fp,l=Bo.bin,s=function(c,f){c.constructor==String?f&&f.encoding==="binary"?c=l.stringToBytes(c):c=r.stringToBytes(c):n(c)?c=Array.prototype.slice.call(c,0):!Array.isArray(c)&&c.constructor!==Uint8Array&&(c=c.toString());for(var a=u.bytesToWords(c),p=c.length*8,d=1732584193,g=-271733879,b=-1732584194,m=271733878,w=0;w<a.length;w++)a[w]=(a[w]<<8|a[w]>>>24)&16711935|(a[w]<<24|a[w]>>>8)&4278255360;a[p>>>5]|=128<<p%32,a[(p+64>>>9<<4)+14]=p;for(var P=s._ff,L=s._gg,U=s._hh,z=s._ii,w=0;w<a.length;w+=16){var Z=d,q=g,B=b,J=m;d=P(d,g,b,m,a[w+0],7,-680876936),m=P(m,d,g,b,a[w+1],12,-389564586),b=P(b,m,d,g,a[w+2],17,606105819),g=P(g,b,m,d,a[w+3],22,-1044525330),d=P(d,g,b,m,a[w+4],7,-176418897),m=P(m,d,g,b,a[w+5],12,1200080426),b=P(b,m,d,g,a[w+6],17,-1473231341),g=P(g,b,m,d,a[w+7],22,-45705983),d=P(d,g,b,m,a[w+8],7,1770035416),m=P(m,d,g,b,a[w+9],12,-1958414417),b=P(b,m,d,g,a[w+10],17,-42063),g=P(g,b,m,d,a[w+11],22,-1990404162),d=P(d,g,b,m,a[w+12],7,1804603682),m=P(m,d,g,b,a[w+13],12,-40341101),b=P(b,m,d,g,a[w+14],17,-1502002290),g=P(g,b,m,d,a[w+15],22,1236535329),d=L(d,g,b,m,a[w+1],5,-165796510),m=L(m,d,g,b,a[w+6],9,-1069501632),b=L(b,m,d,g,a[w+11],14,643717713),g=L(g,b,m,d,a[w+0],20,-373897302),d=L(d,g,b,m,a[w+5],5,-701558691),m=L(m,d,g,b,a[w+10],9,38016083),b=L(b,m,d,g,a[w+15],14,-660478335),g=L(g,b,m,d,a[w+4],20,-405537848),d=L(d,g,b,m,a[w+9],5,568446438),m=L(m,d,g,b,a[w+14],9,-1019803690),b=L(b,m,d,g,a[w+3],14,-187363961),g=L(g,b,m,d,a[w+8],20,1163531501),d=L(d,g,b,m,a[w+13],5,-1444681467),m=L(m,d,g,b,a[w+2],9,-51403784),b=L(b,m,d,g,a[w+7],14,1735328473),g=L(g,b,m,d,a[w+12],20,-1926607734),d=U(d,g,b,m,a[w+5],4,-378558),m=U(m,d,g,b,a[w+8],11,-2022574463),b=U(b,m,d,g,a[w+11],16,1839030562),g=U(g,b,m,d,a[w+14],23,-35309556),d=U(d,g,b,m,a[w+1],4,-1530992060),m=U(m,d,g,b,a[w+4],11,1272893353),b=U(b,m,d,g,a[w+7],16,-155497632),g=U(g,b,m,d,a[w+10],23,-1094730640),d=U(d,g,b,m,a[w+13],4,681279174),m=U(m,d,g,b,a[w+0],11,-358537222),b=U(b,m,d,g,a[w+3],16,-722521979),g=U(g,b,m,d,a[w+6],23,76029189),d=U(d,g,b,m,a[w+9],4,-640364487),m=U(m,d,g,b,a[w+12],11,-421815835),b=U(b,m,d,g,a[w+15],16,530742520),g=U(g,b,m,d,a[w+2],23,-995338651),d=z(d,g,b,m,a[w+0],6,-198630844),m=z(m,d,g,b,a[w+7],10,1126891415),b=z(b,m,d,g,a[w+14],15,-1416354905),g=z(g,b,m,d,a[w+5],21,-57434055),d=z(d,g,b,m,a[w+12],6,1700485571),m=z(m,d,g,b,a[w+3],10,-1894986606),b=z(b,m,d,g,a[w+10],15,-1051523),g=z(g,b,m,d,a[w+1],21,-2054922799),d=z(d,g,b,m,a[w+8],6,1873313359),m=z(m,d,g,b,a[w+15],10,-30611744),b=z(b,m,d,g,a[w+6],15,-1560198380),g=z(g,b,m,d,a[w+13],21,1309151649),d=z(d,g,b,m,a[w+4],6,-145523070),m=z(m,d,g,b,a[w+11],10,-1120210379),b=z(b,m,d,g,a[w+2],15,718787259),g=z(g,b,m,d,a[w+9],21,-343485551),d=d+Z>>>0,g=g+q>>>0,b=b+B>>>0,m=m+J>>>0}return u.endian([d,g,b,m])};s._ff=function(c,f,a,p,d,g,b){var m=c+(f&a|~f&p)+(d>>>0)+b;return(m<<g|m>>>32-g)+f},s._gg=function(c,f,a,p,d,g,b){var m=c+(f&p|a&~p)+(d>>>0)+b;return(m<<g|m>>>32-g)+f},s._hh=function(c,f,a,p,d,g,b){var m=c+(f^a^p)+(d>>>0)+b;return(m<<g|m>>>32-g)+f},s._ii=function(c,f,a,p,d,g,b){var m=c+(a^(f|~p))+(d>>>0)+b;return(m<<g|m>>>32-g)+f},s._blocksize=16,s._digestsize=16,Jo.exports=function(c,f){if(c==null)throw new Error("Illegal argument "+c);var a=u.wordsToBytes(s(c,f));return f&&f.asBytes?a:f&&f.asString?l.bytesToString(a):u.bytesToHex(a)}})();var Np=Jo.exports;const Bl=Ul(Np);class Wp{constructor(r,n){this.type=r,this.abonent=n.abonent,this.email=n.email,this.role=n.role,this.psw=n.psw,this.uid=Bl(JSON.stringify(Date.now())+n.email),this.pcPull={},this.main_pc,this.url,this.localStream,this.remoteStream,this.startTime,this.phone=""}SendVideoOffer(r){this.pcPull[r].params.loc_desc="",this.pcPull[r].params.loc_cand="",this.pcPull[r].con.createOffer(this.mode={offerToReceiveAudio:1,offerToReceiveVideo:1,iceRestart:1}).then(n=>this.pcPull[r].onCreateVideoOfferSuccess(n),this.pcPull[r].onCreateOfferError)}onIceStateChange(r,n){r&&r.con&&(r.con.iceConnectionState==="new"&&console.log(r.pc_key+" ICE state change event: new",this),r.con.iceConnectionState==="checking"&&(console.log(r.pc_key+" ICE state change event: checking",this),this.checking_tmr=setTimeout(()=>{r.con.restartIce()},5e3)),r.con.iceConnectionState==="disconnected"&&(console.log(r.pc_key+" ICE state change event: disconnected",this),r.con.restartIce()),r.con.iceConnectionState==="connected"&&(clearTimeout(this.checking_tmr),console.log(r.pc_key+" ICE state change event: connected",this),this.main_pc=r.pc_key),r.con.iceConnectionState==="failed"&&(console.log(r.pc_key+" ICE state change event: failed",this),r.con.restartIce()),r.con.iceConnectionState==="completed"&&console.log(r.pc_key+" ICE state change event: completed",this),console.log(r.pc_key+" ICE state change event: "+n.type,this))}TransFile(){async function r(){const n=this.fileInput.files[0];if(n||console.log("No file chosen"),n.size===0)return;dataProgress.style.display="block",dataProgress.attributes.max=n.size;let l=new FileReader;l.onload=s=>{console.log("FileRead.onload ",s),this.DC.SendFile(s.target.result,n.name)},l.readAsArrayBuffer(n)}this.fileInput.removeEventListener("change",this.fileInput.onchange),this.fileInput.onchange=r,this.fileInput.dispatchEvent(new Event("click"))}GetUserMedia(r,n){navigator.mediaDevices.getUserMedia(r).then(l=>this.gotStream(l,n)).catch(function(l){(l.name==="NotFoundError"||l.name==="NotReadableError")&&(r.audio&&alert("Something wrong with mic?"),r.video&&alert("Something wrong with camera?"),n(!1))})}get RemoteStream(){return this.remoteStream}async InitRTC(r,n){this.conf=await(await fetch("./src/lib/ice_conf.json")).json();let l={iceTransportPolicy:"all",lifetimeDuration:this.conf.lifetimeDuration,rtcpMuxPolicy:"require",bundlePolicy:"balanced",iceServers:[this.conf.stun,this.conf.turn]};this.pcPull[r]&&(this.DC&&this.DC.dc&&(this.DC.dc.close(),this.DC=null),this.pcPull[r].con&&(this.pcPull[r].con.close(),this.pcPull[r].con=null));let s={};this.pcPull[r]=null,this.pcPull[r]=new Pp(this,l,r),this.pcPull[r].signch=this.signch,this.pcPull[r].params=s,this.DC=new Bp(this,this.pcPull[r]),this.startTime=Date.now(),n()}gotStream(r,n){this.localStream||(this.localStream=r),this.getTracks(r,n)}getTracks(r,n){r.getTracks().forEach(c=>{for(let f in this.pcPull)f!=="reserve"&&(this.pcPull[f].con.iceConnectionState==="disconnected"||this.pcPull[f].con.iceConnectionState==="closed"||(this.localStream.addTrack(c),this.pcPull[f].sender=this.pcPull[f].con.addTrack(c,this.localStream),c.kind==="video"?this.SetLocalVideo(this.localStream):c.kind))});var l=this.localStream.getVideoTracks(),s=this.localStream.getAudioTracks();l.length>0&&console.log("Using video device: "+l[0].label,this),s.length>0&&console.log("Using audio device: "+s[0].label,this),n(!0)}RemoveTracks(){this.localStream&&(this.localStream.getVideoTracks().forEach(l=>{l.readyState=="live"&&l.kind==="video"&&l.stop(),this.localStream.removeTrack(l)}),this.localStream.getAudioTracks().forEach(l=>{l.readyState=="live"&&l.kind==="audio"&&l.stop(),this.localStream.removeTrack(l)}))}}class Hp extends Wp{constructor(r,n,l){super(r,n),this.signch=l,this.checking_tmr}Init(r){let n=this;this.mode="";let l=[n.abonent];n.main_pc="";for(let s in l)n.InitRTC(l[s],function(){r()})}SendOffer(r){let n=this;n.pcPull[r].params.loc_desc="",n.pcPull[r].params.loc_cand="",n.pcPull[r].con.createOffer(this.mode={offerToReceiveAudio:1,offerToReceiveVideo:1,iceRestart:1}).then(l=>n.pcPull[r].onCreateOfferSuccess(l),n.pcPull[r].onCreateOfferError)}ChooseTarif(r){let n={};return n.proj="kolmit",n.func="tarif",n.em=this.email,n.tarif=r,n.psw=this.psw,new Promise((l,s)=>{this.signch.SendMessage(n,c=>{l(c)})})}SendStatus(r){let n={};return n.proj="kolmit",n.func="status",n.type=this.type,n.abonent=this.abonent,n.uid=this.uid,n.em=this.email,n.status=r,this.status=r,new Promise((l,s)=>{this.signch.SendMessage(n,c=>{l(c)})})}SendVideoOffer(r){let n=this;n.pcPull[r].params.loc_desc="",n.pcPull[r].params.loc_cand="",n.pcPull[r].con.createOffer(n.mode={offerToReceiveAudio:1,offerToReceiveVideo:1,iceRestart:1}).then(l=>n.pcPull[r].onCreateVideoOfferSuccess(l),n.pcPull[r].onCreateOfferError)}async Offer(){this.Init(async()=>{this.pcPull[this.abonent].con.signalingState!=="closed"&&this.GetUserMedia({audio:1,video:0},()=>{this.SendOffer(this.abonent)})})}OnActive(){this.Init(()=>{this.pcPull[this.abonent].con.signalingState!=="closed"&&this.GetUserMedia({audio:1,video:0},r=>{r&&this.SendOffer(this.abonent)})})}OnCall(){this.DC&&clearInterval(this.DC.inter),this.SendStatus("call")}OnTalk(){this.DC.dc&&this.DC.SendDCTalk(),this.SendStatus("talk"),console.log()}OnMute(){this.RemoveTracks(),this.DC&&this.DC.SendDCHangup(()=>{})}OnInactive(){this.RemoveTracks(),(this.DC.dc.readyState==="open"||this.DC.dc.readyState==="connecting")&&this.DC.SendDCHangup(()=>{this.DC.dc.close(),this.SendStatus("close")})}OnMessage(r){let n=this;if(Fl.set(r),r.func,r.func==="mute"&&this.RemoveTracks(),r.func==="talk"&&clearInterval(n.DC.inter),r.func,r.func,r.desc&&(n.pcPull[r.abonent].con&&(n.pcPull[r.abonent].con.connectionState==="failed"||n.pcPull[r.abonent].con.connectionState==="disconnected")&&n.pcPull[r.abonent].con.restartIce(),n.pcPull[r.abonent]&&(n.pcPull[r.abonent].params.rem_desc=r.desc,n.pcPull[r.abonent].setRemoteDesc(r.desc),n.PlayCallCnt())),r.cand&&n.pcPull[r.abonent]){if(!n.pcPull[r.abonent].con||n.pcPull[r.abonent].con.signalingState==="closed")return;try{if(n.pcPull[r.abonent].params.rem_cand=r.cand,Array.isArray(r.cand))for(let l in r.cand)n.pcPull[r.abonent].con.addIceCandidate(r.cand[l]);else n.pcPull[r.abonent].con.addIceCandidate(r.cand)}catch(l){log(l)}}}}function zp(u){let r,n,l,s,c,f,a,p;return{c(){r=W("div"),n=We("svg"),l=We("g"),s=We("title"),c=_e("Layer 1"),f=We("path"),this.h()},l(d){r=H(d,"DIV",{class:!0,style:!0});var g=N(r);n=He(g,"svg",{class:!0,status:!0,width:!0,height:!0,style:!0});var b=N(n);l=He(b,"g",{class:!0,style:!0});var m=N(l);s=He(m,"title",{});var w=N(s);c=me(w,"Layer 1"),w.forEach(E),f=He(m,"path",{d:!0,id:!0,class:!0,transform:!0}),N(f).forEach(E),m.forEach(E),b.forEach(E),g.forEach(E),this.h()},h(){C(f,"d","M390.7 353.3c-120.30000000000001 69.5 63.19999999999999 413.59999999999997 194.90000000000003 337.59999999999997l122.10000000000002 211.39999999999998c-55.60000000000002 32.10000000000002-102.5 52.30000000000007-166.9000000000001 15.5-178.79999999999995-102.19999999999993-375.59999999999997-442.9-369.99999999999994-646.0999999999999 1.8999999999999773-70.60000000000005 43.599999999999994-98.30000000000004 97.89999999999998-129.70000000000005 23.30000000000001 40.400000000000006 98.60000000000002 170.8 122 211.3z m50.400000000000034-5.699999999999989c-13 7.5-29.700000000000045 3.099999999999966-37.30000000000001-10l-115-199.3c-7.5-13.000000000000014-3.1000000000000227-29.700000000000017 10-37.30000000000001l60.5-34.900000000000006c13-7.499999999999993 29.69999999999999-3.0999999999999943 37.30000000000001 10l115.09999999999997 199.29999999999998c7.500000000000057 13 3.099999999999966 29.700000000000045-10 37.200000000000045l-60.599999999999966 35z m314.4 544.5c-13 7.5-29.700000000000045 3.1000000000000227-37.299999999999955-10l-115-199.30000000000007c-7.5-13-3.1000000000000227-29.699999999999932 10-37.299999999999955l60.5-34.89999999999998c13-7.5 29.699999999999932-3.1000000000000227 37.299999999999955 10l115.10000000000002 199.29999999999995c7.5 13 3.1000000000000227 29.700000000000045-10 37.30000000000007l-60.60000000000002 34.89999999999998z"),C(f,"id","svg_1"),C(f,"class","selected"),C(f,"transform","scale(.04)"),C(l,"class","currentLayer svelte-xpesuu"),T(l,"stroke","lightgrey"),T(l,"stroke-width","10px"),C(n,"class","callButton svelte-xpesuu"),C(n,"status",u[0]),C(n,"width","50"),C(n,"height","50"),T(n,"position","absolute"),T(n,"left","0px"),T(n,"top","5px"),T(n,"z-index","30"),C(r,"class","callObject"),T(r,"display","block")},m(d,g){Q(d,r,g),I(r,n),I(n,l),I(l,s),I(s,c),I(l,f),a||(p=[Re(n,"click",u[2]),Re(r,"long-press",function(){w0(u[1])&&u[1].apply(this,arguments)})],a=!0)},p(d,[g]){u=d,g&1&&C(n,"status",u[0])},i:Xe,o:Xe,d(d){d&&E(r),a=!1,cr(p)}}}function Vp(u,r,n){let{status:l="inactive"}=r,{OnLongPress:s}=r;function c(f){$d.call(this,u,f)}return u.$$set=f=>{"status"in f&&n(0,l=f.status),"OnLongPress"in f&&n(1,s=f.OnLongPress)},[l,s,c]}class Gp extends dt{constructor(r){super(),pt(this,r,Vp,zp,ht,{status:0,OnLongPress:1})}}function Kp(u){let r,n,l,s,c,f,a;return{c(){r=W("button"),n=We("svg"),l=We("line"),s=We("line"),c=We("line"),this.h()},l(p){r=H(p,"BUTTON",{style:!0,class:!0});var d=N(r);n=He(d,"svg",{width:!0,height:!0,class:!0});var g=N(n);l=He(g,"line",{id:!0,x1:!0,y1:!0,x2:!0,y2:!0,style:!0,class:!0}),N(l).forEach(E),s=He(g,"line",{id:!0,x1:!0,y1:!0,x2:!0,y2:!0,style:!0,class:!0}),N(s).forEach(E),c=He(g,"line",{id:!0,x1:!0,y1:!0,x2:!0,y2:!0,style:!0,class:!0}),N(c).forEach(E),g.forEach(E),d.forEach(E),this.h()},h(){C(l,"id","top"),C(l,"x1","0"),C(l,"y1","8"),C(l,"x2","26"),C(l,"y2","8"),T(l,"transition","transform "+u[1]+"s ease-in-out, opacity "+u[1]+"s ease-in-out"),C(l,"class","svelte-15ez1si"),C(s,"id","mid"),C(s,"x1","0"),C(s,"y1","16"),C(s,"x2","26"),C(s,"y2","16"),T(s,"transition","transform "+u[1]+"s ease-in-out, opacity "+u[1]+"s ease-in-out"),C(s,"class","svelte-15ez1si"),C(c,"id","bot"),C(c,"x1","0"),C(c,"y1","24"),C(c,"x2","26"),C(c,"y2","24"),T(c,"transition","transform "+u[1]+"s ease-in-out, opacity "+u[1]+"s ease-in-out"),C(c,"class","svelte-15ez1si"),C(n,"width","26"),C(n,"height","26"),C(n,"class","svelte-15ez1si"),T(r,"position","fixed"),T(r,"transition","color "+u[1]+"s ease-in-out"),T(r,"color",u[0]?u[3]:u[2]),C(r,"class","svelte-15ez1si"),so(r,"open",u[0])},m(p,d){Q(p,r,d),I(r,n),I(n,l),I(n,s),I(n,c),f||(a=Re(r,"click",u[4]),f=!0)},p(p,[d]){d&2&&T(l,"transition","transform "+p[1]+"s ease-in-out, opacity "+p[1]+"s ease-in-out"),d&2&&T(s,"transition","transform "+p[1]+"s ease-in-out, opacity "+p[1]+"s ease-in-out"),d&2&&T(c,"transition","transform "+p[1]+"s ease-in-out, opacity "+p[1]+"s ease-in-out"),d&2&&T(r,"transition","color "+p[1]+"s ease-in-out"),d&13&&T(r,"color",p[0]?p[3]:p[2]),d&1&&so(r,"open",p[0])},i:Xe,o:Xe,d(p){p&&E(r),f=!1,a()}}}function qp(u,r,n){let{open:l}=r,{duration:s}=r,{burgerColor:c}=r,{menuColor:f}=r;const a=()=>n(0,l=!l);return u.$$set=p=>{"open"in p&&n(0,l=p.open),"duration"in p&&n(1,s=p.duration),"burgerColor"in p&&n(2,c=p.burgerColor),"menuColor"in p&&n(3,f=p.menuColor)},[l,s,c,f,a]}class Jp extends dt{constructor(r){super(),pt(this,r,qp,Kp,ht,{open:0,duration:1,burgerColor:2,menuColor:3})}}function Yp(u){let r,n,l;const s=u[8].default,c=Kr(s,u,u[7],null);return{c(){r=W("div"),n=W("div"),c&&c.c(),this.h()},l(f){r=H(f,"DIV",{id:!0,style:!0,class:!0});var a=N(r);n=H(a,"DIV",{id:!0,style:!0,class:!0});var p=N(n);c&&c.l(p),p.forEach(E),a.forEach(E),this.h()},h(){C(n,"id","menu"),T(n,"padding",u[3]),T(n,"padding-top",u[4]),C(n,"class","svelte-1229l7u"),C(r,"id","container"),T(r,"position","fixed"),T(r,"z-index","1"),T(r,"background-color",u[5]),T(r,"color",u[6]),T(r,"width",u[2]),T(r,"right",u[0]?"0px":"-"+(parseInt(u[2])+10)+"px"),T(r,"transition","right "+u[1]+"s ease-in-out"),C(r,"class","svelte-1229l7u")},m(f,a){Q(f,r,a),I(r,n),c&&c.m(n,null),l=!0},p(f,[a]){c&&c.p&&(!l||a&128)&&qr(c,s,f,f[7],l?Yr(s,f[7],a,null):Jr(f[7]),null),(!l||a&8)&&T(n,"padding",f[3]),(!l||a&16)&&T(n,"padding-top",f[4]),(!l||a&32)&&T(r,"background-color",f[5]),(!l||a&64)&&T(r,"color",f[6]),(!l||a&4)&&T(r,"width",f[2]),(!l||a&5)&&T(r,"right",f[0]?"0px":"-"+(parseInt(f[2])+10)+"px"),(!l||a&2)&&T(r,"transition","right "+f[1]+"s ease-in-out")},i(f){l||(se(c,f),l=!0)},o(f){he(c,f),l=!1},d(f){f&&E(r),c&&c.d(f)}}}function Zp(u,r,n){let{$$slots:l={},$$scope:s}=r,{open:c}=r,{duration:f}=r,{width:a}=r,{padding:p}=r,{paddingTop:d}=r,{backgroundColor:g}=r,{menuColor:b}=r;return u.$$set=m=>{"open"in m&&n(0,c=m.open),"duration"in m&&n(1,f=m.duration),"width"in m&&n(2,a=m.width),"padding"in m&&n(3,p=m.padding),"paddingTop"in m&&n(4,d=m.paddingTop),"backgroundColor"in m&&n(5,g=m.backgroundColor),"menuColor"in m&&n(6,b=m.menuColor),"$$scope"in m&&n(7,s=m.$$scope)},[c,f,a,p,d,g,b,s,l]}class jp extends dt{constructor(r){super(),pt(this,r,Zp,Yp,ht,{open:0,duration:1,width:2,padding:3,paddingTop:4,backgroundColor:5,menuColor:6})}}function Xp(u){let r;const n=u[10].default,l=Kr(n,u,u[13],null);return{c(){l&&l.c()},l(s){l&&l.l(s)},m(s,c){l&&l.m(s,c),r=!0},p(s,c){l&&l.p&&(!r||c&8192)&&qr(l,n,s,s[13],r?Yr(n,s[13],c,null):Jr(s[13]),null)},i(s){r||(se(l,s),r=!0)},o(s){he(l,s),r=!1},d(s){l&&l.d(s)}}}function Qp(u){let r,n,l,s,c,f;const a=[u[1]];function p(w){u[11](w)}let d={};for(let w=0;w<a.length;w+=1)d=Wr(d,a[w]);u[0]!==void 0&&(d.open=u[0]),r=new Jp({props:d}),Ze.push(()=>Tt(r,"open",p));const g=[u[2]];function b(w){u[12](w)}let m={$$slots:{default:[Xp]},$$scope:{ctx:u}};for(let w=0;w<g.length;w+=1)m=Wr(m,g[w]);return u[0]!==void 0&&(m.open=u[0]),s=new jp({props:m}),Ze.push(()=>Tt(s,"open",b)),{c(){ot(r.$$.fragment),l=ee(),ot(s.$$.fragment)},l(w){ft(r.$$.fragment,w),l=te(w),ft(s.$$.fragment,w)},m(w,P){at(r,w,P),Q(w,l,P),at(s,w,P),f=!0},p(w,[P]){const L=P&2?Hr(a,[zr(w[1])]):{};!n&&P&1&&(n=!0,L.open=w[0],At(()=>n=!1)),r.$set(L);const U=P&4?Hr(g,[zr(w[2])]):{};P&8192&&(U.$$scope={dirty:P,ctx:w}),!c&&P&1&&(c=!0,U.open=w[0],At(()=>c=!1)),s.$set(U)},i(w){f||(se(r.$$.fragment,w),se(s.$$.fragment,w),f=!0)},o(w){he(r.$$.fragment,w),he(s.$$.fragment,w),f=!1},d(w){w&&E(l),ct(r,w),ct(s,w)}}}function xp(u,r,n){let{$$slots:l={},$$scope:s}=r,{open:c=!1}=r,{duration:f=.4}=r,{width:a="250px"}=r,{padding:p="20px"}=r,{paddingTop:d="50px"}=r,{backgroundColor:g="rgb(250, 250, 250)"}=r,{burgerColor:b="rgb(18.4, 18.4, 18.4)"}=r,{menuColor:m="rgb(180, 180, 180)"}=r,w={duration:f,burgerColor:b,menuColor:m},P={duration:f,width:a,padding:p,paddingTop:d,backgroundColor:g,menuColor:m};function L(z){c=z,n(0,c)}function U(z){c=z,n(0,c)}return u.$$set=z=>{"open"in z&&n(0,c=z.open),"duration"in z&&n(3,f=z.duration),"width"in z&&n(4,a=z.width),"padding"in z&&n(5,p=z.padding),"paddingTop"in z&&n(6,d=z.paddingTop),"backgroundColor"in z&&n(7,g=z.backgroundColor),"burgerColor"in z&&n(8,b=z.burgerColor),"menuColor"in z&&n(9,m=z.menuColor),"$$scope"in z&&n(13,s=z.$$scope)},[c,w,P,f,a,p,d,g,b,m,l,L,U,s]}class $p extends dt{constructor(r){super(),pt(this,r,xp,Qp,ht,{open:0,duration:3,width:4,padding:5,paddingTop:6,backgroundColor:7,burgerColor:8,menuColor:9})}}const eg=u=>({}),Mo=u=>({});function tg(u){let r,n,l;const s=u[4].footer,c=Kr(s,u,u[3],Mo);return{c(){r=W("video"),n=ee(),c&&c.c(),this.h()},l(f){r=H(f,"VIDEO",{id:!0,style:!0});var a=N(r);a.forEach(E),n=te(f),c&&c.l(f),this.h()},h(){C(r,"id","localVideo"),r.autoplay=!0,r.playsInline=!0,r.muted=!0,T(r,"display",u[0]),T(r,"position","absolute"),T(r,"top","0px"),T(r,"width","130%"),T(r,"height","100px"),T(r,"z-index","20")},m(f,a){Q(f,r,a),Q(f,n,a),c&&c.m(f,a),l=!0},p(f,[a]){(!l||a&1)&&T(r,"display",f[0]),c&&c.p&&(!l||a&8)&&qr(c,s,f,f[3],l?Yr(s,f[3],a,eg):Jr(f[3]),Mo)},i(f){l||(se(c,f),l=!0)},o(f){he(c,f),l=!1},d(f){f&&(E(r),E(n)),c&&c.d(f)}}}function ng(u,r,n){let{$$slots:l={},$$scope:s}=r,{display:c="block"}=r,{srcObject:f=""}=r,a;return Wn(async()=>{n(2,a=document.getElementById("localVideo"))}),u.$$set=p=>{"display"in p&&n(0,c=p.display),"srcObject"in p&&n(1,f=p.srcObject),"$$scope"in p&&n(3,s=p.$$scope)},u.$$.update=()=>{u.$$.dirty&6&&(a&&f?n(2,a.srcObject=f,a):a&&a.srcObject&&(a.srcObject.getVideoTracks().forEach(p=>{p.stop(),a.srcObject.removeTrack(p)}),n(2,a.src="",a)))},[c,f,a,s,l]}class rg extends dt{constructor(r){super(),pt(this,r,ng,tg,ht,{display:0,srcObject:1})}}function ig(u){let r,n,l,s;const c=u[5].default,f=Kr(c,u,u[4],null);return{c(){r=W("video"),n=W("track"),l=ee(),f&&f.c(),this.h()},l(a){r=H(a,"VIDEO",{id:!0,poster:!0,style:!0});var p=N(r);n=H(p,"TRACK",{kind:!0}),p.forEach(E),l=te(a),f&&f.l(a),this.h()},h(){C(n,"kind","captions"),C(r,"id","remoteVideo"),r.autoplay=!0,r.playsInline=!0,C(r,"poster",u[1]),T(r,"display",u[0]),T(r,"position","absolute"),T(r,"height","105px"),T(r,"background-color","white"),T(r,"max-width","12%"),T(r,"z-index","10")},m(a,p){Q(a,r,p),I(r,n),Q(a,l,p),f&&f.m(a,p),s=!0},p(a,[p]){(!s||p&2)&&C(r,"poster",a[1]),(!s||p&1)&&T(r,"display",a[0]),f&&f.p&&(!s||p&16)&&qr(f,c,a,a[4],s?Yr(c,a[4],p,null):Jr(a[4]),null)},i(a){s||(se(f,a),s=!0)},o(a){he(f,a),s=!1},d(a){a&&(E(r),E(l)),f&&f.d(a)}}}function lg(u,r,n){let{$$slots:l={},$$scope:s}=r,{display:c="none"}=r,{poster:f}=r,{srcObject:a}=r,p;return Wn(async()=>{n(3,p=document.getElementById("remoteVideo"))}),u.$$set=d=>{"display"in d&&n(0,c=d.display),"poster"in d&&n(1,f=d.poster),"srcObject"in d&&n(2,a=d.srcObject),"$$scope"in d&&n(4,s=d.$$scope)},u.$$.update=()=>{u.$$.dirty&12&&(p&&a?n(3,p.srcObject=a,p):p&&p.srcObject&&(p.srcObject.getVideoTracks().forEach(d=>{d.stop(),p.srcObject.removeTrack(d)}),n(3,p.src="",p)))},[c,f,a,p,s,l]}class sg extends dt{constructor(r){super(),pt(this,r,lg,ig,ht,{display:0,poster:1,srcObject:2})}}function ug(u){let r,n="",l,s,c='<input type="file" id="fileInput" name="files"/>',f,a;return{c(){r=W("a"),r.innerHTML=n,l=ee(),s=W("form"),s.innerHTML=c,f=ee(),a=W("i"),this.h()},l(p){r=H(p,"A",{id:!0,style:!0,"data-svelte-h":!0}),Vr(r)!=="svelte-1ulz4fx"&&(r.innerHTML=n),l=te(p),s=H(p,"FORM",{id:!0,style:!0,"data-svelte-h":!0}),Vr(s)!=="svelte-tjvju7"&&(s.innerHTML=c),f=te(p),a=H(p,"I",{class:!0,style:!0}),N(a).forEach(E),this.h()},h(){C(r,"id","download_href"),T(r,"display","none"),C(s,"id","fileInfo"),T(s,"display","none"),C(a,"class","fa fa-spinner fa-spin"),T(a,"position","absolute"),T(a,"top","50%"),T(a,"left","50%"),T(a,"font-size","44px")},m(p,d){Q(p,r,d),Q(p,l,d),Q(p,s,d),Q(p,f,d),Q(p,a,d)},p:Xe,i:Xe,o:Xe,d(p){p&&(E(r),E(l),E(s),E(f),E(a))}}}class og extends dt{constructor(r){super(),pt(this,r,null,ug,ht,{})}}function fg(u){let r,n='<track kind="captions"/>',l;return{c(){r=W("audio"),r.innerHTML=n,this.h()},l(s){r=H(s,"AUDIO",{id:!0,src:!0,"data-svelte-h":!0}),Vr(r)!=="svelte-qhtjm0"&&(r.innerHTML=n),this.h()},h(){C(r,"id","localSound"),yn(r.src,l="../src/routes/assets/mp3/ring.mp3")||C(r,"src",l)},m(s,c){Q(s,r,c)},p:Xe,i:Xe,o:Xe,d(s){s&&E(r)}}}function ag(u,r,n){let{paused:l=!0}=r,s;return Wn(async()=>{n(1,s=document.getElementById("localSound"))}),u.$$set=c=>{"paused"in c&&n(0,l=c.paused)},u.$$.update=()=>{u.$$.dirty&3&&s&&(l?s.pause():s.play())},[l,s]}class cg extends dt{constructor(r){super(),pt(this,r,ag,fg,ht,{paused:0})}}function hg(u){let r,n;return{c(){r=W("audio"),n=W("track"),this.h()},l(l){r=H(l,"AUDIO",{id:!0});var s=N(r);n=H(s,"TRACK",{kind:!0}),s.forEach(E),this.h()},h(){C(n,"kind","captions"),C(r,"id","remoteAudio"),r.autoplay=!0,r.muted=u[0]},m(l,s){Q(l,r,s),I(r,n)},p(l,[s]){s&1&&(r.muted=l[0])},i:Xe,o:Xe,d(l){l&&E(r)}}}function dg(u,r,n){let{muted:l=!1}=r,{srcObject:s}=r,c;return Wn(async()=>{n(2,c=document.getElementById("remoteAudio"))}),u.$$set=f=>{"muted"in f&&n(0,l=f.muted),"srcObject"in f&&n(1,s=f.srcObject)},u.$$.update=()=>{u.$$.dirty&6&&c&&s&&n(2,c.srcObject=s,c)},[l,s,c]}class pg extends dt{constructor(r){super(),pt(this,r,dg,hg,ht,{muted:0,srcObject:1})}}function gg(u){let r;return{c(){r=W("video"),this.h()},l(n){r=H(n,"VIDEO",{class:!0,style:!0}),N(r).forEach(E),this.h()},h(){C(r,"class","recordedVideo"),r.autoplay=!0,r.muted=!0,T(r,"display",u[0])},m(n,l){Q(n,r,l)},p(n,[l]){l&1&&T(r,"display",n[0])},i:Xe,o:Xe,d(n){n&&E(r)}}}function _g(u,r,n){let{display:l="none"}=r;return u.$$set=s=>{"display"in s&&n(0,l=s.display)},[l]}class mg extends dt{constructor(r){super(),pt(this,r,_g,gg,ht,{display:0})}}class vg{constructor(r){this.host=r,this.cb,this.timeout=1e4,this.cb={},this.openSocket()}openSocket(){this.ws||(this.ws=new WebSocket(this.host.host_ws)),this.ws.onerror=function(r){console.log("Connect Error: "+r.toString())},this.ws.onopen=()=>{this.waitForSocketConnection(this.ws,()=>{vi.set(this)}),this.keepAlive()},this.ws.onclose=function(){console.log("echo-protocol Connection Closed"),this.ws=new WebSocket(this.url)}}keepAlive(){setInterval(()=>{this.ws.readyState===1&&this.ws.send(encodeURIComponent("kolmit"))},this.timeout)}waitForSocketConnection(r,n){let l=this;setTimeout(function(){r.readyState===1?n!=null&&n():(console.log("wait for connection..."),l.waitForSocketConnection(r,n))},5)}SendMessage(r,n){let l=this;this.cb[r.func]=n,this.ws.onmessage=s=>{if(s.type==="message"){const c=JSON.parse(decodeURIComponent(s.data));l.cb[c.func]&&(l.cb[c.func](c),delete l.cb[c.func]),Fl.set(c),globalThis.rtc&&globalThis.rtc.OnMessage(c),n(c)}};try{l.ws.readyState===1||l.openSocket(),l.ws.send(encodeURIComponent(JSON.stringify(r)))}catch{return!1}}}function bg(u){let r,n="100",l,s,c="0";return{c(){r=W("b"),r.textContent=n,l=ee(),s=W("span"),s.textContent=c,this.h()},l(f){r=H(f,"B",{class:!0,style:!0,"data-svelte-h":!0}),Vr(r)!=="svelte-c2ioih"&&(r.textContent=n),l=te(f),s=H(f,"SPAN",{class:!0,style:!0,"data-svelte-h":!0}),Vr(s)!=="svelte-k0969a"&&(s.textContent=c),this.h()},h(){C(r,"class","call_cnt"),T(r,"display","none"),T(r,"position","absolute"),T(r,"left","22px"),T(r,"top","10px"),T(r,"color","#0e0cff"),T(r,"font-size","12px"),C(s,"class","badge badge-primary badge-pill call-queue"),T(s,"display","none"),T(s,"position","absolute"),T(s,"right","0px"),T(s,"bottom","0px"),T(s,"color","#0e0cff"),T(s,"font-size","12px"),T(s,"opacity","1")},m(f,a){Q(f,r,a),Q(f,l,a),Q(f,s,a)},p:Xe,d(f){f&&(E(r),E(l),E(s))}}}function wg(u){let r;return{c(){r=W("div")},l(n){r=H(n,"DIV",{}),N(r).forEach(E)},m(n,l){Q(n,r,l),u[18](r)},p:Xe,d(n){n&&E(r),u[18](null)}}}function Fo(u){let r,n,l,s,c,f,a;return{c(){r=W("div"),n=We("svg"),l=We("glyph"),s=We("g"),c=We("path"),this.h()},l(p){r=H(p,"DIV",{class:!0,style:!0});var d=N(r);n=He(d,"svg",{height:!0,width:!0,style:!0});var g=N(n);l=He(g,"glyph",{"glyph-name":!0,unicode:!0,"horiz-adv-x":!0}),N(l).forEach(E),s=He(g,"g",{class:!0,style:!0});var b=N(s);c=He(b,"path",{d:!0,transform:!0,style:!0}),N(c).forEach(E),b.forEach(E),g.forEach(E),d.forEach(E),this.h()},h(){C(l,"glyph-name","ui-video-chat"),C(l,"unicode",""),C(l,"horiz-adv-x","50"),C(c,"d","M891.5 23h-783c-59.7 0-108.5 48.8-108.5 108.5v466.20000000000005c0 59.59999999999991 48.8 108.5 108.5 108.5h222.39999999999998v270.5999999999999l270.70000000000005-270.5999999999999h289.9c59.700000000000045 0 108.5-48.90000000000009 108.5-108.5v-466.20000000000005c0-59.7-48.799999999999955-108.5-108.5-108.5z m-223.5 370l-252.8 134.70000000000005c-26.30000000000001 14-47.89999999999998 1.099999999999909-47.89999999999998-28.700000000000045v-262.9c0-29.900000000000034 21.599999999999966-42.80000000000001 47.89999999999998-28.80000000000001l252.8 134.7c26.299999999999955 14 26.299999999999955 37 0 51z"),C(c,"transform","scale(.03)"),T(c,"fill","lightgrey"),T(c,"stroke","black"),T(c,"stroke-width","20px"),C(s,"class","currentLayer"),T(s,"position","absolute"),T(s,"right","0"),T(s,"top","0"),T(s,"stroke","grey"),T(s,"stroke-width","2px"),T(s,"fill","lightgrey"),T(s,"font-size","30px"),C(n,"height","30"),C(n,"width","30"),T(n,"position","absolute"),T(n,"bottom","70px"),T(n,"right","0px"),T(n,"z-index","30"),C(r,"class","video"),T(r,"position","absolute"),T(r,"top","0"),T(r,"width","100px"),T(r,"height","100px")},m(p,d){Q(p,r,d),I(r,n),I(n,l),I(n,s),I(s,c),f||(a=Re(n,"click",u[16]),f=!0)},p:Xe,d(p){p&&E(r),f=!1,a()}}}function Uo(u){let r;function n(c,f){return c[6]?yg:Sg}let l=n(u),s=l(u);return{c(){s.c(),r=lt()},l(c){s.l(c),r=lt()},m(c,f){s.m(c,f),Q(c,r,f)},p(c,f){l===(l=n(c))&&s?s.p(c,f):(s.d(1),s=l(c),s&&(s.c(),s.m(r.parentNode,r)))},d(c){c&&E(r),s.d(c)}}}function yg(u){let r,n=u[11]["Cancel Edit Call Center"][u[7]]+"",l,s,c;return{c(){r=W("h5"),l=_e(n)},l(f){r=H(f,"H5",{});var a=N(r);l=me(a,n),a.forEach(E)},m(f,a){Q(f,r,a),I(r,l),s||(c=Re(r,"click",u[26]),s=!0)},p(f,a){a[0]&128&&n!==(n=f[11]["Cancel Edit Call Center"][f[7]]+"")&&Fe(l,n)},d(f){f&&E(r),s=!1,c()}}}function Sg(u){let r,n=u[11]["Edit Call Center"][u[7]]+"",l,s,c;return{c(){r=W("h5"),l=_e(n)},l(f){r=H(f,"H5",{});var a=N(r);l=me(a,n),a.forEach(E)},m(f,a){Q(f,r,a),I(r,l),s||(c=Re(r,"click",u[25]),s=!0)},p(f,a){a[0]&128&&n!==(n=f[11]["Edit Call Center"][f[7]]+"")&&Fe(l,n)},d(f){f&&E(r),s=!1,c()}}}function No(u){let r,n=u[11]["Create my own net"][u[7]]+"",l,s,c;return{c(){r=W("h5"),l=_e(n)},l(f){r=H(f,"H5",{});var a=N(r);l=me(a,n),a.forEach(E)},m(f,a){Q(f,r,a),I(r,l),s||(c=Re(r,"click",u[27]),s=!0)},p(f,a){a[0]&128&&n!==(n=f[11]["Create my own net"][f[7]]+"")&&Fe(l,n)},d(f){f&&E(r),s=!1,c()}}}function Cg(u){let r=u[11]["Language Select"][u[7]]+"",n,l,s,c,f,a,p,d,g,b,m,w,P,L,U,z,Z,q,B,J,R,$,j,re,Ae,Ge,Oe=u[0]&&Uo(u),we=u[11]&&u[0].email!==u[0].abonent&&No(u);return re=tp(u[22][0]),{c(){n=_e(r),l=_e(`:\r
                \r
                `),s=W("div"),c=W("label"),f=W("input"),a=ee(),p=W("img"),g=ee(),b=W("label"),m=W("input"),w=ee(),P=W("img"),U=ee(),z=W("label"),Z=W("input"),q=ee(),B=W("img"),R=ee(),Oe&&Oe.c(),$=ee(),we&&we.c(),j=lt(),this.h()},l(le){n=me(le,r),l=me(le,`:\r
                \r
                `),s=H(le,"DIV",{style:!0});var K=N(s);c=H(K,"LABEL",{style:!0});var ye=N(c);f=H(ye,"INPUT",{type:!0,name:!0}),a=te(ye),p=H(ye,"IMG",{src:!0,alt:!0}),ye.forEach(E),g=te(K),b=H(K,"LABEL",{style:!0});var Ce=N(b);m=H(Ce,"INPUT",{type:!0,name:!0}),w=te(Ce),P=H(Ce,"IMG",{src:!0,alt:!0}),Ce.forEach(E),U=te(K),z=H(K,"LABEL",{style:!0});var Te=N(z);Z=H(Te,"INPUT",{type:!0,name:!0}),q=te(Te),B=H(Te,"IMG",{src:!0,alt:!0}),Te.forEach(E),K.forEach(E),R=te(le),Oe&&Oe.l(le),$=te(le),we&&we.l(le),j=lt(),this.h()},h(){C(f,"type","radio"),C(f,"name","lang"),f.__value="en",pn(f,f.__value),yn(p.src,d="https://www.sic-info.org/wp-content/uploads/2014/01/gb.png")||C(p,"src",d),C(p,"alt","English"),T(c,"flex","1"),C(m,"type","radio"),C(m,"name","lang"),m.__value="fr",pn(m,m.__value),yn(P.src,L="https://www.sic-info.org/wp-content/uploads/2014/01/fr.png")||C(P,"src",L),C(P,"alt","French"),T(b,"flex","1"),C(Z,"type","radio"),C(Z,"name","lang"),Z.__value="ru",pn(Z,Z.__value),yn(B.src,J="https://www.sic-info.org/wp-content/uploads/2014/01/ru.png")||C(B,"src",J),C(B,"alt","Russian"),T(z,"flex","1"),T(s,"display","flex"),T(s,"margin-bottom","20px"),re.p(f,m,Z)},m(le,K){Q(le,n,K),Q(le,l,K),Q(le,s,K),I(s,c),I(c,f),f.checked=f.__value===u[7],I(c,a),I(c,p),I(s,g),I(s,b),I(b,m),m.checked=m.__value===u[7],I(b,w),I(b,P),I(s,U),I(s,z),I(z,Z),Z.checked=Z.__value===u[7],I(z,q),I(z,B),Q(le,R,K),Oe&&Oe.m(le,K),Q(le,$,K),we&&we.m(le,K),Q(le,j,K),Ae||(Ge=[Re(f,"change",u[21]),Re(f,"change",u[14]),Re(m,"change",u[23]),Re(m,"change",u[14]),Re(Z,"change",u[24]),Re(Z,"change",u[14])],Ae=!0)},p(le,K){K[0]&128&&r!==(r=le[11]["Language Select"][le[7]]+"")&&Fe(n,r),K[0]&128&&(f.checked=f.__value===le[7]),K[0]&128&&(m.checked=m.__value===le[7]),K[0]&128&&(Z.checked=Z.__value===le[7]),le[0]?Oe?Oe.p(le,K):(Oe=Uo(le),Oe.c(),Oe.m($.parentNode,$)):Oe&&(Oe.d(1),Oe=null),le[11]&&le[0].email!==le[0].abonent?we?we.p(le,K):(we=No(le),we.c(),we.m(j.parentNode,j)):we&&(we.d(1),we=null)},d(le){le&&(E(n),E(l),E(s),E(R),E($),E(j)),Oe&&Oe.d(le),we&&we.d(le),re.r(),Ae=!1,cr(Ge)}}}function Og(u){let r,n,l,s;function c(p){u[29](p)}function f(p){u[30](p)}let a={tarif:u[1],psw:u[12]};return u[2]!==void 0&&(a.status=u[2]),u[0]!==void 0&&(a.operator=u[0]),r=new Ep({props:a}),u[28](r),Ze.push(()=>Tt(r,"status",c)),Ze.push(()=>Tt(r,"operator",f)),{c(){ot(r.$$.fragment)},l(p){ft(r.$$.fragment,p)},m(p,d){at(r,p,d),s=!0},p(p,d){const g={};d[0]&2&&(g.tarif=p[1]),!n&&d[0]&4&&(n=!0,g.status=p[2],At(()=>n=!1)),!l&&d[0]&1&&(l=!0,g.operator=p[0],At(()=>l=!1)),r.$set(g)},i(p){s||(se(r.$$.fragment,p),s=!0)},o(p){he(r.$$.fragment,p),s=!1},d(p){u[28](null),ct(r,p)}}}function Eg(u){let r,n;return r=new kp({props:{tarif:u[1]}}),{c(){ot(r.$$.fragment)},l(l){ft(r.$$.fragment,l)},m(l,s){at(r,l,s),n=!0},p(l,s){const c={};s[0]&2&&(c.tarif=l[1]),r.$set(c)},i(l){n||(se(r.$$.fragment,l),n=!0)},o(l){he(r.$$.fragment,l),n=!1},d(l){ct(r,l)}}}function Ag(u){let r,n,l,s,c,f,a,p,d,g=u[10].text.msg+"",b,m,w,P,L=u[10].text.name+"",U,z,Z,q,B,J,R,$,j,re,Ae,Ge,Oe,we,le,K,ye,Ce,Te,Ke,gt,ke,qe,ie,ve;const Be=[u[10].video];let Y={};for(let G=0;G<Be.length;G+=1)Y=Wr(Y,Be[G]);l=new sg({props:Y});function et(G){u[17](G)}let _t={OnLongPress:Tg,$$slots:{default:[bg]},$$scope:{ctx:u}};u[2]!==void 0&&(_t.status=u[2]),c=new Gp({props:_t}),Ze.push(()=>Tt(c,"status",et)),c.$on("click",u[15]);const yt=[u[9].video];let En={$$slots:{footer:[wg]},$$scope:{ctx:u}};for(let G=0;G<yt.length;G+=1)En=Wr(En,yt[G]);q=new rg({props:En});let Ue=u[5]&&Fo(u);const Ut=[u[9].audio];function An(G){u[19](G)}let rt={};for(let G=0;G<Ut.length;G+=1)rt=Wr(rt,Ut[G]);u[9].audio.paused!==void 0&&(rt.paused=u[9].audio.paused),$=new cg({props:rt}),Ze.push(()=>Tt($,"paused",An));const mt=[u[10].audio];function gn(G){u[20](G)}let it={};for(let G=0;G<mt.length;G+=1)it=Wr(it,mt[G]);u[10].audio.srcObject!==void 0&&(it.srcObject=u[10].audio.srcObject),Ae=new pg({props:it}),Ze.push(()=>Tt(Ae,"srcObject",gn)),we=new mg({}),K=new og({}),Ce=new $p({props:{padding:"25px",$$slots:{default:[Cg]},$$scope:{ctx:u}}});const _n=[Eg,Og],Nt=[];function Pt(G,ce){return(!G[1]||G[1].name==="free")&&!G[0].abonent?0:1}return ke=Pt(u),qe=Nt[ke]=_n[ke](u),{c(){r=W("div"),n=W("div"),ot(l.$$.fragment),s=ee(),ot(c.$$.fragment),a=ee(),p=W("div"),d=W("p"),b=_e(g),m=ee(),w=W("br"),P=ee(),U=_e(L),z=ee(),Z=W("div"),ot(q.$$.fragment),B=ee(),Ue&&Ue.c(),J=ee(),R=W("div"),ot($.$$.fragment),re=ee(),ot(Ae.$$.fragment),Oe=ee(),ot(we.$$.fragment),le=ee(),ot(K.$$.fragment),ye=ee(),ot(Ce.$$.fragment),Te=ee(),Ke=W("progress"),gt=ee(),qe.c(),ie=lt(),this.h()},l(G){r=H(G,"DIV",{style:!0});var ce=N(r);n=H(ce,"DIV",{style:!0});var St=N(n);ft(l.$$.fragment,St),s=te(St),ft(c.$$.fragment,St),a=te(St),p=H(St,"DIV",{style:!0});var Ct=N(p);d=H(Ct,"P",{style:!0});var Qe=N(d);b=me(Qe,g),m=te(Qe),w=H(Qe,"BR",{}),P=te(Qe),U=me(Qe,L),Qe.forEach(E),Ct.forEach(E),St.forEach(E),z=te(ce),Z=H(ce,"DIV",{style:!0});var Lt=N(Z);ft(q.$$.fragment,Lt),B=te(Lt),Ue&&Ue.l(Lt),Lt.forEach(E),J=te(ce),R=H(ce,"DIV",{style:!0});var xe=N(R);ft($.$$.fragment,xe),re=te(xe),ft(Ae.$$.fragment,xe),Oe=te(xe),ft(we.$$.fragment,xe),le=te(xe),ft(K.$$.fragment,xe),xe.forEach(E),ye=te(ce),ft(Ce.$$.fragment,ce),ce.forEach(E),Te=te(G),Ke=H(G,"PROGRESS",{id:!0,max:!0,duration:!0,style:!0}),N(Ke).forEach(E),gt=te(G),qe.l(G),ie=lt(),this.h()},h(){T(d,"font-size",".7em"),T(d,"white-space","nowrap"),T(d,"color","white"),T(d,"margin","auto"),T(d,"text-align","center"),T(p,"display",u[10].text.display),T(p,"position","absolute"),T(p,"z-index","10"),T(p,"background-color","rgba(125, 125, 125, 0.8)"),T(p,"top","90px"),T(p,"left","2px"),T(n,"flex","1"),T(Z,"position","absolute"),T(Z,"flex","1 1 0%"),T(R,"flex","3"),T(r,"display","flex"),T(r,"min-height","120px"),T(r,"flex-wrap","nowrap"),T(r,"justify-content","space-between"),C(Ke,"id","dataProgress"),Ke.value=u[13].value,C(Ke,"max","100"),C(Ke,"duration","200"),T(Ke,"display",u[13].display),T(Ke,"top","100px"),T(Ke,"width","98%"),T(Ke,"z-index","10")},m(G,ce){Q(G,r,ce),I(r,n),at(l,n,null),I(n,s),at(c,n,null),I(n,a),I(n,p),I(p,d),I(d,b),I(d,m),I(d,w),I(d,P),I(d,U),I(r,z),I(r,Z),at(q,Z,null),I(Z,B),Ue&&Ue.m(Z,null),I(r,J),I(r,R),at($,R,null),I(R,re),at(Ae,R,null),I(R,Oe),at(we,R,null),I(R,le),at(K,R,null),I(r,ye),at(Ce,r,null),Q(G,Te,ce),Q(G,Ke,ce),Q(G,gt,ce),Nt[ke].m(G,ce),Q(G,ie,ce),ve=!0},p(G,ce){const St=ce[0]&1024?Hr(Be,[zr(G[10].video)]):{};l.$set(St);const Ct={};ce[1]&524288&&(Ct.$$scope={dirty:ce,ctx:G}),!f&&ce[0]&4&&(f=!0,Ct.status=G[2],At(()=>f=!1)),c.$set(Ct),(!ve||ce[0]&1024)&&g!==(g=G[10].text.msg+"")&&Fe(b,g),(!ve||ce[0]&1024)&&L!==(L=G[10].text.name+"")&&Fe(U,L),(!ve||ce[0]&1024)&&T(p,"display",G[10].text.display);const Qe=ce[0]&512?Hr(yt,[zr(G[9].video)]):{};ce[0]&256|ce[1]&524288&&(Qe.$$scope={dirty:ce,ctx:G}),q.$set(Qe),G[5]?Ue?Ue.p(G,ce):(Ue=Fo(G),Ue.c(),Ue.m(Z,null)):Ue&&(Ue.d(1),Ue=null);const Lt=ce[0]&512?Hr(Ut,[zr(G[9].audio)]):{};!j&&ce[0]&512&&(j=!0,Lt.paused=G[9].audio.paused,At(()=>j=!1)),$.$set(Lt);const xe=ce[0]&1024?Hr(mt,[zr(G[10].audio)]):{};!Ge&&ce[0]&1024&&(Ge=!0,xe.srcObject=G[10].audio.srcObject,At(()=>Ge=!1)),Ae.$set(xe);const qt={};ce[0]&209|ce[1]&524288&&(qt.$$scope={dirty:ce,ctx:G}),Ce.$set(qt);let Wt=ke;ke=Pt(G),ke===Wt?Nt[ke].p(G,ce):(Sn(),he(Nt[Wt],1,1,()=>{Nt[Wt]=null}),Cn(),qe=Nt[ke],qe?qe.p(G,ce):(qe=Nt[ke]=_n[ke](G),qe.c()),se(qe,1),qe.m(ie.parentNode,ie))},i(G){ve||(se(l.$$.fragment,G),se(c.$$.fragment,G),se(q.$$.fragment,G),se($.$$.fragment,G),se(Ae.$$.fragment,G),se(we.$$.fragment,G),se(K.$$.fragment,G),se(Ce.$$.fragment,G),se(qe),ve=!0)},o(G){he(l.$$.fragment,G),he(c.$$.fragment,G),he(q.$$.fragment,G),he($.$$.fragment,G),he(Ae.$$.fragment,G),he(we.$$.fragment,G),he(K.$$.fragment,G),he(Ce.$$.fragment,G),he(qe),ve=!1},d(G){G&&(E(r),E(Te),E(Ke),E(gt),E(ie)),ct(l),ct(c),ct(q),Ue&&Ue.d(),ct($),ct(Ae),ct(we),ct(K),ct(Ce),Nt[ke].d(G)}}}function Tg(){select.display=!0}function Ig(u,r,n){let l,s;Kt(u,Nn,Y=>n(38,l=Y)),Kt(u,bi,Y=>n(39,s=Y));let c,f=globalThis,a=s,{tarif:p}=r;p&&p.paid&&new Date(p.paid)>Date.now();let d,g,b,m=!1,w=!1;_i.subscribe(Y=>{n(6,w=Y)});let{operator:P={}}=r;P.lang=l;let L=l;Fl.subscribe(Y=>{console.log(),Y&&Ge(Y)}),qo.subscribe(Y=>{Y&&Ge(Y)});let U,z={},Z=P.psw;y0.set(Z),Wn(async()=>{new URL(f.location.href),z=await(await fetch("https://nedol.ru/kolmit/host.json")).json(),new vg(z),Ho.subscribe(Y=>{U&&Y&&U.appendChild(Y)})});const q=vi.subscribe(Y=>{Y&&(n(4,f.rtc=new Hp("operator",P,Y),f),j())});mi(q);let B={display:"block",value:0},J={video:{display:"none",srcObject:"",poster:""},audio:{paused:!0,src:""}},R={text:{display:"none",msg:"You have a call from:",name:"",email:""},video:{display:"none",srcObject:"",poster:""},audio:{muted:!0,srcObject:""}};ep("operator",{getOperator:()=>this});function $(Y){Nn.set(Y.target.attributes[2].nodeValue);let et=JSON.parse(gi(document.cookie).kolmit);et.lang=Y.target.attributes[2].nodeValue,document.cookie="kolmit="+JSON.stringify({session:et.session,email:et.email,abonent:et.abonent,psw:et.psw,lang:Y.target.attributes[2].nodeValue})}async function j(){n(4,f.rtc.PlayCallCnt=()=>{d=10,n(9,J.audio.paused=!1,J),b=setInterval(function(){d--,d===0&&(clearInterval(b),n(9,J.audio.paused=!0,J))},2e3)},f),n(4,f.rtc.GetRemoteAudio=()=>R.audio.srcObject,f),n(4,f.rtc.SetRemoteAudio=Y=>{Y&&n(10,R.audio.srcObject=Y,R)},f),n(4,f.rtc.GetRemoteVideo=()=>R.video.srcObject,f),n(4,f.rtc.SetLocalVideo=Y=>{Y&&n(9,J.video.srcObject=Y,J)},f),n(4,f.rtc.SetRemoteVideo=Y=>{g==="talk"&&(n(10,R.video.poster="",R),n(10,R.video.srcObject=Y,R),n(10,R.video.display="block",R),n(9,J.audio.paused=!0,J))},f)}function re(){try{if(!f.AudioContext){n(4,f.AudioContext=f.AudioContext||f.webkitAudioContext,f);let Y=new AudioContext;n(4,f.rtc.localSoundSrc=Y.createMediaElementSource(f.user.localSound),f),f.rtc.localSoundSrc.connect(Y.destination)}}catch{log("Web Audio API is not supported in this browser")}switch(console.log(),g){case"inactive":f.rtc.Offer(),n(2,g="active");break;case"active":n(2,g="inactive"),f.rtc.OnInactive();break;case"call":n(2,g="talk"),clearInterval(b),n(9,J.audio.paused=!0,J),n(10,R.audio.muted=!1,R),f.rtc.OnTalk(),n(5,m=!0),n(10,R.text.display="block",R);const Y=new Event("talk");document.getElementsByTagName("body")[0].dispatchEvent(Y);break;case"talk":f.rtc.OnInactive(),n(10,R.audio.muted=!0,R),n(9,J.video.display="none",J),n(5,m=!1),n(10,R.video.display="none",R),n(10,R.video.srcObject="",R),n(10,R.video.poster="",R),n(10,R.text.display="none",R),n(10,R.text.name="",R),n(10,R.text.email="",R),n(2,g="inactive");break;case"muted":n(2,g="inactive"),n(9,J.video.srcObject="",J),n(10,R.audio.muted=!0,R),n(10,R.video.display="none",R),n(10,R.video.srcObject="",R),n(10,R.video.poster="",R),n(10,R.text.display="none",R),f.rtc.OnInactive();break;default:return}}function Ae(){n(2,g="talk"),n(9,J.audio.paused=!0,J),n(9,J.video.display="block",J),f.rtc.DC.dc.readyState==="open"&&f.rtc.GetUserMedia({audio:1,video:1},function(){f.rtc.SendVideoOffer(f.rtc.main_pc)})}function Ge(Y,et){if(Y.func==="mute"&&(n(9,J.audio.paused=!0,J),n(10,R.audio.muted=!0,R),n(5,m=!1),n(9,J.video.display="none",J),n(9,J.video.srcObject="",J),n(10,R.video.srcObject="",R),n(10,R.video.poster="",R),n(10,R.video.display="none",R),n(10,R.text.name="",R),n(10,R.text.email="",R),n(10,R.text.display="none",R),f.rtc.OnInactive(),g==="talk"?n(2,g="inactive"):g==="call"&&(n(2,g="inactive"),f.rtc.OnMute(),re()),et&&et()),(Y.call||Y.func==="call")&&(n(2,g="call"),f.rtc.OnCall(),n(10,R.text.display="block",R),Y.profile)){let _t=JSON.parse(Y.profile),yt=_t.src;n(10,R.video.poster=yt,R),yt&&n(10,R.video.display="block",R),n(10,R.text.name=_t.name,R),n(10,R.text.email=_t.email,R)}Y.desc,Y.camera&&n(9,J.video.src=that.localStream,J),Y.status==="wait"&&(n(10,R.text.display="block",R),n(10,R.text.msg="You have a waiting call",R))}const Oe=[[]];function we(Y){g=Y,n(2,g)}function le(Y){Ze[Y?"unshift":"push"](()=>{U=Y,n(8,U)})}function K(Y){u.$$.not_equal(J.audio.paused,Y)&&(J.audio.paused=Y,n(9,J))}function ye(Y){u.$$.not_equal(R.audio.srcObject,Y)&&(R.audio.srcObject=Y,n(10,R))}function Ce(){L=this.__value,n(7,L)}function Te(){L=this.__value,n(7,L)}function Ke(){L=this.__value,n(7,L)}const gt=()=>_i.set(!0),ke=()=>_i.set(!1),qe=()=>{n(4,f.location="/",f)};function ie(Y){Ze[Y?"unshift":"push"](()=>{c=Y,n(3,c)})}function ve(Y){g=Y,n(2,g)}function Be(Y){P=Y,n(0,P)}return u.$$set=Y=>{"tarif"in Y&&n(1,p=Y.tarif),"operator"in Y&&n(0,P=Y.operator)},u.$$.update=()=>{u.$$.dirty[0]&4&&S0.set(g)},[P,p,g,c,f,m,w,L,U,J,R,a,Z,B,$,re,Ae,we,le,K,ye,Ce,Oe,Te,Ke,gt,ke,qe,ie,ve,Be]}class Rg extends dt{constructor(r){super(),pt(this,r,Ig,Ag,ht,{tarif:1,operator:0},null,[-1,-1])}}function Wo(u){let r,n,l;return n=new Rg({props:{operator:u[0],tarif:kg,data_dict:u[2]}}),{c(){r=W("div"),ot(n.$$.fragment)},l(s){r=H(s,"DIV",{});var c=N(r);ft(n.$$.fragment,c),c.forEach(E)},m(s,c){Q(s,r,c),at(n,r,null),l=!0},p(s,c){const f={};c&1&&(f.operator=s[0]),n.$set(f)},i(s){l||(se(n.$$.fragment,s),l=!0)},o(s){he(n.$$.fragment,s),l=!1},d(s){s&&E(r),ct(n)}}}function Dg(u){let r,n,l=u[1].length>0&&Wo(u);return{c(){r=W("div"),l&&l.c()},l(s){r=H(s,"DIV",{});var c=N(r);l&&l.l(c),c.forEach(E)},m(s,c){Q(s,r,c),l&&l.m(r,null),n=!0},p(s,[c]){s[1].length>0?l?(l.p(s,c),c&2&&se(l,1)):(l=Wo(s),l.c(),se(l,1),l.m(r,null)):l&&(Sn(),he(l,1,1,()=>{l=null}),Cn())},i(s){n||(se(l),n=!0)},o(s){he(l),n=!1},d(s){s&&E(r),l&&l.d()}}}let kg="";function Pg(u,r,n){let l;Kt(u,np,d=>n(5,l=d));let{data:s}=r,c=s.dict;bi.set(c);let f={},a=[];f.abonent=l.url.searchParams.get("abonent"),f.email=l.url.searchParams.get("operator"),f.psw=l.url.searchParams.get("psw")?Bl(l.url.searchParams.get("psw")):"",f.lang=l.url.searchParams.get("lang"),Nn.set(f.lang),Wn(async()=>{if(document.cookie)if(gi(document.cookie)[f.abonent]){const d=JSON.parse(gi(document.cookie)[f.abonent]);n(0,f.psw=d.psw,f),n(0,f.lang=d.lang,f)}else{const d=Object.keys(gi(document.cookie)),g=JSON.parse(gi(document.cookie)[d[0]]);n(0,f.psw=g.psw,f),n(0,f.lang=g.lang,f),document.cookie=f.abonent+"="+JSON.stringify(f)}f.psw||(n(0,f.psw=Bl(prompt("Введите пароль")),f),n(0,f.lang="en",f)),p()});async function p(){let d={};d.proj="kolmit",d.func="getusers",d.abonent=f.abonent,d.em=f.email,d.psw=f.psw,fetch("/api/edit_cc/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({par:d})}).then(async g=>{const m=await(await g).json();console.log("data"),zo.set(m.rows.users),n(1,a=m.rows.users)})}return u.$$set=d=>{"data"in d&&n(3,s=d.data)},[f,a,c,s,p]}class Ng extends dt{constructor(r){super(),pt(this,r,Pg,Dg,ht,{data:3,GetUsers:4})}get GetUsers(){return this.$$.ctx[4]}}export{Ng as component};
