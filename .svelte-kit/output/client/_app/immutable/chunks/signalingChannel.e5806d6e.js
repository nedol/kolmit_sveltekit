import{r as Yt,s as Ge,A as Et,n as Oe,o as Ut,f as De,a as Kn,u as Yn,g as Zn,b as Xn,c as We,B as C1,l as Cr,C as $l,h as ht,d as zn,D as mr,E as Eu,e as S1}from"./scheduler.09e37659.js";import{l as oe,m as ue,S as je,i as Je,e as W,t as Ve,s as te,c as x,a as J,b as qe,d as S,f as ne,k as w,x as O,g as V,h as D,D as ce,j as Rt,n as Be,A as mt,E as st,B as ze,C as Me,q as dt,r as Ye,u as Ze,v as Xe,p as Jt,o as Kt,w as Qe,F as Qn,G as M0,H as k1,I as E1,J as O1}from"./index.0089bb03.js";import{w as ro}from"./paths.83b4f003.js";import{p as eo,m as yr,a as Li,u as Bi,l as kn,e as Ur,d as Ou,b as Di,s as Iu,c as Nr,v as I1}from"./stores.b08845f0.js";function yt(s){return(s==null?void 0:s.length)!==void 0?s:Array.from(s)}function T1(s,r){s.d(1),r.delete(s.key)}function A1(s,r){ue(s,1,1,()=>{r.delete(s.key)})}function Tu(s,r,t,i,o,a,u,f,c,d,g,p){let _=s.length,b=a.length,P=_;const k={};for(;P--;)k[s[P].key]=P;const R=[],T=new Map,F=new Map,K=[];for(P=b;P--;){const M=p(o,a,P),B=t(M);let ee=u.get(B);ee?i&&K.push(()=>ee.p(M,r)):(ee=d(B,M),ee.c()),T.set(B,R[P]=ee),B in k&&F.set(B,Math.abs(P-k[B]))}const L=new Set,Y=new Set;function N(M){oe(M,1),M.m(f,g),u.set(M.key,M),g=M.first,b--}for(;_&&b;){const M=R[b-1],B=s[_-1],ee=M.key,Z=B.key;M===B?(g=M.first,_--,b--):T.has(Z)?!u.has(ee)||L.has(ee)?N(M):Y.has(Z)?_--:F.get(ee)>F.get(Z)?(Y.add(ee),N(M)):(L.add(Z),_--):(c(B,u),_--)}for(;_--;){const M=s[_];T.has(M.key)||c(M,u)}for(;b;)N(R[b-1]);return Yt(K),R}function vr(s,r){const t={},i={},o={$$scope:1};let a=s.length;for(;a--;){const u=s[a],f=r[a];if(f){for(const c in u)c in f||(i[c]=1);for(const c in f)o[c]||(t[c]=f[c],o[c]=1);s[a]=f}else for(const c in u)o[c]=1}for(const u in i)u in t||(t[u]=void 0);return t}function br(s){return typeof s=="object"&&s!==null?s:{}}function F0(s,r,t){const i=s.slice();return i[8]=r[t],i}function U0(s){let r=[],t=new Map,i,o=yt(s[0]);const a=u=>u[8].id;for(let u=0;u<o.length;u+=1){let f=F0(s,o,u),c=a(f);t.set(c,r[u]=N0(c,f))}return{c(){for(let u=0;u<r.length;u+=1)r[u].c();i=Be()},l(u){for(let f=0;f<r.length;f+=1)r[f].l(u);i=Be()},m(u,f){for(let c=0;c<r.length;c+=1)r[c]&&r[c].m(u,f);V(u,i,f)},p(u,f){f&17&&(o=yt(u[0]),r=Tu(r,f,a,1,u,o,t,i.parentNode,T1,N0,i,F0))},d(u){u&&S(i);for(let f=0;f<r.length;f+=1)r[f].d(u)}}}function N0(s,r){let t,i,o,a=r[8].alt+"",u,f,c,d,g;return{key:s,first:null,c(){t=W("span"),i=W("img"),u=Ve(a),f=te(),this.h()},l(p){t=x(p,"SPAN",{class:!0,value:!0});var _=J(t);i=x(_,"IMG",{src:!0,alt:!0,class:!0}),u=qe(_,a),f=ne(_),_.forEach(S),this.h()},h(){Et(i.src,o=r[8].src)||w(i,"src",o),w(i,"alt",""),w(i,"class","svelte-1k0fuvd"),w(t,"class","lang svelte-1k0fuvd"),w(t,"value",c=r[8].id),this.first=t},m(p,_){V(p,t,_),D(t,i),D(t,u),D(t,f),d||(g=ce(t,"click",r[4]),d=!0)},p(p,_){r=p,_&1&&!Et(i.src,o=r[8].src)&&w(i,"src",o),_&1&&a!==(a=r[8].alt+"")&&Rt(u,a),_&1&&c!==(c=r[8].id)&&w(t,"value",c)},d(p){p&&S(t),d=!1,g()}}}function D1(s){let r,t,i,o,a=s[2].alt+"",u,f,c,d,g,p=s[0]&&U0(s);return{c(){r=W("button"),t=W("div"),i=W("img"),u=Ve(a),f=te(),c=W("div"),p&&p.c(),this.h()},l(_){r=x(_,"BUTTON",{class:!0});var b=J(r);t=x(b,"DIV",{style:!0});var P=J(t);i=x(P,"IMG",{src:!0,alt:!0,class:!0}),u=qe(P,a),P.forEach(S),f=ne(b),c=x(b,"DIV",{class:!0});var k=J(c);p&&p.l(k),k.forEach(S),b.forEach(S),this.h()},h(){Et(i.src,o=s[2].src)||w(i,"src",o),w(i,"alt",""),w(i,"class","svelte-1k0fuvd"),O(t,"padding","10px"),w(c,"class","content svelte-1k0fuvd"),w(r,"class","button collapsible svelte-1k0fuvd")},m(_,b){V(_,r,b),D(r,t),D(t,i),D(t,u),D(r,f),D(r,c),p&&p.m(c,null),s[6](c),d||(g=ce(r,"click",s[3]),d=!0)},p(_,[b]){b&4&&!Et(i.src,o=_[2].src)&&w(i,"src",o),b&4&&a!==(a=_[2].alt+"")&&Rt(u,a),_[0]?p?p.p(_,b):(p=U0(_),p.c(),p.m(c,null)):p&&(p.d(1),p=null)},i:Oe,o:Oe,d(_){_&&S(r),p&&p.d(),s[6](null),d=!1,g()}}}function R1(s,r,t){let i,o,a="",{lang:u="en"}=r;i=[{id:0,lang:"en",src:"https://www.sic-info.org/wp-content/uploads/2014/01/gb.png",alt:"English"},{id:1,lang:"en",src:"https://www.sic-info.org/wp-content/uploads/2014/01/nl.png",alt:"Nederlands"},{id:2,lang:"fr",src:"https://www.worldometers.info/img/flags/fr-flag.gif",alt:"Français"},{id:3,lang:"de",src:"https://www.worldometers.info/img/flags/gm-flag.gif",alt:"Deutch"},{id:4,lang:"uk",src:"https://www.worldometers.info/img/flags/up-flag.gif",alt:"Український"},{id:5,lang:"ru",src:"https://www.worldometers.info/img/flags/ru-flag.gif",alt:"Русский"}];let f={id:0,src:"https://www.sic-info.org/wp-content/uploads/2014/01/gb.png",alt:"English"};Ut(()=>{a=JSON.parse(localStorage.getItem("kolmi")),a&&t(5,u=kolmi.lang)});function c(p){o.style.maxHeight?t(1,o.style.maxHeight=null,o):t(1,o.style.maxHeight=o.scrollHeight+"px",o)}function d(p){t(2,f=i[p.currentTarget.attributes.value.value]),t(5,u=f.lang),c()}function g(p){De[p?"unshift":"push"](()=>{o=p,t(1,o)})}return s.$$set=p=>{"lang"in p&&t(5,u=p.lang)},[i,o,f,c,d,u,g]}class P1 extends je{constructor(r){super(),Je(this,r,R1,D1,Ge,{lang:5})}}var _r=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function io(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Au={exports:{}};(function(s){(function(r){var t=r.URL||r.webkitURL;function i(d){return t?t.createObjectURL(d):!1}function o(d){return t?t.revokeObjectURL(d):!1}function a(d,g){d&&d.slice(0,5)==="blob:"&&!(g&&g.noRevoke)&&o(d)}function u(d,g,p,_){if(!r.FileReader)return!1;var b=new FileReader;b.onload=function(){g.call(b,this.result)},p&&(b.onabort=b.onerror=function(){p.call(b,this.error)});var P=b[_||"readAsDataURL"];if(P)return P.call(b,d),b}function f(d,g){return Object.prototype.toString.call(g)==="[object "+d+"]"}function c(d,g,p){function _(b,P){var k=document.createElement("img"),R;function T(K,L){if(b===P){b&&b(K,L);return}else if(K instanceof Error){P(K);return}L=L||{},L.image=K,b(L)}function F(K,L){L&&r.console&&console.log(L),K&&f("Blob",K)?(d=K,R=i(d)):(R=d,p&&p.crossOrigin&&(k.crossOrigin=p.crossOrigin)),k.src=R}if(k.onerror=function(K){a(R,p),P&&P.call(k,K)},k.onload=function(){a(R,p);var K={originalWidth:k.naturalWidth||k.width,originalHeight:k.naturalHeight||k.height};try{c.transform(k,p,T,d,K)}catch(L){P&&P(L)}},typeof d=="string")return c.requiresMetaData(p)?c.fetchBlob(d,F,p):F(),k;if(f("Blob",d)||f("File",d))return R=i(d),R?(k.src=R,k):u(d,function(K){k.src=K},P)}return r.Promise&&typeof g!="function"?(p=g,new Promise(_)):_(g,g)}c.requiresMetaData=function(d){return d&&d.meta},c.fetchBlob=function(d,g){g()},c.transform=function(d,g,p,_,b){p(d,b)},c.global=r,c.readFile=u,c.isInstanceOf=f,c.createObjectURL=i,c.revokeObjectURL=o,s.exports?s.exports=c:r.loadImage=c})(typeof window<"u"&&window||_r)})(Au);var Du=Au.exports;const lo=io(Du);var L1={exports:{}};(function(s){(function(r){s.exports?r(Du):r(window.loadImage)})(function(r){var t=r.transform;r.createCanvas=function(i,o,a){if(a&&r.global.OffscreenCanvas)return new OffscreenCanvas(i,o);var u=document.createElement("canvas");return u.width=i,u.height=o,u},r.transform=function(i,o,a,u,f){t.call(r,r.scale(i,o,f),o,a,u,f)},r.transformCoordinates=function(){},r.getTransformedOptions=function(i,o){var a=o.aspectRatio,u,f,c,d;if(!a)return o;u={};for(f in o)Object.prototype.hasOwnProperty.call(o,f)&&(u[f]=o[f]);return u.crop=!0,c=i.naturalWidth||i.width,d=i.naturalHeight||i.height,c/d>a?(u.maxWidth=d*a,u.maxHeight=d):(u.maxWidth=c,u.maxHeight=c/a),u},r.drawImage=function(i,o,a,u,f,c,d,g,p){var _=o.getContext("2d");return p.imageSmoothingEnabled===!1?(_.msImageSmoothingEnabled=!1,_.imageSmoothingEnabled=!1):p.imageSmoothingQuality&&(_.imageSmoothingQuality=p.imageSmoothingQuality),_.drawImage(i,a,u,f,c,0,0,d,g),_},r.requiresCanvas=function(i){return i.canvas||i.crop||!!i.aspectRatio},r.scale=function(i,o,a){o=o||{},a=a||{};var u=i.getContext||r.requiresCanvas(o)&&!!r.global.HTMLCanvasElement,f=i.naturalWidth||i.width,c=i.naturalHeight||i.height,d=f,g=c,p,_,b,P,k,R,T,F,K,L,Y,N;function M(){var ee=Math.max((b||d)/d,(P||g)/g);ee>1&&(d*=ee,g*=ee)}function B(){var ee=Math.min((p||d)/d,(_||g)/g);ee<1&&(d*=ee,g*=ee)}if(u&&(o=r.getTransformedOptions(i,o,a),T=o.left||0,F=o.top||0,o.sourceWidth?(k=o.sourceWidth,o.right!==void 0&&o.left===void 0&&(T=f-k-o.right)):k=f-T-(o.right||0),o.sourceHeight?(R=o.sourceHeight,o.bottom!==void 0&&o.top===void 0&&(F=c-R-o.bottom)):R=c-F-(o.bottom||0),d=k,g=R),p=o.maxWidth,_=o.maxHeight,b=o.minWidth,P=o.minHeight,u&&p&&_&&o.crop?(d=p,g=_,Y=k/R-p/_,Y<0?(R=_*k/p,o.top===void 0&&o.bottom===void 0&&(F=(c-R)/2)):Y>0&&(k=p*R/_,o.left===void 0&&o.right===void 0&&(T=(f-k)/2))):((o.contain||o.cover)&&(b=p=p||b,P=_=_||P),o.cover?(B(),M()):(M(),B())),u){if(K=o.pixelRatio,K>1&&!(i.style.width&&Math.floor(parseFloat(i.style.width,10))===Math.floor(f/K))&&(d*=K,g*=K),r.orientationCropBug&&!i.getContext&&(T||F||k!==f||R!==c)&&(Y=i,i=r.createCanvas(f,c,!0),r.drawImage(Y,i,0,0,f,c,f,c,o)),L=o.downsamplingRatio,L>0&&L<1&&d<k&&g<R)for(;k*L>d;)N=r.createCanvas(k*L,R*L,!0),r.drawImage(i,N,T,F,k,R,N.width,N.height,o),T=0,F=0,k=N.width,R=N.height,i=N;return N=r.createCanvas(d,g),r.transformCoordinates(N,o,a),K>1&&(N.style.width=N.width/K+"px"),r.drawImage(i,N,T,F,k,R,d,g,o).setTransform(1,0,0,1,0,0),N}return i.width=d,i.height=g,i}})})(L1);const B1=s=>({}),W0=s=>({});function z1(s){let r,t,i;const o=s[4].footer,a=Kn(o,s,s[3],W0);return{c(){r=W("video"),t=te(),a&&a.c(),this.h()},l(u){r=x(u,"VIDEO",{poster:!0,style:!0}),J(r).forEach(S),t=ne(u),a&&a.l(u),this.h()},h(){w(r,"poster",s[1]),r.autoplay=!0,r.playsInline=!0,r.muted=!0,O(r,"display",M1),O(r,"position","absolute"),O(r,"top","-15px"),O(r,"width","100px"),O(r,"height","100px"),O(r,"z-index","20")},m(u,f){V(u,r,f),s[5](r),V(u,t,f),a&&a.m(u,f),i=!0},p(u,[f]){(!i||f&2)&&w(r,"poster",u[1]),a&&a.p&&(!i||f&8)&&Yn(a,o,u,u[3],i?Xn(o,u[3],f,B1):Zn(u[3]),W0)},i(u){i||(oe(a,u),i=!0)},o(u){ue(a,u),i=!1},d(u){u&&(S(r),S(t)),s[5](null),a&&a.d(u)}}}let M1="block";function F1(s,r,t){let i;We(s,eo,d=>t(1,i=d));let{$$slots:o={},$$scope:a}=r,{srcObject:u=""}=r,f;Ut(async()=>{});function c(d){De[d?"unshift":"push"](()=>{f=d,t(0,f),t(2,u)})}return s.$$set=d=>{"srcObject"in d&&t(2,u=d.srcObject),"$$scope"in d&&t(3,a=d.$$scope)},s.$$.update=()=>{s.$$.dirty&2,s.$$.dirty&5&&(f&&u?t(0,f.srcObject=u,f):f&&f.srcObject&&(f.srcObject.getVideoTracks().forEach(d=>{d.stop(),f.srcObject.removeTrack(d)}),t(0,f.src="",f)))},[f,i,u,a,o,c]}class U1 extends je{constructor(r){super(),Je(this,r,F1,z1,Ge,{srcObject:2})}}var Ru={exports:{}},Pu={exports:{}};(function(){var s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r={rotl:function(t,i){return t<<i|t>>>32-i},rotr:function(t,i){return t<<32-i|t>>>i},endian:function(t){if(t.constructor==Number)return r.rotl(t,8)&16711935|r.rotl(t,24)&4278255360;for(var i=0;i<t.length;i++)t[i]=r.endian(t[i]);return t},randomBytes:function(t){for(var i=[];t>0;t--)i.push(Math.floor(Math.random()*256));return i},bytesToWords:function(t){for(var i=[],o=0,a=0;o<t.length;o++,a+=8)i[a>>>5]|=t[o]<<24-a%32;return i},wordsToBytes:function(t){for(var i=[],o=0;o<t.length*32;o+=8)i.push(t[o>>>5]>>>24-o%32&255);return i},bytesToHex:function(t){for(var i=[],o=0;o<t.length;o++)i.push((t[o]>>>4).toString(16)),i.push((t[o]&15).toString(16));return i.join("")},hexToBytes:function(t){for(var i=[],o=0;o<t.length;o+=2)i.push(parseInt(t.substr(o,2),16));return i},bytesToBase64:function(t){for(var i=[],o=0;o<t.length;o+=3)for(var a=t[o]<<16|t[o+1]<<8|t[o+2],u=0;u<4;u++)o*8+u*6<=t.length*8?i.push(s.charAt(a>>>6*(3-u)&63)):i.push("=");return i.join("")},base64ToBytes:function(t){t=t.replace(/[^A-Z0-9+\/]/ig,"");for(var i=[],o=0,a=0;o<t.length;a=++o%4)a!=0&&i.push((s.indexOf(t.charAt(o-1))&Math.pow(2,-2*a+8)-1)<<a*2|s.indexOf(t.charAt(o))>>>6-a*2);return i}};Pu.exports=r})();var N1=Pu.exports,to={utf8:{stringToBytes:function(s){return to.bin.stringToBytes(unescape(encodeURIComponent(s)))},bytesToString:function(s){return decodeURIComponent(escape(to.bin.bytesToString(s)))}},bin:{stringToBytes:function(s){for(var r=[],t=0;t<s.length;t++)r.push(s.charCodeAt(t)&255);return r},bytesToString:function(s){for(var r=[],t=0;t<s.length;t++)r.push(String.fromCharCode(s[t]));return r.join("")}}},x0=to;/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var W1=function(s){return s!=null&&(Lu(s)||x1(s)||!!s._isBuffer)};function Lu(s){return!!s.constructor&&typeof s.constructor.isBuffer=="function"&&s.constructor.isBuffer(s)}function x1(s){return typeof s.readFloatLE=="function"&&typeof s.slice=="function"&&Lu(s.slice(0,0))}(function(){var s=N1,r=x0.utf8,t=W1,i=x0.bin,o=function(a,u){a.constructor==String?u&&u.encoding==="binary"?a=i.stringToBytes(a):a=r.stringToBytes(a):t(a)?a=Array.prototype.slice.call(a,0):!Array.isArray(a)&&a.constructor!==Uint8Array&&(a=a.toString());for(var f=s.bytesToWords(a),c=a.length*8,d=1732584193,g=-271733879,p=-1732584194,_=271733878,b=0;b<f.length;b++)f[b]=(f[b]<<8|f[b]>>>24)&16711935|(f[b]<<24|f[b]>>>8)&4278255360;f[c>>>5]|=128<<c%32,f[(c+64>>>9<<4)+14]=c;for(var P=o._ff,k=o._gg,R=o._hh,T=o._ii,b=0;b<f.length;b+=16){var F=d,K=g,L=p,Y=_;d=P(d,g,p,_,f[b+0],7,-680876936),_=P(_,d,g,p,f[b+1],12,-389564586),p=P(p,_,d,g,f[b+2],17,606105819),g=P(g,p,_,d,f[b+3],22,-1044525330),d=P(d,g,p,_,f[b+4],7,-176418897),_=P(_,d,g,p,f[b+5],12,1200080426),p=P(p,_,d,g,f[b+6],17,-1473231341),g=P(g,p,_,d,f[b+7],22,-45705983),d=P(d,g,p,_,f[b+8],7,1770035416),_=P(_,d,g,p,f[b+9],12,-1958414417),p=P(p,_,d,g,f[b+10],17,-42063),g=P(g,p,_,d,f[b+11],22,-1990404162),d=P(d,g,p,_,f[b+12],7,1804603682),_=P(_,d,g,p,f[b+13],12,-40341101),p=P(p,_,d,g,f[b+14],17,-1502002290),g=P(g,p,_,d,f[b+15],22,1236535329),d=k(d,g,p,_,f[b+1],5,-165796510),_=k(_,d,g,p,f[b+6],9,-1069501632),p=k(p,_,d,g,f[b+11],14,643717713),g=k(g,p,_,d,f[b+0],20,-373897302),d=k(d,g,p,_,f[b+5],5,-701558691),_=k(_,d,g,p,f[b+10],9,38016083),p=k(p,_,d,g,f[b+15],14,-660478335),g=k(g,p,_,d,f[b+4],20,-405537848),d=k(d,g,p,_,f[b+9],5,568446438),_=k(_,d,g,p,f[b+14],9,-1019803690),p=k(p,_,d,g,f[b+3],14,-187363961),g=k(g,p,_,d,f[b+8],20,1163531501),d=k(d,g,p,_,f[b+13],5,-1444681467),_=k(_,d,g,p,f[b+2],9,-51403784),p=k(p,_,d,g,f[b+7],14,1735328473),g=k(g,p,_,d,f[b+12],20,-1926607734),d=R(d,g,p,_,f[b+5],4,-378558),_=R(_,d,g,p,f[b+8],11,-2022574463),p=R(p,_,d,g,f[b+11],16,1839030562),g=R(g,p,_,d,f[b+14],23,-35309556),d=R(d,g,p,_,f[b+1],4,-1530992060),_=R(_,d,g,p,f[b+4],11,1272893353),p=R(p,_,d,g,f[b+7],16,-155497632),g=R(g,p,_,d,f[b+10],23,-1094730640),d=R(d,g,p,_,f[b+13],4,681279174),_=R(_,d,g,p,f[b+0],11,-358537222),p=R(p,_,d,g,f[b+3],16,-722521979),g=R(g,p,_,d,f[b+6],23,76029189),d=R(d,g,p,_,f[b+9],4,-640364487),_=R(_,d,g,p,f[b+12],11,-421815835),p=R(p,_,d,g,f[b+15],16,530742520),g=R(g,p,_,d,f[b+2],23,-995338651),d=T(d,g,p,_,f[b+0],6,-198630844),_=T(_,d,g,p,f[b+7],10,1126891415),p=T(p,_,d,g,f[b+14],15,-1416354905),g=T(g,p,_,d,f[b+5],21,-57434055),d=T(d,g,p,_,f[b+12],6,1700485571),_=T(_,d,g,p,f[b+3],10,-1894986606),p=T(p,_,d,g,f[b+10],15,-1051523),g=T(g,p,_,d,f[b+1],21,-2054922799),d=T(d,g,p,_,f[b+8],6,1873313359),_=T(_,d,g,p,f[b+15],10,-30611744),p=T(p,_,d,g,f[b+6],15,-1560198380),g=T(g,p,_,d,f[b+13],21,1309151649),d=T(d,g,p,_,f[b+4],6,-145523070),_=T(_,d,g,p,f[b+11],10,-1120210379),p=T(p,_,d,g,f[b+2],15,718787259),g=T(g,p,_,d,f[b+9],21,-343485551),d=d+F>>>0,g=g+K>>>0,p=p+L>>>0,_=_+Y>>>0}return s.endian([d,g,p,_])};o._ff=function(a,u,f,c,d,g,p){var _=a+(u&f|~u&c)+(d>>>0)+p;return(_<<g|_>>>32-g)+u},o._gg=function(a,u,f,c,d,g,p){var _=a+(u&c|f&~c)+(d>>>0)+p;return(_<<g|_>>>32-g)+u},o._hh=function(a,u,f,c,d,g,p){var _=a+(u^f^c)+(d>>>0)+p;return(_<<g|_>>>32-g)+u},o._ii=function(a,u,f,c,d,g,p){var _=a+(f^(u|~c))+(d>>>0)+p;return(_<<g|_>>>32-g)+u},o._blocksize=16,o._digestsize=16,Ru.exports=function(a,u){if(a==null)throw new Error("Illegal argument "+a);var f=s.wordsToBytes(o(a,u));return u&&u.asBytes?f:u&&u.asString?i.bytesToString(f):s.bytesToHex(f)}})();var H1=Ru.exports;const wr=io(H1);let V1=class{constructor(r,t,i){this.con=new RTCPeerConnection(t),this.rtc=r,this.pc_key=i,this.params={}}SendDesc(r,t){let i=this,o={};o.proj="kolmit",o.func="call",o.abonent=i.rtc.abonent,o.type=this.rtc.type,o.em=this.rtc.em,o.uid=this.rtc.uid,o.desc=r,o.status="call",o.abonent=this.rtc.abonent,o.oper_uid=this.rtc.oper_uid,this.rtc.status="call",this.rtc.signal.SendMessage(o,function(){t()})}SendCand(r,t){let i={};i.proj="kolmit",i.func="call",i.type=this.rtc.type,i.uid=this.rtc.uid,i.em=this.rtc.em,i.cand=r,i.status="call",i.abonent=this.rtc.abonent,i.oper_uid=this.rtc.oper_uid,this.rtc.status="call",this.rtc.signal.SendMessage(i,function(){t()})}StartEvents(){let r=this;this.con.ontrack=function(t){r.pc_key!=="reserve"&&(r.rtc.GetRemoteAudio()!==t.streams[0]&&(r.rtc.remoteStream=t.streams[0],r.rtc.remoteStream.onaddtrack=function(i){console.log("addtrack in remote stream",r)}),r.rtc.remoteStream&&(t.track.kind==="audio"&&(r.rtc.SetRemoteAudio(null),r.rtc.SetRemoteAudio(r.rtc.remoteStream)),t.track.kind==="video"&&(r.rtc.SetRemoteVideo(null),r.rtc.SetRemoteVideo(r.rtc.remoteStream),r.rtc.DC.SendDCVideoOK(()=>{}))))},r.rtc.type==="user"&&(this.con.onicecandidate=t=>{let i=this;if(t.candidate)if(this.params.loc_cand||(this.params.loc_cand=[]),this.params.loc_cand.push(t.candidate),this.rtc.DC&&this.rtc.DC.dc.readyState==="open"){let o="";this.rtc.type&&this.rtc.type.offerToReceiveVideo===1&&(o={confirm:"Do you mind to turn on the cameras?"}),this.rtc.DC.SendDCCand(t.candidate,i.pc_key,o)}else this.SendCand(t.candidate,function(){})}),this.con.oniceconnectionstatechange=function(t){r.rtc.onIceStateChange(r,t)},this.con.onremovestream=function(t){},this.con.onsignalingstatechange=function(t){},this.con.onconnectionstatechange=function(t){console.log()}}onCreateAnswerSuccess(r){let t=this;console.log("Answer from pcPull 2:",this),console.log("setLocalDescription start",t),t.con.setLocalDescription(r).then(function(){t.params.loc_desc=t.con.localDescription,console.log("onSetLocalDescriptionSuccess",t),t.SendDesc(r,function(){})},t.onSetAnswerError)}setRemoteDesc(r){let t=this;console.log("setRemoteDescription start",t),console.log("Peer connectionState:"+this.con.connectionState,t),this.con.setRemoteDescription(r).then(function(){t.params.rem_desc=t.con.remoteDescription,t.con.remoteDescription.type==="offer"&&t.con.createAnswer().then(i=>t.onCreateAnswerSuccess(i),t.onCreateAnswerError)},function(i){console.log("Failed to set remote description: "+i.toString(),this)})}onCreateAnswerError(r){console.log("Failed to create answer: "+r.toString(),this)}onCreateOfferSuccess(r){let t=this;console.log("Offer created",t),console.log("setLocalDescription start",t),t.con.setLocalDescription(r).then(function(){t.params.loc_desc=t.con.localDescription,console.log(" setLocalDescription complete",t)},t.onSetOfferError)}onCreateVideoOfferSuccess(r,t){let i=this;console.log("Offer created",i),console.log("setLocalDescription start",i),i.con.setLocalDescription(r).then(function(){i.params.loc_desc=i.con.localDescription,log(" setLocalDescription complete",i),i.rtc.DC.SendDCDesc(r,i.pc_key)},i.onSetOfferError)}onSetOfferError(r){console.log("Failed to set offer: "+r.toString(),this)}onSetAnswerError(r){console.log("Failed to set session description: "+r.toString(),this)}onAddIceCandidateSuccess(r){console.log(" addIceCandidate success",this)}onAddIceCandidateError(r,t){console.log(" failed to add ICE Candidate: "+t.toString(),this)}onCreateOfferError(r){console.log("Failed to create session description: "+r.toString(),this)}onAddVideo(r){let t=this,i="Do you mind to turn on the cameras?";t.rtc.DC&&t.rtc.DC.dc.readyState==="open"&&t.rtc.DC.SendData({confirm:i})}onCreateSessionDescriptionError(r){}Cancel(){this.close()}};class q1{constructor(r,t){this.rtc=r,this.pc=t,this.call_num=3,this.dc=t.con.createDataChannel(t.pc_key+" data channel"),this.forward;let i=this;i.cnt_call=0,this.dc.onclose=()=>{},t.StartEvents(),t.con.ondatachannel=f=>{console.log("Receive Channel Callback"),this.dc=f.channel,this.dc.onopen=()=>(i.dc.readyState==="open"&&console.log(i.pc.pc_key+" datachannel open"),i.SendDCCall(),!0)};let o="",a=[],u=0;this.dc.removeEventListener("message",this.dc.onmessage),this.dc.onmessage=function(f){try{let c=JSON.parse(f.data);if(c.type==="eom"){i.rtc.OnMessage(JSON.parse(o),i),i.rtc.SendToComponent(JSON.parse(o)),o="";return}if(o+=c.slice,c.file&&(document.getElementById("dataProgress").attributes.max=c.length),c.type==="eof"){const d=new Blob(a);if(a=[],u=0,confirm("Получен файл: "+c.file+". Размер: "+c.length+" Сохранить?")){let g=document.getElementById("download_href");g.text("Получен файл: "+c.file+". Размер: "+c.length+" Сохранить?"),g.attributes.href="URL.createObjectURL(received)",g.attributes.download=c.file,g.click()}setTimeout(function(){document.getElementById("dataProgress").style.display="none"},2e3);return}}catch{if(o="",!f.data.byteLength)return}}}SendFile(r,t,i){try{if(this.dc.readyState==="open"){let o=16384;const a=Math.ceil(r.byteLength/o);this.dc.send(JSON.stringify({file:t,length:r.byteLength}),function(u){console.log(u)});for(let u=0,f=0;u<a;++u,f+=o){const c=r.slice(f,f+o);let d=document.getElementById("dataProgress");this.dc.send(c,function(g){console.log(g)})}setTimeout(function(){document.getElementById("dataProgress").style.display="none"},2e3),this.dc.send(JSON.stringify({type:"eof",file:t,length:r.byteLength}),function(u){console.log(u),i()})}}catch(o){console.log(o)}}SendData(r,t){try{if(this.dc.readyState==="open"){r=JSON.stringify(r);let i=16384;const o=Math.ceil(r.length/i);for(let a=0,u=0;a<o;++a,u+=i)this.dc.send(JSON.stringify({slice:r.substr(u,i)}));this.dc.send(JSON.stringify({type:"eom"}))}t&&t()}catch(i){console.log(i)}}SendDCCall(){let r=this,t={};t.proj="kolmit",t.uid=r.rtc.uid,t.func="call",t.call=r.rtc.call_num,t.type=r.rtc.type,t.email=r.rtc.email.from,t.profile={email:r.rtc.em,name:r.rtc.em},r.dc.readyState==="open"&&r.SendData(t),r.rtc.OnOpenDataChannel()}SendDCHangup(r){let t={};t.proj="kolmit",t.func="mute",t.type=this.rtc.type,this.SendData(t,r)}SendDCClose(r){let t={};t.proj="kolmit",t.func="close",t.type=this.rtc.type,this.SendData(t,r)}SendDCTalk(r){let t={};t.proj="kolmit",t.func="talk",t.type=this.rtc.type,this.SendData(t,r)}SendDCCand(r,t,i){let o={};o.proj="kolmit",o.func="offer",o.cand=r,o.trans=t,o.abonent=this.rtc.abonent,o.msg=i,this.SendData(o)}SendDCDesc(r,t,i){let o={};o.proj="kolmit",o.func="offer",o.desc=r,o.trans=t,o.abonent=this.rtc.abonent,o.msg=i,this.SendData(o)}SendDCOffer(r,t){let i={};i.proj="kolmit",i.func="offer",i.desc=this.pc.params.loc_desc,i.cand=this.pc.params.loc_cand,i.trans=r,i.abonent=this.rtc.abonent,i.msg=t,this.SendData(i)}SendDCVideoOK(r){let t={};t.proj="kolmit",t.func="video",t.type=this.rtc.type,this.SendData(t,r)}}const Bu={stun:{urls:["stun:stun1.l.google.com:19302","stun:stun2.l.google.com:19302","stun:stun3.l.google.com:19302","stun:stun4.l.google.com:19302"]},turn:{urls:["turn:delivery-angels.com:3478?transport=udp","turn:delivery-angels.com:3478?transport=tcp","turn:delivery-angels.com:5349?transport=udp","turn:delivery-angels.com:5349?transport=tcp"],username:"guest",credential:"password"},lifetimeDuration:"86400s"};let G1=class{constructor(r,t,i){this.type=r.type,this.abonent=r.abonent,this.em=r.em,this.uid=t,this.signal=i,this.email={from:"",to:""},this.pcPull={},this.main_pc,this.origin=location.origin,this.url,this.localStream,this.remoteStream,this.startTime,this.phone=""}async SendCheck(){let r={};r.proj="kolmit",r.func="check",r.status="check",r.type=this.type,r.abonent=this.abonent,r.em=this.em,r.uid=this.uid,this.signal.SendMessage(r,()=>{this.status="check"})}SendVideoOffer(r){let t=this;t.pcPull[r].params.loc_desc="",t.pcPull[r].params.loc_cand="",t.pcPull[r].con.createOffer(t.mode={offerToReceiveAudio:1,offerToReceiveVideo:1,iceRestart:1}).then(i=>t.pcPull[r].onCreateVideoOfferSuccess(i),t.pcPull[r].onCreateOfferError)}onIceStateChange(r,t){let i=this;r&&(r.con.iceConnectionState==="new"&&console.log(r.pc_key+" ICE state change event: new",i),r.con.iceConnectionState==="checking"&&(console.log(r.pc_key+" ICE state change event: checking",i),i.checking_tmr=setTimeout(function(){r.con.restartIce()},5e3)),r.con.iceConnectionState==="disconnected"&&(console.log(r.pc_key+" ICE state change event: disconnected",i),r.con.restartIce()),r.con.iceConnectionState==="connected"&&(clearTimeout(i.checking_tmr),console.log(r.pc_key+" ICE state change event: connected",i),i.main_pc=r.pc_key),r.con.iceConnectionState==="failed"&&(console.log(r.pc_key+" ICE state change event: failed",i),r.con.restartIce()),r.con.iceConnectionState==="completed"&&console.log(r.pc_key+" ICE state change event: completed",i),console.log(r.pc_key+" ICE state change event: "+t.type,i))}TransFile(r){let t=this;async function i(){const a=r.files[0];if(a||console.log("No file chosen"),a.size===0)return;dataProgress.style.display="block",dataProgress.attributes.max=a.size;let u=new FileReader;u.onload=f=>{console.log("FileRead.onload ",f),t.DC.SendFile(f.target.result,a.name)},u.readAsArrayBuffer(a)}r.removeEventListener("change",r.onchange),r.onchange=i;let o=new PointerEvent("click",{bubbles:!1,cancelable:!0,view:window});r.dispatchEvent(o)}get RemoteStream(){return this.remoteStream}async InitRTC(r,t){let i=this;this.conf=Bu;let o={iceTransportPolicy:"all",lifetimeDuration:this.conf.lifetimeDuration,rtcpMuxPolicy:"require",bundlePolicy:"balanced",iceServers:[this.conf.stun,this.conf.turn]};i.pcPull[r]&&(i.DC&&(i.DC.dc.close(),i.DC=null),i.pcPull[r].con&&(i.pcPull[r].con.close(),i.pcPull[r].con=null));let a=i.pcPull[r]?i.pcPull[r].params:{};i.pcPull[r]=null,i.pcPull[r]=new V1(i,o,r),i.pcPull[r].signal=null,i.pcPull[r].signal=i.signal,a&&(i.pcPull[r].params=a),i.DC=new q1(i,i.pcPull[r]),this.startTime=Date.now(),t()}GetUserMedia(r,t){navigator.mediaDevices.getUserMedia(r).then(i=>this.gotStream(i,t)).catch(function(i){(i.name==="NotFoundError"||i.name==="NotReadableError")&&(r.audio&&alert("Something wrong with mic?"),r.video&&alert("Something wrong with camera?"),t(!1))})}gotStream(r,t){this.localStream||(this.localStream=r),this.getTracks(r,t)}getTracks(r,t){let i=this;r.getTracks().forEach(u=>{for(let f in i.pcPull)f!=="reserve"&&(i.pcPull[f].con.iceConnectionState==="disconnected"||i.pcPull[f].con.iceConnectionState==="closed"||(i.localStream.addTrack(u),i.pcPull[f].sender=i.pcPull[f].con.addTrack(u,i.localStream),u.kind==="video"?window.user.SetLocalVideo(i.localStream):u.kind))});var o=this.localStream.getVideoTracks(),a=this.localStream.getAudioTracks();o.length>0&&console.log("Using video device: "+o[0].label,i),a.length>0&&console.log("Using audio device: "+a[0].label,i),t(!0)}SendStatus(r){let t={};t.proj="kolmit",t.func="status",t.type=this.type,t.abonent=this.abonent.toLowerCase(),t.uid=this.uid,t.em=this.em.toLowerCase(),t.status=r,this.signal.SendMessage(t,()=>{this.status=r})}RemoveTracks(){let r=this;r.localStream&&(r.localStream.getVideoTracks().forEach(o=>{o.readyState=="live"&&o.kind==="video"&&o.stop(),r.localStream.removeTrack(o)}),r.localStream.getAudioTracks().forEach(o=>{o.readyState=="live"&&o.kind==="audio"&&o.stop(),r.localStream.removeTrack(o)}))}};class j1 extends G1{constructor(r,t,i){super(r,t,i),this.redirected=!1,this.component="",this.checking_tmr,this.fileInput=document.getElementsByClassName("fileInput")[0]?document.getElementsByClassName("fileInput")[0]:"",this.dataProgress=document.getElementById("dataProgress")?document.getElementById("dataProgress"):"",yr.subscribe(o=>{try{o&&this.OnMessage(o)}catch(a){console.log(a)}})}Init(r){let t=this;this.mode="";let i=[this.abonent];t.main_pc="";for(let o in i)t.InitRTC(i[o],function(){r()})}Call(){this.Init(()=>{this.GetUserMedia({audio:1,video:0},()=>{let r={};r.proj="kolmit",r.func="call",r.status="call",r.type=this.type,r.abonent=this.abonent.toLowerCase(),r.em=this.em.toLowerCase(),r.uid=this.uid,this.signal.SendMessage(r,()=>{this.status="call"})})})}Hangup(){this.DC&&(this.DC.SendDCHangup(()=>{}),this.Init(()=>{this.SendCheck()}))}OnMessage(r){let t=this;if(r.operators&&r.em===t.em&&r.operators[t.abonent]&&r.operators[t.abonent].abonent===t.abonent&&(r.operators[t.abonent].status==="offer"||r.operators[t.abonent].status==="close"&&r.operators[t.abonent].uid===t.oper_uid&&(t.RemoveTracks(),t.Hangup())),r.operator&&(r.operator.em,t.abonent),r.func==="mute"&&(t.RemoveTracks(),t.Init(()=>{t.SendCheck()})),(r.call||r.func==="call")&&console.log("received call: "+r.call+" from "+t.type,t),r.func==="redirect"&&(t.em=r.abonent.operator,t.InitRTC(r.abonent.operator,async()=>{await new Promise((o,a)=>{t.Call(o)})})),r.oper_uid&&(t.oper_uid=r.oper_uid),r.desc&&t.pcPull[r.abonent]&&(t.pcPull[r.abonent].con.connectionState==="failed"&&t.pcPull[r.abonent].con.restartIce(),t.pcPull[r.abonent]&&(t.pcPull[r.abonent].params.rem_desc=r.desc,t.pcPull[r.abonent].setRemoteDesc(r.desc))),r.cand&&t.pcPull[r.abonent]&&t.pcPull[r.abonent]){if(t.pcPull[r.abonent].con.signalingState==="closed")return;try{if(t.pcPull[r.abonent].params.rem_cand=r.cand,Array.isArray(r.cand))for(let i in r.cand)t.pcPull[r.abonent].con.addIceCandidate(r.cand[i]);else t.pcPull[r.abonent].con.addIceCandidate(r.cand)}catch(i){console.log(i)}}}}let J1=ro(),K1=ro();function Y1(s){let r,t,i=`input {\r
      border-width: 0;\r
    }\r
\r
    .form-signin {\r
      background-color: white;\r
      max-width: 90%;\r
      /* max-height: 90%;            */\r
      border: 3px solid grey;\r
      padding: 10px;\r
      margin: 0 auto;\r
    }\r
    .form-signin .form-signin-heading,\r
    .form-signin .form-control {\r
      position: relative;\r
      height: auto;\r
      -webkit-box-sizing: border-box;\r
      -moz-box-sizing: border-box;\r
      box-sizing: border-box;\r
      padding: 10px;\r
      font-size: 16px;\r
    }\r
    .form-signin .form-control:focus {\r
      z-index: 2;\r
    }\r
    .form-signin input[type='email'] {\r
      margin-bottom: -1px;\r
      border-bottom-right-radius: 0;\r
      border-bottom-left-radius: 0;\r
    }`,o,a,u,f=s[8]["How to introduce you?"][s[7]]+"",c,d,g,p,_,b,P,k,R,T,F,K,L,Y,N,M,B='<span style="display: block; position: absolute; display: block; left: 46px; bottom: 113px; font-weight: 200; font-size: x-small;">Upload photo...</span>',ee,Z,j,U,ve=" ",X,ie,xe=s[8]["Save and Close"][s[7]]+"",Ce,Pe,rt;return{c(){r=W("div"),t=W("style"),t.textContent=i,o=te(),a=W("div"),u=W("h2"),c=Ve(f),d=te(),g=W("div"),p=W("div"),_=W("input"),P=te(),k=W("div"),R=W("input"),F=te(),K=W("div"),L=W("img"),N=te(),M=W("div"),M.innerHTML=B,ee=te(),Z=W("input"),j=te(),U=W("div"),U.textContent=ve,X=te(),ie=W("button"),Ce=Ve(xe),this.h()},l(Ie){r=x(Ie,"DIV",{class:!0,style:!0});var _e=J(r);t=x(_e,"STYLE",{"data-svelte-h":!0}),mt(t)!=="svelte-1are2aq"&&(t.textContent=i),o=ne(_e),a=x(_e,"DIV",{class:!0,style:!0});var ae=J(a);u=x(ae,"H2",{class:!0});var Te=J(u);c=qe(Te,f),Te.forEach(S),d=ne(ae),g=x(ae,"DIV",{style:!0});var Ke=J(g);p=x(Ke,"DIV",{style:!0});var lt=J(p);_=x(lt,"INPUT",{type:!0,id:!0,class:!0,placeholder:!0}),lt.forEach(S),P=ne(Ke),k=x(Ke,"DIV",{style:!0});var ut=J(k);R=x(ut,"INPUT",{type:!0,id:!0,class:!0,placeholder:!0,style:!0}),ut.forEach(S),Ke.forEach(S),F=ne(ae),K=x(ae,"DIV",{});var Ue=J(K);L=x(Ue,"IMG",{src:!0,id:!0,alt:!0,style:!0}),N=ne(Ue),M=x(Ue,"DIV",{"data-svelte-h":!0}),mt(M)!=="svelte-1y18wj7"&&(M.innerHTML=B),ee=ne(Ue),Z=x(Ue,"INPUT",{accept:!0,id:!0,name:!0,type:!0,style:!0}),Ue.forEach(S),j=ne(ae),U=x(ae,"DIV",{for:!0,"data-svelte-h":!0}),mt(U)!=="svelte-o0b98r"&&(U.textContent=ve),X=ne(ae),ie=x(ae,"BUTTON",{id:!0,class:!0});var ge=J(ie);Ce=qe(ge,xe),ge.forEach(S),ae.forEach(S),_e.forEach(S),this.h()},h(){w(u,"class","form-signin-heading"),w(_,"type","text"),w(_,"id","name"),w(_,"class","form-control"),w(_,"placeholder",b=s[8]["input user name *"][s[7]]),_.required=!0,O(p,"width","250px"),w(R,"type","email"),w(R,"id","email"),w(R,"class","form-control"),w(R,"placeholder",T=s[8]["input email address"][s[7]]),R.required=!0,O(R,"width","100%"),O(k,"flex","1"),O(g,"display","flex"),O(g,"flex-direction","column"),Et(L.src,Y=s[2])||w(L,"src",Y),w(L,"id","avatar_img"),w(L,"alt","avatar"),O(L,"display","block"),O(L,"margin-left","auto"),O(L,"margin-right","auto"),O(L,"width","40%"),w(Z,"accept","image/png, image/jpeg"),w(Z,"id","avatar"),w(Z,"name","avatar"),w(Z,"type","file"),O(Z,"display","none"),w(U,"for","send_form"),w(ie,"id","send_form"),w(ie,"class","btn btn-primary"),w(a,"class","row"),O(a,"border-style","groove"),O(a,"border-radius","2px"),O(a,"border-color","#cbced2"),O(a,"padding","10px"),w(r,"class","form-signin"),O(r,"display","block"),O(r,"position","fixed"),O(r,"top","0")},m(Ie,_e){V(Ie,r,_e),D(r,t),D(r,o),D(r,a),D(a,u),D(u,c),D(a,d),D(a,g),D(g,p),D(p,_),st(_,s[3]),D(g,P),D(g,k),D(k,R),st(R,s[4]),D(a,F),D(a,K),D(K,L),s[17](L),D(K,N),D(K,M),D(K,ee),D(K,Z),s[18](Z),D(a,j),D(a,U),D(a,X),D(a,ie),D(ie,Ce),s[20](r),Pe||(rt=[ce(_,"input",s[15]),ce(R,"input",s[16]),ce(L,"click",s[12]),ce(Z,"change",s[10]),ce(Z,"change",s[19]),ce(ie,"click",s[11]),C1(s[9].call(null,r))],Pe=!0)},p(Ie,[_e]){_e&128&&f!==(f=Ie[8]["How to introduce you?"][Ie[7]]+"")&&Rt(c,f),_e&128&&b!==(b=Ie[8]["input user name *"][Ie[7]])&&w(_,"placeholder",b),_e&8&&_.value!==Ie[3]&&st(_,Ie[3]),_e&128&&T!==(T=Ie[8]["input email address"][Ie[7]])&&w(R,"placeholder",T),_e&16&&R.value!==Ie[4]&&st(R,Ie[4]),_e&4&&!Et(L.src,Y=Ie[2])&&w(L,"src",Y),_e&128&&xe!==(xe=Ie[8]["Save and Close"][Ie[7]]+"")&&Rt(Ce,xe)},i:Oe,o:Oe,d(Ie){Ie&&S(r),s[17](null),s[18](null),s[20](null),Pe=!1,Yt(rt)}}}function Z1(s,r,t){let i,o;We(s,K1,Z=>t(21,i=Z)),We(s,J1,Z=>t(22,o=Z));let{profile:a}=r,{selected:u}=r,f,c="./assets/user.svg",d,g,p,_,b,P="en";P=o;const k=i;async function R(Z){if(window.parent.document.body.append(Z),localStorage.getItem("kolmit_abonent")){let j=JSON.parse(localStorage.getItem("kolmit_abonent"));t(3,d=j.name),t(4,g=j.email),t(2,c=j.src)}}async function T(Z){try{let j=await lo(Z.target.files[0],function(U,ve){U.type==="error"?console.error("Error loading image "):(t(2,c=U.toDataURL()),window.parent.document.getElementById("avatar_img").src=c,window.parent.document.getElementById("avatar_input").value=c)},{orientation:!0,maxWidth:300,maxHeight:300,minWidth:100,minHeight:50,canvas:!0})}catch{}}function F(){localStorage.setItem("kolmit_abonent",JSON.stringify({id:window.id,src:c,name:d,email:g})),t(14,u=""),t(13,a=!1)}function K(){let Z=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window});b.dispatchEvent(Z)}function L(){d=this.value,t(3,d)}function Y(){g=this.value,t(4,g)}function N(Z){De[Z?"unshift":"push"](()=>{_=Z,t(5,_)})}function M(Z){De[Z?"unshift":"push"](()=>{b=Z,t(6,b)})}function B(){p=this.files,t(0,p)}function ee(Z){De[Z?"unshift":"push"](()=>{f=Z,t(1,f)})}return s.$$set=Z=>{"profile"in Z&&t(13,a=Z.profile),"selected"in Z&&t(14,u=Z.selected)},s.$$.update=()=>{s.$$.dirty&1&&p&&console.log(p)},[p,f,c,d,g,_,b,P,k,R,T,F,K,a,u,L,Y,N,M,B,ee]}class X1 extends je{constructor(r){super(),Je(this,r,Z1,Y1,Ge,{profile:13,selected:14})}}function Q1(s){let r,t,i,o,a,u,f,c,d,g="0",p,_,b;const P=s[3].default,k=Kn(P,s,s[2],null);return{c(){r=W("div"),t=ze("svg"),i=ze("g"),o=ze("title"),a=Ve("Layer 1"),u=ze("path"),f=te(),k&&k.c(),c=te(),d=W("span"),d.textContent=g,this.h()},l(R){r=x(R,"DIV",{class:!0});var T=J(r);t=Me(T,"svg",{class:!0,status:!0,width:!0,height:!0});var F=J(t);i=Me(F,"g",{class:!0,style:!0});var K=J(i);o=Me(K,"title",{});var L=J(o);a=qe(L,"Layer 1"),L.forEach(S),u=Me(K,"path",{d:!0,id:!0,class:!0,transform:!0}),J(u).forEach(S),K.forEach(S),F.forEach(S),f=ne(T),k&&k.l(T),c=ne(T),d=x(T,"SPAN",{class:!0,style:!0,"data-svelte-h":!0}),mt(d)!=="svelte-zcrh5f"&&(d.textContent=g),T.forEach(S),this.h()},h(){w(u,"d","M390.7 353.3c-120.30000000000001 69.5 63.19999999999999 413.59999999999997 194.90000000000003 337.59999999999997l122.10000000000002 211.39999999999998c-55.60000000000002 32.10000000000002-102.5 52.30000000000007-166.9000000000001 15.5-178.79999999999995-102.19999999999993-375.59999999999997-442.9-369.99999999999994-646.0999999999999 1.8999999999999773-70.60000000000005 43.599999999999994-98.30000000000004 97.89999999999998-129.70000000000005 23.30000000000001 40.400000000000006 98.60000000000002 170.8 122 211.3z m50.400000000000034-5.699999999999989c-13 7.5-29.700000000000045 3.099999999999966-37.30000000000001-10l-115-199.3c-7.5-13.000000000000014-3.1000000000000227-29.700000000000017 10-37.30000000000001l60.5-34.900000000000006c13-7.499999999999993 29.69999999999999-3.0999999999999943 37.30000000000001 10l115.09999999999997 199.29999999999998c7.500000000000057 13 3.099999999999966 29.700000000000045-10 37.200000000000045l-60.599999999999966 35z m314.4 544.5c-13 7.5-29.700000000000045 3.1000000000000227-37.299999999999955-10l-115-199.30000000000007c-7.5-13-3.1000000000000227-29.699999999999932 10-37.299999999999955l60.5-34.89999999999998c13-7.5 29.699999999999932-3.1000000000000227 37.299999999999955 10l115.10000000000002 199.29999999999995c7.5 13 3.1000000000000227 29.700000000000045-10 37.30000000000007l-60.60000000000002 34.89999999999998z"),w(u,"id","svg_1"),w(u,"class","selected"),w(u,"transform","scale(.03)"),w(i,"class","currentLayer svelte-1p3kvei"),O(i,"stroke","black"),O(i,"stroke-width","10px"),w(t,"class","callButton svelte-1p3kvei"),w(t,"status",s[0]),w(t,"width","35"),w(t,"height","35"),w(d,"class","badge badge-primary badge-pill call-queue"),O(d,"display","none"),O(d,"position","absolute"),O(d,"right","0px"),O(d,"bottom","0px"),O(d,"color","#0e0cff"),O(d,"font-size","12px"),O(d,"opacity","1"),w(r,"class","callObject svelte-1p3kvei")},m(R,T){V(R,r,T),D(r,t),D(t,i),D(i,o),D(o,a),D(i,u),D(r,f),k&&k.m(r,null),D(r,c),D(r,d),p=!0,_||(b=[ce(t,"mute",s[5]),ce(r,"long-press",function(){Cr(s[1])&&s[1].apply(this,arguments)}),ce(r,"click",s[4])],_=!0)},p(R,[T]){s=R,(!p||T&1)&&w(t,"status",s[0]),k&&k.p&&(!p||T&4)&&Yn(k,P,s,s[2],p?Xn(P,s[2],T,null):Zn(s[2]),null)},i(R){p||(oe(k,R),p=!0)},o(R){ue(k,R),p=!1},d(R){R&&S(r),k&&k.d(R),_=!1,Yt(b)}}}function $1(s,r,t){let{$$slots:i={},$$scope:o}=r,{status:a="inactive"}=r,{OnLongPress:u}=r;function f(d){$l.call(this,s,d)}function c(d){$l.call(this,s,d)}return s.$$set=d=>{"status"in d&&t(0,a=d.status),"OnLongPress"in d&&t(1,u=d.OnLongPress),"$$scope"in d&&t(2,o=d.$$scope)},[a,u,o,i,f,c]}class eg extends je{constructor(r){super(),Je(this,r,$1,Q1,Ge,{status:0,OnLongPress:1})}}var Ri={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */Ri.exports;(function(s,r){(function(){var t,i="4.17.21",o=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",u="Expected a function",f="Invalid `variable` option passed into `_.template`",c="__lodash_hash_undefined__",d=500,g="__lodash_placeholder__",p=1,_=2,b=4,P=1,k=2,R=1,T=2,F=4,K=8,L=16,Y=32,N=64,M=128,B=256,ee=512,Z=30,j="...",U=800,ve=16,X=1,ie=2,xe=3,Ce=1/0,Pe=9007199254740991,rt=17976931348623157e292,Ie=0/0,_e=4294967295,ae=_e-1,Te=_e>>>1,Ke=[["ary",M],["bind",R],["bindKey",T],["curry",K],["curryRight",L],["flip",ee],["partial",Y],["partialRight",N],["rearg",B]],lt="[object Arguments]",ut="[object Array]",Ue="[object AsyncFunction]",ge="[object Boolean]",me="[object Date]",Zt="[object DOMException]",re="[object Error]",pt="[object Function]",tt="[object GeneratorFunction]",vt="[object Map]",Mn="[object Number]",$n="[object Null]",Nt="[object Object]",Wr="[object Promise]",er="[object Proxy]",Fn="[object RegExp]",Wt="[object Set]",dn="[object String]",$="[object Symbol]",be="[object Undefined]",Pt="[object WeakMap]",En="[object WeakSet]",Ot="[object ArrayBuffer]",Lt="[object DataView]",It="[object Float32Array]",tr="[object Float64Array]",pn="[object Int8Array]",Un="[object Int16Array]",zi="[object Int32Array]",Mi="[object Uint8Array]",Fi="[object Uint8ClampedArray]",Ui="[object Uint16Array]",Ni="[object Uint32Array]",xu=/\b__p \+= '';/g,Hu=/\b(__p \+=) '' \+/g,Vu=/(__e\(.*?\)|\b__t\)) \+\n'';/g,oo=/&(?:amp|lt|gt|quot|#39);/g,so=/[&<>"']/g,qu=RegExp(oo.source),Gu=RegExp(so.source),ju=/<%-([\s\S]+?)%>/g,Ju=/<%([\s\S]+?)%>/g,uo=/<%=([\s\S]+?)%>/g,Ku=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Yu=/^\w*$/,Zu=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Wi=/[\\^$.*+?()[\]{}|]/g,Xu=RegExp(Wi.source),xi=/^\s+/,Qu=/\s/,$u=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ea=/\{\n\/\* \[wrapped with (.+)\] \*/,ta=/,? & /,na=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ra=/[()=,{}\[\]\/\s]/,ia=/\\(\\)?/g,la=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ao=/\w*$/,oa=/^[-+]0x[0-9a-f]+$/i,sa=/^0b[01]+$/i,ua=/^\[object .+?Constructor\]$/,aa=/^0o[0-7]+$/i,fa=/^(?:0|[1-9]\d*)$/,ca=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,xr=/($^)/,ha=/['\n\r\u2028\u2029\\]/g,Hr="\\ud800-\\udfff",da="\\u0300-\\u036f",pa="\\ufe20-\\ufe2f",ga="\\u20d0-\\u20ff",fo=da+pa+ga,co="\\u2700-\\u27bf",ho="a-z\\xdf-\\xf6\\xf8-\\xff",_a="\\xac\\xb1\\xd7\\xf7",ma="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",va="\\u2000-\\u206f",ba=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",po="A-Z\\xc0-\\xd6\\xd8-\\xde",go="\\ufe0e\\ufe0f",_o=_a+ma+va+ba,Hi="['’]",ya="["+Hr+"]",mo="["+_o+"]",Vr="["+fo+"]",vo="\\d+",wa="["+co+"]",bo="["+ho+"]",yo="[^"+Hr+_o+vo+co+ho+po+"]",Vi="\\ud83c[\\udffb-\\udfff]",Ca="(?:"+Vr+"|"+Vi+")",wo="[^"+Hr+"]",qi="(?:\\ud83c[\\udde6-\\uddff]){2}",Gi="[\\ud800-\\udbff][\\udc00-\\udfff]",nr="["+po+"]",Co="\\u200d",So="(?:"+bo+"|"+yo+")",Sa="(?:"+nr+"|"+yo+")",ko="(?:"+Hi+"(?:d|ll|m|re|s|t|ve))?",Eo="(?:"+Hi+"(?:D|LL|M|RE|S|T|VE))?",Oo=Ca+"?",Io="["+go+"]?",ka="(?:"+Co+"(?:"+[wo,qi,Gi].join("|")+")"+Io+Oo+")*",Ea="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Oa="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",To=Io+Oo+ka,Ia="(?:"+[wa,qi,Gi].join("|")+")"+To,Ta="(?:"+[wo+Vr+"?",Vr,qi,Gi,ya].join("|")+")",Aa=RegExp(Hi,"g"),Da=RegExp(Vr,"g"),ji=RegExp(Vi+"(?="+Vi+")|"+Ta+To,"g"),Ra=RegExp([nr+"?"+bo+"+"+ko+"(?="+[mo,nr,"$"].join("|")+")",Sa+"+"+Eo+"(?="+[mo,nr+So,"$"].join("|")+")",nr+"?"+So+"+"+ko,nr+"+"+Eo,Oa,Ea,vo,Ia].join("|"),"g"),Pa=RegExp("["+Co+Hr+fo+go+"]"),La=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ba=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],za=-1,nt={};nt[It]=nt[tr]=nt[pn]=nt[Un]=nt[zi]=nt[Mi]=nt[Fi]=nt[Ui]=nt[Ni]=!0,nt[lt]=nt[ut]=nt[Ot]=nt[ge]=nt[Lt]=nt[me]=nt[re]=nt[pt]=nt[vt]=nt[Mn]=nt[Nt]=nt[Fn]=nt[Wt]=nt[dn]=nt[Pt]=!1;var et={};et[lt]=et[ut]=et[Ot]=et[Lt]=et[ge]=et[me]=et[It]=et[tr]=et[pn]=et[Un]=et[zi]=et[vt]=et[Mn]=et[Nt]=et[Fn]=et[Wt]=et[dn]=et[$]=et[Mi]=et[Fi]=et[Ui]=et[Ni]=!0,et[re]=et[pt]=et[Pt]=!1;var Ma={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Fa={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Ua={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Na={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Wa=parseFloat,xa=parseInt,Ao=typeof _r=="object"&&_r&&_r.Object===Object&&_r,Ha=typeof self=="object"&&self&&self.Object===Object&&self,wt=Ao||Ha||Function("return this")(),Ji=r&&!r.nodeType&&r,Nn=Ji&&!0&&s&&!s.nodeType&&s,Do=Nn&&Nn.exports===Ji,Ki=Do&&Ao.process,Xt=function(){try{var I=Nn&&Nn.require&&Nn.require("util").types;return I||Ki&&Ki.binding&&Ki.binding("util")}catch{}}(),Ro=Xt&&Xt.isArrayBuffer,Po=Xt&&Xt.isDate,Lo=Xt&&Xt.isMap,Bo=Xt&&Xt.isRegExp,zo=Xt&&Xt.isSet,Mo=Xt&&Xt.isTypedArray;function xt(I,H,z){switch(z.length){case 0:return I.call(H);case 1:return I.call(H,z[0]);case 2:return I.call(H,z[0],z[1]);case 3:return I.call(H,z[0],z[1],z[2])}return I.apply(H,z)}function Va(I,H,z,se){for(var ye=-1,Fe=I==null?0:I.length;++ye<Fe;){var gt=I[ye];H(se,gt,z(gt),I)}return se}function Qt(I,H){for(var z=-1,se=I==null?0:I.length;++z<se&&H(I[z],z,I)!==!1;);return I}function qa(I,H){for(var z=I==null?0:I.length;z--&&H(I[z],z,I)!==!1;);return I}function Fo(I,H){for(var z=-1,se=I==null?0:I.length;++z<se;)if(!H(I[z],z,I))return!1;return!0}function On(I,H){for(var z=-1,se=I==null?0:I.length,ye=0,Fe=[];++z<se;){var gt=I[z];H(gt,z,I)&&(Fe[ye++]=gt)}return Fe}function qr(I,H){var z=I==null?0:I.length;return!!z&&rr(I,H,0)>-1}function Yi(I,H,z){for(var se=-1,ye=I==null?0:I.length;++se<ye;)if(z(H,I[se]))return!0;return!1}function it(I,H){for(var z=-1,se=I==null?0:I.length,ye=Array(se);++z<se;)ye[z]=H(I[z],z,I);return ye}function In(I,H){for(var z=-1,se=H.length,ye=I.length;++z<se;)I[ye+z]=H[z];return I}function Zi(I,H,z,se){var ye=-1,Fe=I==null?0:I.length;for(se&&Fe&&(z=I[++ye]);++ye<Fe;)z=H(z,I[ye],ye,I);return z}function Ga(I,H,z,se){var ye=I==null?0:I.length;for(se&&ye&&(z=I[--ye]);ye--;)z=H(z,I[ye],ye,I);return z}function Xi(I,H){for(var z=-1,se=I==null?0:I.length;++z<se;)if(H(I[z],z,I))return!0;return!1}var ja=Qi("length");function Ja(I){return I.split("")}function Ka(I){return I.match(na)||[]}function Uo(I,H,z){var se;return z(I,function(ye,Fe,gt){if(H(ye,Fe,gt))return se=Fe,!1}),se}function Gr(I,H,z,se){for(var ye=I.length,Fe=z+(se?1:-1);se?Fe--:++Fe<ye;)if(H(I[Fe],Fe,I))return Fe;return-1}function rr(I,H,z){return H===H?sf(I,H,z):Gr(I,No,z)}function Ya(I,H,z,se){for(var ye=z-1,Fe=I.length;++ye<Fe;)if(se(I[ye],H))return ye;return-1}function No(I){return I!==I}function Wo(I,H){var z=I==null?0:I.length;return z?el(I,H)/z:Ie}function Qi(I){return function(H){return H==null?t:H[I]}}function $i(I){return function(H){return I==null?t:I[H]}}function xo(I,H,z,se,ye){return ye(I,function(Fe,gt,$e){z=se?(se=!1,Fe):H(z,Fe,gt,$e)}),z}function Za(I,H){var z=I.length;for(I.sort(H);z--;)I[z]=I[z].value;return I}function el(I,H){for(var z,se=-1,ye=I.length;++se<ye;){var Fe=H(I[se]);Fe!==t&&(z=z===t?Fe:z+Fe)}return z}function tl(I,H){for(var z=-1,se=Array(I);++z<I;)se[z]=H(z);return se}function Xa(I,H){return it(H,function(z){return[z,I[z]]})}function Ho(I){return I&&I.slice(0,jo(I)+1).replace(xi,"")}function Ht(I){return function(H){return I(H)}}function nl(I,H){return it(H,function(z){return I[z]})}function Sr(I,H){return I.has(H)}function Vo(I,H){for(var z=-1,se=I.length;++z<se&&rr(H,I[z],0)>-1;);return z}function qo(I,H){for(var z=I.length;z--&&rr(H,I[z],0)>-1;);return z}function Qa(I,H){for(var z=I.length,se=0;z--;)I[z]===H&&++se;return se}var $a=$i(Ma),ef=$i(Fa);function tf(I){return"\\"+Na[I]}function nf(I,H){return I==null?t:I[H]}function ir(I){return Pa.test(I)}function rf(I){return La.test(I)}function lf(I){for(var H,z=[];!(H=I.next()).done;)z.push(H.value);return z}function rl(I){var H=-1,z=Array(I.size);return I.forEach(function(se,ye){z[++H]=[ye,se]}),z}function Go(I,H){return function(z){return I(H(z))}}function Tn(I,H){for(var z=-1,se=I.length,ye=0,Fe=[];++z<se;){var gt=I[z];(gt===H||gt===g)&&(I[z]=g,Fe[ye++]=z)}return Fe}function jr(I){var H=-1,z=Array(I.size);return I.forEach(function(se){z[++H]=se}),z}function of(I){var H=-1,z=Array(I.size);return I.forEach(function(se){z[++H]=[se,se]}),z}function sf(I,H,z){for(var se=z-1,ye=I.length;++se<ye;)if(I[se]===H)return se;return-1}function uf(I,H,z){for(var se=z+1;se--;)if(I[se]===H)return se;return se}function lr(I){return ir(I)?ff(I):ja(I)}function on(I){return ir(I)?cf(I):Ja(I)}function jo(I){for(var H=I.length;H--&&Qu.test(I.charAt(H)););return H}var af=$i(Ua);function ff(I){for(var H=ji.lastIndex=0;ji.test(I);)++H;return H}function cf(I){return I.match(ji)||[]}function hf(I){return I.match(Ra)||[]}var df=function I(H){H=H==null?wt:or.defaults(wt.Object(),H,or.pick(wt,Ba));var z=H.Array,se=H.Date,ye=H.Error,Fe=H.Function,gt=H.Math,$e=H.Object,il=H.RegExp,pf=H.String,$t=H.TypeError,Jr=z.prototype,gf=Fe.prototype,sr=$e.prototype,Kr=H["__core-js_shared__"],Yr=gf.toString,He=sr.hasOwnProperty,_f=0,Jo=function(){var e=/[^.]+$/.exec(Kr&&Kr.keys&&Kr.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Zr=sr.toString,mf=Yr.call($e),vf=wt._,bf=il("^"+Yr.call(He).replace(Wi,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Xr=Do?H.Buffer:t,An=H.Symbol,Qr=H.Uint8Array,Ko=Xr?Xr.allocUnsafe:t,$r=Go($e.getPrototypeOf,$e),Yo=$e.create,Zo=sr.propertyIsEnumerable,ei=Jr.splice,Xo=An?An.isConcatSpreadable:t,kr=An?An.iterator:t,Wn=An?An.toStringTag:t,ti=function(){try{var e=Gn($e,"defineProperty");return e({},"",{}),e}catch{}}(),yf=H.clearTimeout!==wt.clearTimeout&&H.clearTimeout,wf=se&&se.now!==wt.Date.now&&se.now,Cf=H.setTimeout!==wt.setTimeout&&H.setTimeout,ni=gt.ceil,ri=gt.floor,ll=$e.getOwnPropertySymbols,Sf=Xr?Xr.isBuffer:t,Qo=H.isFinite,kf=Jr.join,Ef=Go($e.keys,$e),_t=gt.max,St=gt.min,Of=se.now,If=H.parseInt,$o=gt.random,Tf=Jr.reverse,ol=Gn(H,"DataView"),Er=Gn(H,"Map"),sl=Gn(H,"Promise"),ur=Gn(H,"Set"),Or=Gn(H,"WeakMap"),Ir=Gn($e,"create"),ii=Or&&new Or,ar={},Af=jn(ol),Df=jn(Er),Rf=jn(sl),Pf=jn(ur),Lf=jn(Or),li=An?An.prototype:t,Tr=li?li.valueOf:t,es=li?li.toString:t;function v(e){if(at(e)&&!we(e)&&!(e instanceof Re)){if(e instanceof en)return e;if(He.call(e,"__wrapped__"))return t0(e)}return new en(e)}var fr=function(){function e(){}return function(n){if(!ot(n))return{};if(Yo)return Yo(n);e.prototype=n;var l=new e;return e.prototype=t,l}}();function oi(){}function en(e,n){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!n,this.__index__=0,this.__values__=t}v.templateSettings={escape:ju,evaluate:Ju,interpolate:uo,variable:"",imports:{_:v}},v.prototype=oi.prototype,v.prototype.constructor=v,en.prototype=fr(oi.prototype),en.prototype.constructor=en;function Re(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=_e,this.__views__=[]}function Bf(){var e=new Re(this.__wrapped__);return e.__actions__=Bt(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Bt(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Bt(this.__views__),e}function zf(){if(this.__filtered__){var e=new Re(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function Mf(){var e=this.__wrapped__.value(),n=this.__dir__,l=we(e),h=n<0,m=l?e.length:0,y=K9(0,m,this.__views__),C=y.start,E=y.end,A=E-C,q=h?E:C-1,G=this.__iteratees__,Q=G.length,le=0,fe=St(A,this.__takeCount__);if(!l||!h&&m==A&&fe==A)return ks(e,this.__actions__);var de=[];e:for(;A--&&le<fe;){q+=n;for(var ke=-1,pe=e[q];++ke<Q;){var Ae=G[ke],Le=Ae.iteratee,Gt=Ae.type,Dt=Le(pe);if(Gt==ie)pe=Dt;else if(!Dt){if(Gt==X)continue e;break e}}de[le++]=pe}return de}Re.prototype=fr(oi.prototype),Re.prototype.constructor=Re;function xn(e){var n=-1,l=e==null?0:e.length;for(this.clear();++n<l;){var h=e[n];this.set(h[0],h[1])}}function Ff(){this.__data__=Ir?Ir(null):{},this.size=0}function Uf(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}function Nf(e){var n=this.__data__;if(Ir){var l=n[e];return l===c?t:l}return He.call(n,e)?n[e]:t}function Wf(e){var n=this.__data__;return Ir?n[e]!==t:He.call(n,e)}function xf(e,n){var l=this.__data__;return this.size+=this.has(e)?0:1,l[e]=Ir&&n===t?c:n,this}xn.prototype.clear=Ff,xn.prototype.delete=Uf,xn.prototype.get=Nf,xn.prototype.has=Wf,xn.prototype.set=xf;function gn(e){var n=-1,l=e==null?0:e.length;for(this.clear();++n<l;){var h=e[n];this.set(h[0],h[1])}}function Hf(){this.__data__=[],this.size=0}function Vf(e){var n=this.__data__,l=si(n,e);if(l<0)return!1;var h=n.length-1;return l==h?n.pop():ei.call(n,l,1),--this.size,!0}function qf(e){var n=this.__data__,l=si(n,e);return l<0?t:n[l][1]}function Gf(e){return si(this.__data__,e)>-1}function jf(e,n){var l=this.__data__,h=si(l,e);return h<0?(++this.size,l.push([e,n])):l[h][1]=n,this}gn.prototype.clear=Hf,gn.prototype.delete=Vf,gn.prototype.get=qf,gn.prototype.has=Gf,gn.prototype.set=jf;function _n(e){var n=-1,l=e==null?0:e.length;for(this.clear();++n<l;){var h=e[n];this.set(h[0],h[1])}}function Jf(){this.size=0,this.__data__={hash:new xn,map:new(Er||gn),string:new xn}}function Kf(e){var n=bi(this,e).delete(e);return this.size-=n?1:0,n}function Yf(e){return bi(this,e).get(e)}function Zf(e){return bi(this,e).has(e)}function Xf(e,n){var l=bi(this,e),h=l.size;return l.set(e,n),this.size+=l.size==h?0:1,this}_n.prototype.clear=Jf,_n.prototype.delete=Kf,_n.prototype.get=Yf,_n.prototype.has=Zf,_n.prototype.set=Xf;function Hn(e){var n=-1,l=e==null?0:e.length;for(this.__data__=new _n;++n<l;)this.add(e[n])}function Qf(e){return this.__data__.set(e,c),this}function $f(e){return this.__data__.has(e)}Hn.prototype.add=Hn.prototype.push=Qf,Hn.prototype.has=$f;function sn(e){var n=this.__data__=new gn(e);this.size=n.size}function e9(){this.__data__=new gn,this.size=0}function t9(e){var n=this.__data__,l=n.delete(e);return this.size=n.size,l}function n9(e){return this.__data__.get(e)}function r9(e){return this.__data__.has(e)}function i9(e,n){var l=this.__data__;if(l instanceof gn){var h=l.__data__;if(!Er||h.length<o-1)return h.push([e,n]),this.size=++l.size,this;l=this.__data__=new _n(h)}return l.set(e,n),this.size=l.size,this}sn.prototype.clear=e9,sn.prototype.delete=t9,sn.prototype.get=n9,sn.prototype.has=r9,sn.prototype.set=i9;function ts(e,n){var l=we(e),h=!l&&Jn(e),m=!l&&!h&&Bn(e),y=!l&&!h&&!m&&pr(e),C=l||h||m||y,E=C?tl(e.length,pf):[],A=E.length;for(var q in e)(n||He.call(e,q))&&!(C&&(q=="length"||m&&(q=="offset"||q=="parent")||y&&(q=="buffer"||q=="byteLength"||q=="byteOffset")||yn(q,A)))&&E.push(q);return E}function ns(e){var n=e.length;return n?e[vl(0,n-1)]:t}function l9(e,n){return yi(Bt(e),Vn(n,0,e.length))}function o9(e){return yi(Bt(e))}function ul(e,n,l){(l!==t&&!un(e[n],l)||l===t&&!(n in e))&&mn(e,n,l)}function Ar(e,n,l){var h=e[n];(!(He.call(e,n)&&un(h,l))||l===t&&!(n in e))&&mn(e,n,l)}function si(e,n){for(var l=e.length;l--;)if(un(e[l][0],n))return l;return-1}function s9(e,n,l,h){return Dn(e,function(m,y,C){n(h,m,l(m),C)}),h}function rs(e,n){return e&&cn(n,bt(n),e)}function u9(e,n){return e&&cn(n,Mt(n),e)}function mn(e,n,l){n=="__proto__"&&ti?ti(e,n,{configurable:!0,enumerable:!0,value:l,writable:!0}):e[n]=l}function al(e,n){for(var l=-1,h=n.length,m=z(h),y=e==null;++l<h;)m[l]=y?t:Vl(e,n[l]);return m}function Vn(e,n,l){return e===e&&(l!==t&&(e=e<=l?e:l),n!==t&&(e=e>=n?e:n)),e}function tn(e,n,l,h,m,y){var C,E=n&p,A=n&_,q=n&b;if(l&&(C=m?l(e,h,m,y):l(e)),C!==t)return C;if(!ot(e))return e;var G=we(e);if(G){if(C=Z9(e),!E)return Bt(e,C)}else{var Q=kt(e),le=Q==pt||Q==tt;if(Bn(e))return Is(e,E);if(Q==Nt||Q==lt||le&&!m){if(C=A||le?{}:js(e),!E)return A?N9(e,u9(C,e)):U9(e,rs(C,e))}else{if(!et[Q])return m?e:{};C=X9(e,Q,E)}}y||(y=new sn);var fe=y.get(e);if(fe)return fe;y.set(e,C),w0(e)?e.forEach(function(pe){C.add(tn(pe,n,l,pe,e,y))}):b0(e)&&e.forEach(function(pe,Ae){C.set(Ae,tn(pe,n,l,Ae,e,y))});var de=q?A?Al:Tl:A?Mt:bt,ke=G?t:de(e);return Qt(ke||e,function(pe,Ae){ke&&(Ae=pe,pe=e[Ae]),Ar(C,Ae,tn(pe,n,l,Ae,e,y))}),C}function a9(e){var n=bt(e);return function(l){return is(l,e,n)}}function is(e,n,l){var h=l.length;if(e==null)return!h;for(e=$e(e);h--;){var m=l[h],y=n[m],C=e[m];if(C===t&&!(m in e)||!y(C))return!1}return!0}function ls(e,n,l){if(typeof e!="function")throw new $t(u);return Mr(function(){e.apply(t,l)},n)}function Dr(e,n,l,h){var m=-1,y=qr,C=!0,E=e.length,A=[],q=n.length;if(!E)return A;l&&(n=it(n,Ht(l))),h?(y=Yi,C=!1):n.length>=o&&(y=Sr,C=!1,n=new Hn(n));e:for(;++m<E;){var G=e[m],Q=l==null?G:l(G);if(G=h||G!==0?G:0,C&&Q===Q){for(var le=q;le--;)if(n[le]===Q)continue e;A.push(G)}else y(n,Q,h)||A.push(G)}return A}var Dn=Ps(fn),os=Ps(cl,!0);function f9(e,n){var l=!0;return Dn(e,function(h,m,y){return l=!!n(h,m,y),l}),l}function ui(e,n,l){for(var h=-1,m=e.length;++h<m;){var y=e[h],C=n(y);if(C!=null&&(E===t?C===C&&!qt(C):l(C,E)))var E=C,A=y}return A}function c9(e,n,l,h){var m=e.length;for(l=Se(l),l<0&&(l=-l>m?0:m+l),h=h===t||h>m?m:Se(h),h<0&&(h+=m),h=l>h?0:S0(h);l<h;)e[l++]=n;return e}function ss(e,n){var l=[];return Dn(e,function(h,m,y){n(h,m,y)&&l.push(h)}),l}function Ct(e,n,l,h,m){var y=-1,C=e.length;for(l||(l=$9),m||(m=[]);++y<C;){var E=e[y];n>0&&l(E)?n>1?Ct(E,n-1,l,h,m):In(m,E):h||(m[m.length]=E)}return m}var fl=Ls(),us=Ls(!0);function fn(e,n){return e&&fl(e,n,bt)}function cl(e,n){return e&&us(e,n,bt)}function ai(e,n){return On(n,function(l){return wn(e[l])})}function qn(e,n){n=Pn(n,e);for(var l=0,h=n.length;e!=null&&l<h;)e=e[hn(n[l++])];return l&&l==h?e:t}function as(e,n,l){var h=n(e);return we(e)?h:In(h,l(e))}function Tt(e){return e==null?e===t?be:$n:Wn&&Wn in $e(e)?J9(e):oc(e)}function hl(e,n){return e>n}function h9(e,n){return e!=null&&He.call(e,n)}function d9(e,n){return e!=null&&n in $e(e)}function p9(e,n,l){return e>=St(n,l)&&e<_t(n,l)}function dl(e,n,l){for(var h=l?Yi:qr,m=e[0].length,y=e.length,C=y,E=z(y),A=1/0,q=[];C--;){var G=e[C];C&&n&&(G=it(G,Ht(n))),A=St(G.length,A),E[C]=!l&&(n||m>=120&&G.length>=120)?new Hn(C&&G):t}G=e[0];var Q=-1,le=E[0];e:for(;++Q<m&&q.length<A;){var fe=G[Q],de=n?n(fe):fe;if(fe=l||fe!==0?fe:0,!(le?Sr(le,de):h(q,de,l))){for(C=y;--C;){var ke=E[C];if(!(ke?Sr(ke,de):h(e[C],de,l)))continue e}le&&le.push(de),q.push(fe)}}return q}function g9(e,n,l,h){return fn(e,function(m,y,C){n(h,l(m),y,C)}),h}function Rr(e,n,l){n=Pn(n,e),e=Zs(e,n);var h=e==null?e:e[hn(rn(n))];return h==null?t:xt(h,e,l)}function fs(e){return at(e)&&Tt(e)==lt}function _9(e){return at(e)&&Tt(e)==Ot}function m9(e){return at(e)&&Tt(e)==me}function Pr(e,n,l,h,m){return e===n?!0:e==null||n==null||!at(e)&&!at(n)?e!==e&&n!==n:v9(e,n,l,h,Pr,m)}function v9(e,n,l,h,m,y){var C=we(e),E=we(n),A=C?ut:kt(e),q=E?ut:kt(n);A=A==lt?Nt:A,q=q==lt?Nt:q;var G=A==Nt,Q=q==Nt,le=A==q;if(le&&Bn(e)){if(!Bn(n))return!1;C=!0,G=!1}if(le&&!G)return y||(y=new sn),C||pr(e)?Vs(e,n,l,h,m,y):G9(e,n,A,l,h,m,y);if(!(l&P)){var fe=G&&He.call(e,"__wrapped__"),de=Q&&He.call(n,"__wrapped__");if(fe||de){var ke=fe?e.value():e,pe=de?n.value():n;return y||(y=new sn),m(ke,pe,l,h,y)}}return le?(y||(y=new sn),j9(e,n,l,h,m,y)):!1}function b9(e){return at(e)&&kt(e)==vt}function pl(e,n,l,h){var m=l.length,y=m,C=!h;if(e==null)return!y;for(e=$e(e);m--;){var E=l[m];if(C&&E[2]?E[1]!==e[E[0]]:!(E[0]in e))return!1}for(;++m<y;){E=l[m];var A=E[0],q=e[A],G=E[1];if(C&&E[2]){if(q===t&&!(A in e))return!1}else{var Q=new sn;if(h)var le=h(q,G,A,e,n,Q);if(!(le===t?Pr(G,q,P|k,h,Q):le))return!1}}return!0}function cs(e){if(!ot(e)||tc(e))return!1;var n=wn(e)?bf:ua;return n.test(jn(e))}function y9(e){return at(e)&&Tt(e)==Fn}function w9(e){return at(e)&&kt(e)==Wt}function C9(e){return at(e)&&Oi(e.length)&&!!nt[Tt(e)]}function hs(e){return typeof e=="function"?e:e==null?Ft:typeof e=="object"?we(e)?gs(e[0],e[1]):ps(e):B0(e)}function gl(e){if(!zr(e))return Ef(e);var n=[];for(var l in $e(e))He.call(e,l)&&l!="constructor"&&n.push(l);return n}function S9(e){if(!ot(e))return lc(e);var n=zr(e),l=[];for(var h in e)h=="constructor"&&(n||!He.call(e,h))||l.push(h);return l}function _l(e,n){return e<n}function ds(e,n){var l=-1,h=zt(e)?z(e.length):[];return Dn(e,function(m,y,C){h[++l]=n(m,y,C)}),h}function ps(e){var n=Rl(e);return n.length==1&&n[0][2]?Ks(n[0][0],n[0][1]):function(l){return l===e||pl(l,e,n)}}function gs(e,n){return Ll(e)&&Js(n)?Ks(hn(e),n):function(l){var h=Vl(l,e);return h===t&&h===n?ql(l,e):Pr(n,h,P|k)}}function fi(e,n,l,h,m){e!==n&&fl(n,function(y,C){if(m||(m=new sn),ot(y))k9(e,n,C,l,fi,h,m);else{var E=h?h(zl(e,C),y,C+"",e,n,m):t;E===t&&(E=y),ul(e,C,E)}},Mt)}function k9(e,n,l,h,m,y,C){var E=zl(e,l),A=zl(n,l),q=C.get(A);if(q){ul(e,l,q);return}var G=y?y(E,A,l+"",e,n,C):t,Q=G===t;if(Q){var le=we(A),fe=!le&&Bn(A),de=!le&&!fe&&pr(A);G=A,le||fe||de?we(E)?G=E:ft(E)?G=Bt(E):fe?(Q=!1,G=Is(A,!0)):de?(Q=!1,G=Ts(A,!0)):G=[]:Fr(A)||Jn(A)?(G=E,Jn(E)?G=k0(E):(!ot(E)||wn(E))&&(G=js(A))):Q=!1}Q&&(C.set(A,G),m(G,A,h,y,C),C.delete(A)),ul(e,l,G)}function _s(e,n){var l=e.length;if(l)return n+=n<0?l:0,yn(n,l)?e[n]:t}function ms(e,n,l){n.length?n=it(n,function(y){return we(y)?function(C){return qn(C,y.length===1?y[0]:y)}:y}):n=[Ft];var h=-1;n=it(n,Ht(he()));var m=ds(e,function(y,C,E){var A=it(n,function(q){return q(y)});return{criteria:A,index:++h,value:y}});return Za(m,function(y,C){return F9(y,C,l)})}function E9(e,n){return vs(e,n,function(l,h){return ql(e,h)})}function vs(e,n,l){for(var h=-1,m=n.length,y={};++h<m;){var C=n[h],E=qn(e,C);l(E,C)&&Lr(y,Pn(C,e),E)}return y}function O9(e){return function(n){return qn(n,e)}}function ml(e,n,l,h){var m=h?Ya:rr,y=-1,C=n.length,E=e;for(e===n&&(n=Bt(n)),l&&(E=it(e,Ht(l)));++y<C;)for(var A=0,q=n[y],G=l?l(q):q;(A=m(E,G,A,h))>-1;)E!==e&&ei.call(E,A,1),ei.call(e,A,1);return e}function bs(e,n){for(var l=e?n.length:0,h=l-1;l--;){var m=n[l];if(l==h||m!==y){var y=m;yn(m)?ei.call(e,m,1):wl(e,m)}}return e}function vl(e,n){return e+ri($o()*(n-e+1))}function I9(e,n,l,h){for(var m=-1,y=_t(ni((n-e)/(l||1)),0),C=z(y);y--;)C[h?y:++m]=e,e+=l;return C}function bl(e,n){var l="";if(!e||n<1||n>Pe)return l;do n%2&&(l+=e),n=ri(n/2),n&&(e+=e);while(n);return l}function Ee(e,n){return Ml(Ys(e,n,Ft),e+"")}function T9(e){return ns(gr(e))}function A9(e,n){var l=gr(e);return yi(l,Vn(n,0,l.length))}function Lr(e,n,l,h){if(!ot(e))return e;n=Pn(n,e);for(var m=-1,y=n.length,C=y-1,E=e;E!=null&&++m<y;){var A=hn(n[m]),q=l;if(A==="__proto__"||A==="constructor"||A==="prototype")return e;if(m!=C){var G=E[A];q=h?h(G,A,E):t,q===t&&(q=ot(G)?G:yn(n[m+1])?[]:{})}Ar(E,A,q),E=E[A]}return e}var ys=ii?function(e,n){return ii.set(e,n),e}:Ft,D9=ti?function(e,n){return ti(e,"toString",{configurable:!0,enumerable:!1,value:jl(n),writable:!0})}:Ft;function R9(e){return yi(gr(e))}function nn(e,n,l){var h=-1,m=e.length;n<0&&(n=-n>m?0:m+n),l=l>m?m:l,l<0&&(l+=m),m=n>l?0:l-n>>>0,n>>>=0;for(var y=z(m);++h<m;)y[h]=e[h+n];return y}function P9(e,n){var l;return Dn(e,function(h,m,y){return l=n(h,m,y),!l}),!!l}function ci(e,n,l){var h=0,m=e==null?h:e.length;if(typeof n=="number"&&n===n&&m<=Te){for(;h<m;){var y=h+m>>>1,C=e[y];C!==null&&!qt(C)&&(l?C<=n:C<n)?h=y+1:m=y}return m}return yl(e,n,Ft,l)}function yl(e,n,l,h){var m=0,y=e==null?0:e.length;if(y===0)return 0;n=l(n);for(var C=n!==n,E=n===null,A=qt(n),q=n===t;m<y;){var G=ri((m+y)/2),Q=l(e[G]),le=Q!==t,fe=Q===null,de=Q===Q,ke=qt(Q);if(C)var pe=h||de;else q?pe=de&&(h||le):E?pe=de&&le&&(h||!fe):A?pe=de&&le&&!fe&&(h||!ke):fe||ke?pe=!1:pe=h?Q<=n:Q<n;pe?m=G+1:y=G}return St(y,ae)}function ws(e,n){for(var l=-1,h=e.length,m=0,y=[];++l<h;){var C=e[l],E=n?n(C):C;if(!l||!un(E,A)){var A=E;y[m++]=C===0?0:C}}return y}function Cs(e){return typeof e=="number"?e:qt(e)?Ie:+e}function Vt(e){if(typeof e=="string")return e;if(we(e))return it(e,Vt)+"";if(qt(e))return es?es.call(e):"";var n=e+"";return n=="0"&&1/e==-Ce?"-0":n}function Rn(e,n,l){var h=-1,m=qr,y=e.length,C=!0,E=[],A=E;if(l)C=!1,m=Yi;else if(y>=o){var q=n?null:V9(e);if(q)return jr(q);C=!1,m=Sr,A=new Hn}else A=n?[]:E;e:for(;++h<y;){var G=e[h],Q=n?n(G):G;if(G=l||G!==0?G:0,C&&Q===Q){for(var le=A.length;le--;)if(A[le]===Q)continue e;n&&A.push(Q),E.push(G)}else m(A,Q,l)||(A!==E&&A.push(Q),E.push(G))}return E}function wl(e,n){return n=Pn(n,e),e=Zs(e,n),e==null||delete e[hn(rn(n))]}function Ss(e,n,l,h){return Lr(e,n,l(qn(e,n)),h)}function hi(e,n,l,h){for(var m=e.length,y=h?m:-1;(h?y--:++y<m)&&n(e[y],y,e););return l?nn(e,h?0:y,h?y+1:m):nn(e,h?y+1:0,h?m:y)}function ks(e,n){var l=e;return l instanceof Re&&(l=l.value()),Zi(n,function(h,m){return m.func.apply(m.thisArg,In([h],m.args))},l)}function Cl(e,n,l){var h=e.length;if(h<2)return h?Rn(e[0]):[];for(var m=-1,y=z(h);++m<h;)for(var C=e[m],E=-1;++E<h;)E!=m&&(y[m]=Dr(y[m]||C,e[E],n,l));return Rn(Ct(y,1),n,l)}function Es(e,n,l){for(var h=-1,m=e.length,y=n.length,C={};++h<m;){var E=h<y?n[h]:t;l(C,e[h],E)}return C}function Sl(e){return ft(e)?e:[]}function kl(e){return typeof e=="function"?e:Ft}function Pn(e,n){return we(e)?e:Ll(e,n)?[e]:e0(Ne(e))}var L9=Ee;function Ln(e,n,l){var h=e.length;return l=l===t?h:l,!n&&l>=h?e:nn(e,n,l)}var Os=yf||function(e){return wt.clearTimeout(e)};function Is(e,n){if(n)return e.slice();var l=e.length,h=Ko?Ko(l):new e.constructor(l);return e.copy(h),h}function El(e){var n=new e.constructor(e.byteLength);return new Qr(n).set(new Qr(e)),n}function B9(e,n){var l=n?El(e.buffer):e.buffer;return new e.constructor(l,e.byteOffset,e.byteLength)}function z9(e){var n=new e.constructor(e.source,ao.exec(e));return n.lastIndex=e.lastIndex,n}function M9(e){return Tr?$e(Tr.call(e)):{}}function Ts(e,n){var l=n?El(e.buffer):e.buffer;return new e.constructor(l,e.byteOffset,e.length)}function As(e,n){if(e!==n){var l=e!==t,h=e===null,m=e===e,y=qt(e),C=n!==t,E=n===null,A=n===n,q=qt(n);if(!E&&!q&&!y&&e>n||y&&C&&A&&!E&&!q||h&&C&&A||!l&&A||!m)return 1;if(!h&&!y&&!q&&e<n||q&&l&&m&&!h&&!y||E&&l&&m||!C&&m||!A)return-1}return 0}function F9(e,n,l){for(var h=-1,m=e.criteria,y=n.criteria,C=m.length,E=l.length;++h<C;){var A=As(m[h],y[h]);if(A){if(h>=E)return A;var q=l[h];return A*(q=="desc"?-1:1)}}return e.index-n.index}function Ds(e,n,l,h){for(var m=-1,y=e.length,C=l.length,E=-1,A=n.length,q=_t(y-C,0),G=z(A+q),Q=!h;++E<A;)G[E]=n[E];for(;++m<C;)(Q||m<y)&&(G[l[m]]=e[m]);for(;q--;)G[E++]=e[m++];return G}function Rs(e,n,l,h){for(var m=-1,y=e.length,C=-1,E=l.length,A=-1,q=n.length,G=_t(y-E,0),Q=z(G+q),le=!h;++m<G;)Q[m]=e[m];for(var fe=m;++A<q;)Q[fe+A]=n[A];for(;++C<E;)(le||m<y)&&(Q[fe+l[C]]=e[m++]);return Q}function Bt(e,n){var l=-1,h=e.length;for(n||(n=z(h));++l<h;)n[l]=e[l];return n}function cn(e,n,l,h){var m=!l;l||(l={});for(var y=-1,C=n.length;++y<C;){var E=n[y],A=h?h(l[E],e[E],E,l,e):t;A===t&&(A=e[E]),m?mn(l,E,A):Ar(l,E,A)}return l}function U9(e,n){return cn(e,Pl(e),n)}function N9(e,n){return cn(e,qs(e),n)}function di(e,n){return function(l,h){var m=we(l)?Va:s9,y=n?n():{};return m(l,e,he(h,2),y)}}function cr(e){return Ee(function(n,l){var h=-1,m=l.length,y=m>1?l[m-1]:t,C=m>2?l[2]:t;for(y=e.length>3&&typeof y=="function"?(m--,y):t,C&&At(l[0],l[1],C)&&(y=m<3?t:y,m=1),n=$e(n);++h<m;){var E=l[h];E&&e(n,E,h,y)}return n})}function Ps(e,n){return function(l,h){if(l==null)return l;if(!zt(l))return e(l,h);for(var m=l.length,y=n?m:-1,C=$e(l);(n?y--:++y<m)&&h(C[y],y,C)!==!1;);return l}}function Ls(e){return function(n,l,h){for(var m=-1,y=$e(n),C=h(n),E=C.length;E--;){var A=C[e?E:++m];if(l(y[A],A,y)===!1)break}return n}}function W9(e,n,l){var h=n&R,m=Br(e);function y(){var C=this&&this!==wt&&this instanceof y?m:e;return C.apply(h?l:this,arguments)}return y}function Bs(e){return function(n){n=Ne(n);var l=ir(n)?on(n):t,h=l?l[0]:n.charAt(0),m=l?Ln(l,1).join(""):n.slice(1);return h[e]()+m}}function hr(e){return function(n){return Zi(P0(R0(n).replace(Aa,"")),e,"")}}function Br(e){return function(){var n=arguments;switch(n.length){case 0:return new e;case 1:return new e(n[0]);case 2:return new e(n[0],n[1]);case 3:return new e(n[0],n[1],n[2]);case 4:return new e(n[0],n[1],n[2],n[3]);case 5:return new e(n[0],n[1],n[2],n[3],n[4]);case 6:return new e(n[0],n[1],n[2],n[3],n[4],n[5]);case 7:return new e(n[0],n[1],n[2],n[3],n[4],n[5],n[6])}var l=fr(e.prototype),h=e.apply(l,n);return ot(h)?h:l}}function x9(e,n,l){var h=Br(e);function m(){for(var y=arguments.length,C=z(y),E=y,A=dr(m);E--;)C[E]=arguments[E];var q=y<3&&C[0]!==A&&C[y-1]!==A?[]:Tn(C,A);if(y-=q.length,y<l)return Ns(e,n,pi,m.placeholder,t,C,q,t,t,l-y);var G=this&&this!==wt&&this instanceof m?h:e;return xt(G,this,C)}return m}function zs(e){return function(n,l,h){var m=$e(n);if(!zt(n)){var y=he(l,3);n=bt(n),l=function(E){return y(m[E],E,m)}}var C=e(n,l,h);return C>-1?m[y?n[C]:C]:t}}function Ms(e){return bn(function(n){var l=n.length,h=l,m=en.prototype.thru;for(e&&n.reverse();h--;){var y=n[h];if(typeof y!="function")throw new $t(u);if(m&&!C&&vi(y)=="wrapper")var C=new en([],!0)}for(h=C?h:l;++h<l;){y=n[h];var E=vi(y),A=E=="wrapper"?Dl(y):t;A&&Bl(A[0])&&A[1]==(M|K|Y|B)&&!A[4].length&&A[9]==1?C=C[vi(A[0])].apply(C,A[3]):C=y.length==1&&Bl(y)?C[E]():C.thru(y)}return function(){var q=arguments,G=q[0];if(C&&q.length==1&&we(G))return C.plant(G).value();for(var Q=0,le=l?n[Q].apply(this,q):G;++Q<l;)le=n[Q].call(this,le);return le}})}function pi(e,n,l,h,m,y,C,E,A,q){var G=n&M,Q=n&R,le=n&T,fe=n&(K|L),de=n&ee,ke=le?t:Br(e);function pe(){for(var Ae=arguments.length,Le=z(Ae),Gt=Ae;Gt--;)Le[Gt]=arguments[Gt];if(fe)var Dt=dr(pe),jt=Qa(Le,Dt);if(h&&(Le=Ds(Le,h,m,fe)),y&&(Le=Rs(Le,y,C,fe)),Ae-=jt,fe&&Ae<q){var ct=Tn(Le,Dt);return Ns(e,n,pi,pe.placeholder,l,Le,ct,E,A,q-Ae)}var an=Q?l:this,Sn=le?an[e]:e;return Ae=Le.length,E?Le=sc(Le,E):de&&Ae>1&&Le.reverse(),G&&A<Ae&&(Le.length=A),this&&this!==wt&&this instanceof pe&&(Sn=ke||Br(Sn)),Sn.apply(an,Le)}return pe}function Fs(e,n){return function(l,h){return g9(l,e,n(h),{})}}function gi(e,n){return function(l,h){var m;if(l===t&&h===t)return n;if(l!==t&&(m=l),h!==t){if(m===t)return h;typeof l=="string"||typeof h=="string"?(l=Vt(l),h=Vt(h)):(l=Cs(l),h=Cs(h)),m=e(l,h)}return m}}function Ol(e){return bn(function(n){return n=it(n,Ht(he())),Ee(function(l){var h=this;return e(n,function(m){return xt(m,h,l)})})})}function _i(e,n){n=n===t?" ":Vt(n);var l=n.length;if(l<2)return l?bl(n,e):n;var h=bl(n,ni(e/lr(n)));return ir(n)?Ln(on(h),0,e).join(""):h.slice(0,e)}function H9(e,n,l,h){var m=n&R,y=Br(e);function C(){for(var E=-1,A=arguments.length,q=-1,G=h.length,Q=z(G+A),le=this&&this!==wt&&this instanceof C?y:e;++q<G;)Q[q]=h[q];for(;A--;)Q[q++]=arguments[++E];return xt(le,m?l:this,Q)}return C}function Us(e){return function(n,l,h){return h&&typeof h!="number"&&At(n,l,h)&&(l=h=t),n=Cn(n),l===t?(l=n,n=0):l=Cn(l),h=h===t?n<l?1:-1:Cn(h),I9(n,l,h,e)}}function mi(e){return function(n,l){return typeof n=="string"&&typeof l=="string"||(n=ln(n),l=ln(l)),e(n,l)}}function Ns(e,n,l,h,m,y,C,E,A,q){var G=n&K,Q=G?C:t,le=G?t:C,fe=G?y:t,de=G?t:y;n|=G?Y:N,n&=~(G?N:Y),n&F||(n&=~(R|T));var ke=[e,n,m,fe,Q,de,le,E,A,q],pe=l.apply(t,ke);return Bl(e)&&Xs(pe,ke),pe.placeholder=h,Qs(pe,e,n)}function Il(e){var n=gt[e];return function(l,h){if(l=ln(l),h=h==null?0:St(Se(h),292),h&&Qo(l)){var m=(Ne(l)+"e").split("e"),y=n(m[0]+"e"+(+m[1]+h));return m=(Ne(y)+"e").split("e"),+(m[0]+"e"+(+m[1]-h))}return n(l)}}var V9=ur&&1/jr(new ur([,-0]))[1]==Ce?function(e){return new ur(e)}:Yl;function Ws(e){return function(n){var l=kt(n);return l==vt?rl(n):l==Wt?of(n):Xa(n,e(n))}}function vn(e,n,l,h,m,y,C,E){var A=n&T;if(!A&&typeof e!="function")throw new $t(u);var q=h?h.length:0;if(q||(n&=~(Y|N),h=m=t),C=C===t?C:_t(Se(C),0),E=E===t?E:Se(E),q-=m?m.length:0,n&N){var G=h,Q=m;h=m=t}var le=A?t:Dl(e),fe=[e,n,l,h,m,G,Q,y,C,E];if(le&&ic(fe,le),e=fe[0],n=fe[1],l=fe[2],h=fe[3],m=fe[4],E=fe[9]=fe[9]===t?A?0:e.length:_t(fe[9]-q,0),!E&&n&(K|L)&&(n&=~(K|L)),!n||n==R)var de=W9(e,n,l);else n==K||n==L?de=x9(e,n,E):(n==Y||n==(R|Y))&&!m.length?de=H9(e,n,l,h):de=pi.apply(t,fe);var ke=le?ys:Xs;return Qs(ke(de,fe),e,n)}function xs(e,n,l,h){return e===t||un(e,sr[l])&&!He.call(h,l)?n:e}function Hs(e,n,l,h,m,y){return ot(e)&&ot(n)&&(y.set(n,e),fi(e,n,t,Hs,y),y.delete(n)),e}function q9(e){return Fr(e)?t:e}function Vs(e,n,l,h,m,y){var C=l&P,E=e.length,A=n.length;if(E!=A&&!(C&&A>E))return!1;var q=y.get(e),G=y.get(n);if(q&&G)return q==n&&G==e;var Q=-1,le=!0,fe=l&k?new Hn:t;for(y.set(e,n),y.set(n,e);++Q<E;){var de=e[Q],ke=n[Q];if(h)var pe=C?h(ke,de,Q,n,e,y):h(de,ke,Q,e,n,y);if(pe!==t){if(pe)continue;le=!1;break}if(fe){if(!Xi(n,function(Ae,Le){if(!Sr(fe,Le)&&(de===Ae||m(de,Ae,l,h,y)))return fe.push(Le)})){le=!1;break}}else if(!(de===ke||m(de,ke,l,h,y))){le=!1;break}}return y.delete(e),y.delete(n),le}function G9(e,n,l,h,m,y,C){switch(l){case Lt:if(e.byteLength!=n.byteLength||e.byteOffset!=n.byteOffset)return!1;e=e.buffer,n=n.buffer;case Ot:return!(e.byteLength!=n.byteLength||!y(new Qr(e),new Qr(n)));case ge:case me:case Mn:return un(+e,+n);case re:return e.name==n.name&&e.message==n.message;case Fn:case dn:return e==n+"";case vt:var E=rl;case Wt:var A=h&P;if(E||(E=jr),e.size!=n.size&&!A)return!1;var q=C.get(e);if(q)return q==n;h|=k,C.set(e,n);var G=Vs(E(e),E(n),h,m,y,C);return C.delete(e),G;case $:if(Tr)return Tr.call(e)==Tr.call(n)}return!1}function j9(e,n,l,h,m,y){var C=l&P,E=Tl(e),A=E.length,q=Tl(n),G=q.length;if(A!=G&&!C)return!1;for(var Q=A;Q--;){var le=E[Q];if(!(C?le in n:He.call(n,le)))return!1}var fe=y.get(e),de=y.get(n);if(fe&&de)return fe==n&&de==e;var ke=!0;y.set(e,n),y.set(n,e);for(var pe=C;++Q<A;){le=E[Q];var Ae=e[le],Le=n[le];if(h)var Gt=C?h(Le,Ae,le,n,e,y):h(Ae,Le,le,e,n,y);if(!(Gt===t?Ae===Le||m(Ae,Le,l,h,y):Gt)){ke=!1;break}pe||(pe=le=="constructor")}if(ke&&!pe){var Dt=e.constructor,jt=n.constructor;Dt!=jt&&"constructor"in e&&"constructor"in n&&!(typeof Dt=="function"&&Dt instanceof Dt&&typeof jt=="function"&&jt instanceof jt)&&(ke=!1)}return y.delete(e),y.delete(n),ke}function bn(e){return Ml(Ys(e,t,i0),e+"")}function Tl(e){return as(e,bt,Pl)}function Al(e){return as(e,Mt,qs)}var Dl=ii?function(e){return ii.get(e)}:Yl;function vi(e){for(var n=e.name+"",l=ar[n],h=He.call(ar,n)?l.length:0;h--;){var m=l[h],y=m.func;if(y==null||y==e)return m.name}return n}function dr(e){var n=He.call(v,"placeholder")?v:e;return n.placeholder}function he(){var e=v.iteratee||Jl;return e=e===Jl?hs:e,arguments.length?e(arguments[0],arguments[1]):e}function bi(e,n){var l=e.__data__;return ec(n)?l[typeof n=="string"?"string":"hash"]:l.map}function Rl(e){for(var n=bt(e),l=n.length;l--;){var h=n[l],m=e[h];n[l]=[h,m,Js(m)]}return n}function Gn(e,n){var l=nf(e,n);return cs(l)?l:t}function J9(e){var n=He.call(e,Wn),l=e[Wn];try{e[Wn]=t;var h=!0}catch{}var m=Zr.call(e);return h&&(n?e[Wn]=l:delete e[Wn]),m}var Pl=ll?function(e){return e==null?[]:(e=$e(e),On(ll(e),function(n){return Zo.call(e,n)}))}:Zl,qs=ll?function(e){for(var n=[];e;)In(n,Pl(e)),e=$r(e);return n}:Zl,kt=Tt;(ol&&kt(new ol(new ArrayBuffer(1)))!=Lt||Er&&kt(new Er)!=vt||sl&&kt(sl.resolve())!=Wr||ur&&kt(new ur)!=Wt||Or&&kt(new Or)!=Pt)&&(kt=function(e){var n=Tt(e),l=n==Nt?e.constructor:t,h=l?jn(l):"";if(h)switch(h){case Af:return Lt;case Df:return vt;case Rf:return Wr;case Pf:return Wt;case Lf:return Pt}return n});function K9(e,n,l){for(var h=-1,m=l.length;++h<m;){var y=l[h],C=y.size;switch(y.type){case"drop":e+=C;break;case"dropRight":n-=C;break;case"take":n=St(n,e+C);break;case"takeRight":e=_t(e,n-C);break}}return{start:e,end:n}}function Y9(e){var n=e.match(ea);return n?n[1].split(ta):[]}function Gs(e,n,l){n=Pn(n,e);for(var h=-1,m=n.length,y=!1;++h<m;){var C=hn(n[h]);if(!(y=e!=null&&l(e,C)))break;e=e[C]}return y||++h!=m?y:(m=e==null?0:e.length,!!m&&Oi(m)&&yn(C,m)&&(we(e)||Jn(e)))}function Z9(e){var n=e.length,l=new e.constructor(n);return n&&typeof e[0]=="string"&&He.call(e,"index")&&(l.index=e.index,l.input=e.input),l}function js(e){return typeof e.constructor=="function"&&!zr(e)?fr($r(e)):{}}function X9(e,n,l){var h=e.constructor;switch(n){case Ot:return El(e);case ge:case me:return new h(+e);case Lt:return B9(e,l);case It:case tr:case pn:case Un:case zi:case Mi:case Fi:case Ui:case Ni:return Ts(e,l);case vt:return new h;case Mn:case dn:return new h(e);case Fn:return z9(e);case Wt:return new h;case $:return M9(e)}}function Q9(e,n){var l=n.length;if(!l)return e;var h=l-1;return n[h]=(l>1?"& ":"")+n[h],n=n.join(l>2?", ":" "),e.replace($u,`{
/* [wrapped with `+n+`] */
`)}function $9(e){return we(e)||Jn(e)||!!(Xo&&e&&e[Xo])}function yn(e,n){var l=typeof e;return n=n??Pe,!!n&&(l=="number"||l!="symbol"&&fa.test(e))&&e>-1&&e%1==0&&e<n}function At(e,n,l){if(!ot(l))return!1;var h=typeof n;return(h=="number"?zt(l)&&yn(n,l.length):h=="string"&&n in l)?un(l[n],e):!1}function Ll(e,n){if(we(e))return!1;var l=typeof e;return l=="number"||l=="symbol"||l=="boolean"||e==null||qt(e)?!0:Yu.test(e)||!Ku.test(e)||n!=null&&e in $e(n)}function ec(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}function Bl(e){var n=vi(e),l=v[n];if(typeof l!="function"||!(n in Re.prototype))return!1;if(e===l)return!0;var h=Dl(l);return!!h&&e===h[0]}function tc(e){return!!Jo&&Jo in e}var nc=Kr?wn:Xl;function zr(e){var n=e&&e.constructor,l=typeof n=="function"&&n.prototype||sr;return e===l}function Js(e){return e===e&&!ot(e)}function Ks(e,n){return function(l){return l==null?!1:l[e]===n&&(n!==t||e in $e(l))}}function rc(e){var n=ki(e,function(h){return l.size===d&&l.clear(),h}),l=n.cache;return n}function ic(e,n){var l=e[1],h=n[1],m=l|h,y=m<(R|T|M),C=h==M&&l==K||h==M&&l==B&&e[7].length<=n[8]||h==(M|B)&&n[7].length<=n[8]&&l==K;if(!(y||C))return e;h&R&&(e[2]=n[2],m|=l&R?0:F);var E=n[3];if(E){var A=e[3];e[3]=A?Ds(A,E,n[4]):E,e[4]=A?Tn(e[3],g):n[4]}return E=n[5],E&&(A=e[5],e[5]=A?Rs(A,E,n[6]):E,e[6]=A?Tn(e[5],g):n[6]),E=n[7],E&&(e[7]=E),h&M&&(e[8]=e[8]==null?n[8]:St(e[8],n[8])),e[9]==null&&(e[9]=n[9]),e[0]=n[0],e[1]=m,e}function lc(e){var n=[];if(e!=null)for(var l in $e(e))n.push(l);return n}function oc(e){return Zr.call(e)}function Ys(e,n,l){return n=_t(n===t?e.length-1:n,0),function(){for(var h=arguments,m=-1,y=_t(h.length-n,0),C=z(y);++m<y;)C[m]=h[n+m];m=-1;for(var E=z(n+1);++m<n;)E[m]=h[m];return E[n]=l(C),xt(e,this,E)}}function Zs(e,n){return n.length<2?e:qn(e,nn(n,0,-1))}function sc(e,n){for(var l=e.length,h=St(n.length,l),m=Bt(e);h--;){var y=n[h];e[h]=yn(y,l)?m[y]:t}return e}function zl(e,n){if(!(n==="constructor"&&typeof e[n]=="function")&&n!="__proto__")return e[n]}var Xs=$s(ys),Mr=Cf||function(e,n){return wt.setTimeout(e,n)},Ml=$s(D9);function Qs(e,n,l){var h=n+"";return Ml(e,Q9(h,uc(Y9(h),l)))}function $s(e){var n=0,l=0;return function(){var h=Of(),m=ve-(h-l);if(l=h,m>0){if(++n>=U)return arguments[0]}else n=0;return e.apply(t,arguments)}}function yi(e,n){var l=-1,h=e.length,m=h-1;for(n=n===t?h:n;++l<n;){var y=vl(l,m),C=e[y];e[y]=e[l],e[l]=C}return e.length=n,e}var e0=rc(function(e){var n=[];return e.charCodeAt(0)===46&&n.push(""),e.replace(Zu,function(l,h,m,y){n.push(m?y.replace(ia,"$1"):h||l)}),n});function hn(e){if(typeof e=="string"||qt(e))return e;var n=e+"";return n=="0"&&1/e==-Ce?"-0":n}function jn(e){if(e!=null){try{return Yr.call(e)}catch{}try{return e+""}catch{}}return""}function uc(e,n){return Qt(Ke,function(l){var h="_."+l[0];n&l[1]&&!qr(e,h)&&e.push(h)}),e.sort()}function t0(e){if(e instanceof Re)return e.clone();var n=new en(e.__wrapped__,e.__chain__);return n.__actions__=Bt(e.__actions__),n.__index__=e.__index__,n.__values__=e.__values__,n}function ac(e,n,l){(l?At(e,n,l):n===t)?n=1:n=_t(Se(n),0);var h=e==null?0:e.length;if(!h||n<1)return[];for(var m=0,y=0,C=z(ni(h/n));m<h;)C[y++]=nn(e,m,m+=n);return C}function fc(e){for(var n=-1,l=e==null?0:e.length,h=0,m=[];++n<l;){var y=e[n];y&&(m[h++]=y)}return m}function cc(){var e=arguments.length;if(!e)return[];for(var n=z(e-1),l=arguments[0],h=e;h--;)n[h-1]=arguments[h];return In(we(l)?Bt(l):[l],Ct(n,1))}var hc=Ee(function(e,n){return ft(e)?Dr(e,Ct(n,1,ft,!0)):[]}),dc=Ee(function(e,n){var l=rn(n);return ft(l)&&(l=t),ft(e)?Dr(e,Ct(n,1,ft,!0),he(l,2)):[]}),gc=Ee(function(e,n){var l=rn(n);return ft(l)&&(l=t),ft(e)?Dr(e,Ct(n,1,ft,!0),t,l):[]});function _c(e,n,l){var h=e==null?0:e.length;return h?(n=l||n===t?1:Se(n),nn(e,n<0?0:n,h)):[]}function mc(e,n,l){var h=e==null?0:e.length;return h?(n=l||n===t?1:Se(n),n=h-n,nn(e,0,n<0?0:n)):[]}function vc(e,n){return e&&e.length?hi(e,he(n,3),!0,!0):[]}function bc(e,n){return e&&e.length?hi(e,he(n,3),!0):[]}function yc(e,n,l,h){var m=e==null?0:e.length;return m?(l&&typeof l!="number"&&At(e,n,l)&&(l=0,h=m),c9(e,n,l,h)):[]}function n0(e,n,l){var h=e==null?0:e.length;if(!h)return-1;var m=l==null?0:Se(l);return m<0&&(m=_t(h+m,0)),Gr(e,he(n,3),m)}function r0(e,n,l){var h=e==null?0:e.length;if(!h)return-1;var m=h-1;return l!==t&&(m=Se(l),m=l<0?_t(h+m,0):St(m,h-1)),Gr(e,he(n,3),m,!0)}function i0(e){var n=e==null?0:e.length;return n?Ct(e,1):[]}function wc(e){var n=e==null?0:e.length;return n?Ct(e,Ce):[]}function Cc(e,n){var l=e==null?0:e.length;return l?(n=n===t?1:Se(n),Ct(e,n)):[]}function Sc(e){for(var n=-1,l=e==null?0:e.length,h={};++n<l;){var m=e[n];h[m[0]]=m[1]}return h}function l0(e){return e&&e.length?e[0]:t}function kc(e,n,l){var h=e==null?0:e.length;if(!h)return-1;var m=l==null?0:Se(l);return m<0&&(m=_t(h+m,0)),rr(e,n,m)}function Ec(e){var n=e==null?0:e.length;return n?nn(e,0,-1):[]}var Oc=Ee(function(e){var n=it(e,Sl);return n.length&&n[0]===e[0]?dl(n):[]}),Ic=Ee(function(e){var n=rn(e),l=it(e,Sl);return n===rn(l)?n=t:l.pop(),l.length&&l[0]===e[0]?dl(l,he(n,2)):[]}),Tc=Ee(function(e){var n=rn(e),l=it(e,Sl);return n=typeof n=="function"?n:t,n&&l.pop(),l.length&&l[0]===e[0]?dl(l,t,n):[]});function Ac(e,n){return e==null?"":kf.call(e,n)}function rn(e){var n=e==null?0:e.length;return n?e[n-1]:t}function Dc(e,n,l){var h=e==null?0:e.length;if(!h)return-1;var m=h;return l!==t&&(m=Se(l),m=m<0?_t(h+m,0):St(m,h-1)),n===n?uf(e,n,m):Gr(e,No,m,!0)}function Rc(e,n){return e&&e.length?_s(e,Se(n)):t}var Pc=Ee(o0);function o0(e,n){return e&&e.length&&n&&n.length?ml(e,n):e}function Lc(e,n,l){return e&&e.length&&n&&n.length?ml(e,n,he(l,2)):e}function Bc(e,n,l){return e&&e.length&&n&&n.length?ml(e,n,t,l):e}var zc=bn(function(e,n){var l=e==null?0:e.length,h=al(e,n);return bs(e,it(n,function(m){return yn(m,l)?+m:m}).sort(As)),h});function Mc(e,n){var l=[];if(!(e&&e.length))return l;var h=-1,m=[],y=e.length;for(n=he(n,3);++h<y;){var C=e[h];n(C,h,e)&&(l.push(C),m.push(h))}return bs(e,m),l}function Fl(e){return e==null?e:Tf.call(e)}function Fc(e,n,l){var h=e==null?0:e.length;return h?(l&&typeof l!="number"&&At(e,n,l)?(n=0,l=h):(n=n==null?0:Se(n),l=l===t?h:Se(l)),nn(e,n,l)):[]}function Uc(e,n){return ci(e,n)}function Nc(e,n,l){return yl(e,n,he(l,2))}function Wc(e,n){var l=e==null?0:e.length;if(l){var h=ci(e,n);if(h<l&&un(e[h],n))return h}return-1}function xc(e,n){return ci(e,n,!0)}function Hc(e,n,l){return yl(e,n,he(l,2),!0)}function Vc(e,n){var l=e==null?0:e.length;if(l){var h=ci(e,n,!0)-1;if(un(e[h],n))return h}return-1}function qc(e){return e&&e.length?ws(e):[]}function Gc(e,n){return e&&e.length?ws(e,he(n,2)):[]}function jc(e){var n=e==null?0:e.length;return n?nn(e,1,n):[]}function Jc(e,n,l){return e&&e.length?(n=l||n===t?1:Se(n),nn(e,0,n<0?0:n)):[]}function Kc(e,n,l){var h=e==null?0:e.length;return h?(n=l||n===t?1:Se(n),n=h-n,nn(e,n<0?0:n,h)):[]}function Yc(e,n){return e&&e.length?hi(e,he(n,3),!1,!0):[]}function Zc(e,n){return e&&e.length?hi(e,he(n,3)):[]}var Xc=Ee(function(e){return Rn(Ct(e,1,ft,!0))}),Qc=Ee(function(e){var n=rn(e);return ft(n)&&(n=t),Rn(Ct(e,1,ft,!0),he(n,2))}),$c=Ee(function(e){var n=rn(e);return n=typeof n=="function"?n:t,Rn(Ct(e,1,ft,!0),t,n)});function eh(e){return e&&e.length?Rn(e):[]}function th(e,n){return e&&e.length?Rn(e,he(n,2)):[]}function nh(e,n){return n=typeof n=="function"?n:t,e&&e.length?Rn(e,t,n):[]}function Ul(e){if(!(e&&e.length))return[];var n=0;return e=On(e,function(l){if(ft(l))return n=_t(l.length,n),!0}),tl(n,function(l){return it(e,Qi(l))})}function s0(e,n){if(!(e&&e.length))return[];var l=Ul(e);return n==null?l:it(l,function(h){return xt(n,t,h)})}var rh=Ee(function(e,n){return ft(e)?Dr(e,n):[]}),ih=Ee(function(e){return Cl(On(e,ft))}),lh=Ee(function(e){var n=rn(e);return ft(n)&&(n=t),Cl(On(e,ft),he(n,2))}),oh=Ee(function(e){var n=rn(e);return n=typeof n=="function"?n:t,Cl(On(e,ft),t,n)}),sh=Ee(Ul);function uh(e,n){return Es(e||[],n||[],Ar)}function ah(e,n){return Es(e||[],n||[],Lr)}var fh=Ee(function(e){var n=e.length,l=n>1?e[n-1]:t;return l=typeof l=="function"?(e.pop(),l):t,s0(e,l)});function u0(e){var n=v(e);return n.__chain__=!0,n}function ch(e,n){return n(e),e}function wi(e,n){return n(e)}var hh=bn(function(e){var n=e.length,l=n?e[0]:0,h=this.__wrapped__,m=function(y){return al(y,e)};return n>1||this.__actions__.length||!(h instanceof Re)||!yn(l)?this.thru(m):(h=h.slice(l,+l+(n?1:0)),h.__actions__.push({func:wi,args:[m],thisArg:t}),new en(h,this.__chain__).thru(function(y){return n&&!y.length&&y.push(t),y}))});function dh(){return u0(this)}function ph(){return new en(this.value(),this.__chain__)}function gh(){this.__values__===t&&(this.__values__=C0(this.value()));var e=this.__index__>=this.__values__.length,n=e?t:this.__values__[this.__index__++];return{done:e,value:n}}function _h(){return this}function mh(e){for(var n,l=this;l instanceof oi;){var h=t0(l);h.__index__=0,h.__values__=t,n?m.__wrapped__=h:n=h;var m=h;l=l.__wrapped__}return m.__wrapped__=e,n}function vh(){var e=this.__wrapped__;if(e instanceof Re){var n=e;return this.__actions__.length&&(n=new Re(this)),n=n.reverse(),n.__actions__.push({func:wi,args:[Fl],thisArg:t}),new en(n,this.__chain__)}return this.thru(Fl)}function bh(){return ks(this.__wrapped__,this.__actions__)}var yh=di(function(e,n,l){He.call(e,l)?++e[l]:mn(e,l,1)});function wh(e,n,l){var h=we(e)?Fo:f9;return l&&At(e,n,l)&&(n=t),h(e,he(n,3))}function Ch(e,n){var l=we(e)?On:ss;return l(e,he(n,3))}var Sh=zs(n0),kh=zs(r0);function Eh(e,n){return Ct(Ci(e,n),1)}function Oh(e,n){return Ct(Ci(e,n),Ce)}function Ih(e,n,l){return l=l===t?1:Se(l),Ct(Ci(e,n),l)}function a0(e,n){var l=we(e)?Qt:Dn;return l(e,he(n,3))}function f0(e,n){var l=we(e)?qa:os;return l(e,he(n,3))}var Th=di(function(e,n,l){He.call(e,l)?e[l].push(n):mn(e,l,[n])});function Ah(e,n,l,h){e=zt(e)?e:gr(e),l=l&&!h?Se(l):0;var m=e.length;return l<0&&(l=_t(m+l,0)),Ii(e)?l<=m&&e.indexOf(n,l)>-1:!!m&&rr(e,n,l)>-1}var Dh=Ee(function(e,n,l){var h=-1,m=typeof n=="function",y=zt(e)?z(e.length):[];return Dn(e,function(C){y[++h]=m?xt(n,C,l):Rr(C,n,l)}),y}),Rh=di(function(e,n,l){mn(e,l,n)});function Ci(e,n){var l=we(e)?it:ds;return l(e,he(n,3))}function Ph(e,n,l,h){return e==null?[]:(we(n)||(n=n==null?[]:[n]),l=h?t:l,we(l)||(l=l==null?[]:[l]),ms(e,n,l))}var Lh=di(function(e,n,l){e[l?0:1].push(n)},function(){return[[],[]]});function Bh(e,n,l){var h=we(e)?Zi:xo,m=arguments.length<3;return h(e,he(n,4),l,m,Dn)}function zh(e,n,l){var h=we(e)?Ga:xo,m=arguments.length<3;return h(e,he(n,4),l,m,os)}function Mh(e,n){var l=we(e)?On:ss;return l(e,Ei(he(n,3)))}function Fh(e){var n=we(e)?ns:T9;return n(e)}function Uh(e,n,l){(l?At(e,n,l):n===t)?n=1:n=Se(n);var h=we(e)?l9:A9;return h(e,n)}function Nh(e){var n=we(e)?o9:R9;return n(e)}function Wh(e){if(e==null)return 0;if(zt(e))return Ii(e)?lr(e):e.length;var n=kt(e);return n==vt||n==Wt?e.size:gl(e).length}function xh(e,n,l){var h=we(e)?Xi:P9;return l&&At(e,n,l)&&(n=t),h(e,he(n,3))}var Hh=Ee(function(e,n){if(e==null)return[];var l=n.length;return l>1&&At(e,n[0],n[1])?n=[]:l>2&&At(n[0],n[1],n[2])&&(n=[n[0]]),ms(e,Ct(n,1),[])}),Si=wf||function(){return wt.Date.now()};function Vh(e,n){if(typeof n!="function")throw new $t(u);return e=Se(e),function(){if(--e<1)return n.apply(this,arguments)}}function c0(e,n,l){return n=l?t:n,n=e&&n==null?e.length:n,vn(e,M,t,t,t,t,n)}function h0(e,n){var l;if(typeof n!="function")throw new $t(u);return e=Se(e),function(){return--e>0&&(l=n.apply(this,arguments)),e<=1&&(n=t),l}}var Nl=Ee(function(e,n,l){var h=R;if(l.length){var m=Tn(l,dr(Nl));h|=Y}return vn(e,h,n,l,m)}),d0=Ee(function(e,n,l){var h=R|T;if(l.length){var m=Tn(l,dr(d0));h|=Y}return vn(n,h,e,l,m)});function p0(e,n,l){n=l?t:n;var h=vn(e,K,t,t,t,t,t,n);return h.placeholder=p0.placeholder,h}function g0(e,n,l){n=l?t:n;var h=vn(e,L,t,t,t,t,t,n);return h.placeholder=g0.placeholder,h}function _0(e,n,l){var h,m,y,C,E,A,q=0,G=!1,Q=!1,le=!0;if(typeof e!="function")throw new $t(u);n=ln(n)||0,ot(l)&&(G=!!l.leading,Q="maxWait"in l,y=Q?_t(ln(l.maxWait)||0,n):y,le="trailing"in l?!!l.trailing:le);function fe(ct){var an=h,Sn=m;return h=m=t,q=ct,C=e.apply(Sn,an),C}function de(ct){return q=ct,E=Mr(Ae,n),G?fe(ct):C}function ke(ct){var an=ct-A,Sn=ct-q,z0=n-an;return Q?St(z0,y-Sn):z0}function pe(ct){var an=ct-A,Sn=ct-q;return A===t||an>=n||an<0||Q&&Sn>=y}function Ae(){var ct=Si();if(pe(ct))return Le(ct);E=Mr(Ae,ke(ct))}function Le(ct){return E=t,le&&h?fe(ct):(h=m=t,C)}function Gt(){E!==t&&Os(E),q=0,h=A=m=E=t}function Dt(){return E===t?C:Le(Si())}function jt(){var ct=Si(),an=pe(ct);if(h=arguments,m=this,A=ct,an){if(E===t)return de(A);if(Q)return Os(E),E=Mr(Ae,n),fe(A)}return E===t&&(E=Mr(Ae,n)),C}return jt.cancel=Gt,jt.flush=Dt,jt}var qh=Ee(function(e,n){return ls(e,1,n)}),Gh=Ee(function(e,n,l){return ls(e,ln(n)||0,l)});function jh(e){return vn(e,ee)}function ki(e,n){if(typeof e!="function"||n!=null&&typeof n!="function")throw new $t(u);var l=function(){var h=arguments,m=n?n.apply(this,h):h[0],y=l.cache;if(y.has(m))return y.get(m);var C=e.apply(this,h);return l.cache=y.set(m,C)||y,C};return l.cache=new(ki.Cache||_n),l}ki.Cache=_n;function Ei(e){if(typeof e!="function")throw new $t(u);return function(){var n=arguments;switch(n.length){case 0:return!e.call(this);case 1:return!e.call(this,n[0]);case 2:return!e.call(this,n[0],n[1]);case 3:return!e.call(this,n[0],n[1],n[2])}return!e.apply(this,n)}}function Jh(e){return h0(2,e)}var Kh=L9(function(e,n){n=n.length==1&&we(n[0])?it(n[0],Ht(he())):it(Ct(n,1),Ht(he()));var l=n.length;return Ee(function(h){for(var m=-1,y=St(h.length,l);++m<y;)h[m]=n[m].call(this,h[m]);return xt(e,this,h)})}),Wl=Ee(function(e,n){var l=Tn(n,dr(Wl));return vn(e,Y,t,n,l)}),m0=Ee(function(e,n){var l=Tn(n,dr(m0));return vn(e,N,t,n,l)}),Yh=bn(function(e,n){return vn(e,B,t,t,t,n)});function Zh(e,n){if(typeof e!="function")throw new $t(u);return n=n===t?n:Se(n),Ee(e,n)}function Xh(e,n){if(typeof e!="function")throw new $t(u);return n=n==null?0:_t(Se(n),0),Ee(function(l){var h=l[n],m=Ln(l,0,n);return h&&In(m,h),xt(e,this,m)})}function Qh(e,n,l){var h=!0,m=!0;if(typeof e!="function")throw new $t(u);return ot(l)&&(h="leading"in l?!!l.leading:h,m="trailing"in l?!!l.trailing:m),_0(e,n,{leading:h,maxWait:n,trailing:m})}function $h(e){return c0(e,1)}function ed(e,n){return Wl(kl(n),e)}function td(){if(!arguments.length)return[];var e=arguments[0];return we(e)?e:[e]}function nd(e){return tn(e,b)}function rd(e,n){return n=typeof n=="function"?n:t,tn(e,b,n)}function id(e){return tn(e,p|b)}function ld(e,n){return n=typeof n=="function"?n:t,tn(e,p|b,n)}function od(e,n){return n==null||is(e,n,bt(n))}function un(e,n){return e===n||e!==e&&n!==n}var sd=mi(hl),ud=mi(function(e,n){return e>=n}),Jn=fs(function(){return arguments}())?fs:function(e){return at(e)&&He.call(e,"callee")&&!Zo.call(e,"callee")},we=z.isArray,ad=Ro?Ht(Ro):_9;function zt(e){return e!=null&&Oi(e.length)&&!wn(e)}function ft(e){return at(e)&&zt(e)}function fd(e){return e===!0||e===!1||at(e)&&Tt(e)==ge}var Bn=Sf||Xl,cd=Po?Ht(Po):m9;function hd(e){return at(e)&&e.nodeType===1&&!Fr(e)}function dd(e){if(e==null)return!0;if(zt(e)&&(we(e)||typeof e=="string"||typeof e.splice=="function"||Bn(e)||pr(e)||Jn(e)))return!e.length;var n=kt(e);if(n==vt||n==Wt)return!e.size;if(zr(e))return!gl(e).length;for(var l in e)if(He.call(e,l))return!1;return!0}function pd(e,n){return Pr(e,n)}function gd(e,n,l){l=typeof l=="function"?l:t;var h=l?l(e,n):t;return h===t?Pr(e,n,t,l):!!h}function xl(e){if(!at(e))return!1;var n=Tt(e);return n==re||n==Zt||typeof e.message=="string"&&typeof e.name=="string"&&!Fr(e)}function _d(e){return typeof e=="number"&&Qo(e)}function wn(e){if(!ot(e))return!1;var n=Tt(e);return n==pt||n==tt||n==Ue||n==er}function v0(e){return typeof e=="number"&&e==Se(e)}function Oi(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Pe}function ot(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}function at(e){return e!=null&&typeof e=="object"}var b0=Lo?Ht(Lo):b9;function md(e,n){return e===n||pl(e,n,Rl(n))}function vd(e,n,l){return l=typeof l=="function"?l:t,pl(e,n,Rl(n),l)}function bd(e){return y0(e)&&e!=+e}function yd(e){if(nc(e))throw new ye(a);return cs(e)}function wd(e){return e===null}function Cd(e){return e==null}function y0(e){return typeof e=="number"||at(e)&&Tt(e)==Mn}function Fr(e){if(!at(e)||Tt(e)!=Nt)return!1;var n=$r(e);if(n===null)return!0;var l=He.call(n,"constructor")&&n.constructor;return typeof l=="function"&&l instanceof l&&Yr.call(l)==mf}var Hl=Bo?Ht(Bo):y9;function Sd(e){return v0(e)&&e>=-Pe&&e<=Pe}var w0=zo?Ht(zo):w9;function Ii(e){return typeof e=="string"||!we(e)&&at(e)&&Tt(e)==dn}function qt(e){return typeof e=="symbol"||at(e)&&Tt(e)==$}var pr=Mo?Ht(Mo):C9;function kd(e){return e===t}function Ed(e){return at(e)&&kt(e)==Pt}function Od(e){return at(e)&&Tt(e)==En}var Id=mi(_l),Td=mi(function(e,n){return e<=n});function C0(e){if(!e)return[];if(zt(e))return Ii(e)?on(e):Bt(e);if(kr&&e[kr])return lf(e[kr]());var n=kt(e),l=n==vt?rl:n==Wt?jr:gr;return l(e)}function Cn(e){if(!e)return e===0?e:0;if(e=ln(e),e===Ce||e===-Ce){var n=e<0?-1:1;return n*rt}return e===e?e:0}function Se(e){var n=Cn(e),l=n%1;return n===n?l?n-l:n:0}function S0(e){return e?Vn(Se(e),0,_e):0}function ln(e){if(typeof e=="number")return e;if(qt(e))return Ie;if(ot(e)){var n=typeof e.valueOf=="function"?e.valueOf():e;e=ot(n)?n+"":n}if(typeof e!="string")return e===0?e:+e;e=Ho(e);var l=sa.test(e);return l||aa.test(e)?xa(e.slice(2),l?2:8):oa.test(e)?Ie:+e}function k0(e){return cn(e,Mt(e))}function Ad(e){return e?Vn(Se(e),-Pe,Pe):e===0?e:0}function Ne(e){return e==null?"":Vt(e)}var Dd=cr(function(e,n){if(zr(n)||zt(n)){cn(n,bt(n),e);return}for(var l in n)He.call(n,l)&&Ar(e,l,n[l])}),E0=cr(function(e,n){cn(n,Mt(n),e)}),Ti=cr(function(e,n,l,h){cn(n,Mt(n),e,h)}),Rd=cr(function(e,n,l,h){cn(n,bt(n),e,h)}),Pd=bn(al);function Ld(e,n){var l=fr(e);return n==null?l:rs(l,n)}var Bd=Ee(function(e,n){e=$e(e);var l=-1,h=n.length,m=h>2?n[2]:t;for(m&&At(n[0],n[1],m)&&(h=1);++l<h;)for(var y=n[l],C=Mt(y),E=-1,A=C.length;++E<A;){var q=C[E],G=e[q];(G===t||un(G,sr[q])&&!He.call(e,q))&&(e[q]=y[q])}return e}),zd=Ee(function(e){return e.push(t,Hs),xt(O0,t,e)});function Md(e,n){return Uo(e,he(n,3),fn)}function Fd(e,n){return Uo(e,he(n,3),cl)}function Ud(e,n){return e==null?e:fl(e,he(n,3),Mt)}function Nd(e,n){return e==null?e:us(e,he(n,3),Mt)}function Wd(e,n){return e&&fn(e,he(n,3))}function xd(e,n){return e&&cl(e,he(n,3))}function Hd(e){return e==null?[]:ai(e,bt(e))}function Vd(e){return e==null?[]:ai(e,Mt(e))}function Vl(e,n,l){var h=e==null?t:qn(e,n);return h===t?l:h}function qd(e,n){return e!=null&&Gs(e,n,h9)}function ql(e,n){return e!=null&&Gs(e,n,d9)}var Gd=Fs(function(e,n,l){n!=null&&typeof n.toString!="function"&&(n=Zr.call(n)),e[n]=l},jl(Ft)),jd=Fs(function(e,n,l){n!=null&&typeof n.toString!="function"&&(n=Zr.call(n)),He.call(e,n)?e[n].push(l):e[n]=[l]},he),Jd=Ee(Rr);function bt(e){return zt(e)?ts(e):gl(e)}function Mt(e){return zt(e)?ts(e,!0):S9(e)}function Kd(e,n){var l={};return n=he(n,3),fn(e,function(h,m,y){mn(l,n(h,m,y),h)}),l}function Yd(e,n){var l={};return n=he(n,3),fn(e,function(h,m,y){mn(l,m,n(h,m,y))}),l}var Zd=cr(function(e,n,l){fi(e,n,l)}),O0=cr(function(e,n,l,h){fi(e,n,l,h)}),Xd=bn(function(e,n){var l={};if(e==null)return l;var h=!1;n=it(n,function(y){return y=Pn(y,e),h||(h=y.length>1),y}),cn(e,Al(e),l),h&&(l=tn(l,p|_|b,q9));for(var m=n.length;m--;)wl(l,n[m]);return l});function Qd(e,n){return I0(e,Ei(he(n)))}var $d=bn(function(e,n){return e==null?{}:E9(e,n)});function I0(e,n){if(e==null)return{};var l=it(Al(e),function(h){return[h]});return n=he(n),vs(e,l,function(h,m){return n(h,m[0])})}function ep(e,n,l){n=Pn(n,e);var h=-1,m=n.length;for(m||(m=1,e=t);++h<m;){var y=e==null?t:e[hn(n[h])];y===t&&(h=m,y=l),e=wn(y)?y.call(e):y}return e}function tp(e,n,l){return e==null?e:Lr(e,n,l)}function np(e,n,l,h){return h=typeof h=="function"?h:t,e==null?e:Lr(e,n,l,h)}var T0=Ws(bt),A0=Ws(Mt);function rp(e,n,l){var h=we(e),m=h||Bn(e)||pr(e);if(n=he(n,4),l==null){var y=e&&e.constructor;m?l=h?new y:[]:ot(e)?l=wn(y)?fr($r(e)):{}:l={}}return(m?Qt:fn)(e,function(C,E,A){return n(l,C,E,A)}),l}function ip(e,n){return e==null?!0:wl(e,n)}function lp(e,n,l){return e==null?e:Ss(e,n,kl(l))}function op(e,n,l,h){return h=typeof h=="function"?h:t,e==null?e:Ss(e,n,kl(l),h)}function gr(e){return e==null?[]:nl(e,bt(e))}function sp(e){return e==null?[]:nl(e,Mt(e))}function up(e,n,l){return l===t&&(l=n,n=t),l!==t&&(l=ln(l),l=l===l?l:0),n!==t&&(n=ln(n),n=n===n?n:0),Vn(ln(e),n,l)}function ap(e,n,l){return n=Cn(n),l===t?(l=n,n=0):l=Cn(l),e=ln(e),p9(e,n,l)}function fp(e,n,l){if(l&&typeof l!="boolean"&&At(e,n,l)&&(n=l=t),l===t&&(typeof n=="boolean"?(l=n,n=t):typeof e=="boolean"&&(l=e,e=t)),e===t&&n===t?(e=0,n=1):(e=Cn(e),n===t?(n=e,e=0):n=Cn(n)),e>n){var h=e;e=n,n=h}if(l||e%1||n%1){var m=$o();return St(e+m*(n-e+Wa("1e-"+((m+"").length-1))),n)}return vl(e,n)}var cp=hr(function(e,n,l){return n=n.toLowerCase(),e+(l?D0(n):n)});function D0(e){return Gl(Ne(e).toLowerCase())}function R0(e){return e=Ne(e),e&&e.replace(ca,$a).replace(Da,"")}function hp(e,n,l){e=Ne(e),n=Vt(n);var h=e.length;l=l===t?h:Vn(Se(l),0,h);var m=l;return l-=n.length,l>=0&&e.slice(l,m)==n}function dp(e){return e=Ne(e),e&&Gu.test(e)?e.replace(so,ef):e}function pp(e){return e=Ne(e),e&&Xu.test(e)?e.replace(Wi,"\\$&"):e}var gp=hr(function(e,n,l){return e+(l?"-":"")+n.toLowerCase()}),_p=hr(function(e,n,l){return e+(l?" ":"")+n.toLowerCase()}),mp=Bs("toLowerCase");function vp(e,n,l){e=Ne(e),n=Se(n);var h=n?lr(e):0;if(!n||h>=n)return e;var m=(n-h)/2;return _i(ri(m),l)+e+_i(ni(m),l)}function bp(e,n,l){e=Ne(e),n=Se(n);var h=n?lr(e):0;return n&&h<n?e+_i(n-h,l):e}function yp(e,n,l){e=Ne(e),n=Se(n);var h=n?lr(e):0;return n&&h<n?_i(n-h,l)+e:e}function wp(e,n,l){return l||n==null?n=0:n&&(n=+n),If(Ne(e).replace(xi,""),n||0)}function Cp(e,n,l){return(l?At(e,n,l):n===t)?n=1:n=Se(n),bl(Ne(e),n)}function Sp(){var e=arguments,n=Ne(e[0]);return e.length<3?n:n.replace(e[1],e[2])}var kp=hr(function(e,n,l){return e+(l?"_":"")+n.toLowerCase()});function Ep(e,n,l){return l&&typeof l!="number"&&At(e,n,l)&&(n=l=t),l=l===t?_e:l>>>0,l?(e=Ne(e),e&&(typeof n=="string"||n!=null&&!Hl(n))&&(n=Vt(n),!n&&ir(e))?Ln(on(e),0,l):e.split(n,l)):[]}var Op=hr(function(e,n,l){return e+(l?" ":"")+Gl(n)});function Ip(e,n,l){return e=Ne(e),l=l==null?0:Vn(Se(l),0,e.length),n=Vt(n),e.slice(l,l+n.length)==n}function Tp(e,n,l){var h=v.templateSettings;l&&At(e,n,l)&&(n=t),e=Ne(e),n=Ti({},n,h,xs);var m=Ti({},n.imports,h.imports,xs),y=bt(m),C=nl(m,y),E,A,q=0,G=n.interpolate||xr,Q="__p += '",le=il((n.escape||xr).source+"|"+G.source+"|"+(G===uo?la:xr).source+"|"+(n.evaluate||xr).source+"|$","g"),fe="//# sourceURL="+(He.call(n,"sourceURL")?(n.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++za+"]")+`
`;e.replace(le,function(pe,Ae,Le,Gt,Dt,jt){return Le||(Le=Gt),Q+=e.slice(q,jt).replace(ha,tf),Ae&&(E=!0,Q+=`' +
__e(`+Ae+`) +
'`),Dt&&(A=!0,Q+=`';
`+Dt+`;
__p += '`),Le&&(Q+=`' +
((__t = (`+Le+`)) == null ? '' : __t) +
'`),q=jt+pe.length,pe}),Q+=`';
`;var de=He.call(n,"variable")&&n.variable;if(!de)Q=`with (obj) {
`+Q+`
}
`;else if(ra.test(de))throw new ye(f);Q=(A?Q.replace(xu,""):Q).replace(Hu,"$1").replace(Vu,"$1;"),Q="function("+(de||"obj")+`) {
`+(de?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(E?", __e = _.escape":"")+(A?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Q+`return __p
}`;var ke=L0(function(){return Fe(y,fe+"return "+Q).apply(t,C)});if(ke.source=Q,xl(ke))throw ke;return ke}function Ap(e){return Ne(e).toLowerCase()}function Dp(e){return Ne(e).toUpperCase()}function Rp(e,n,l){if(e=Ne(e),e&&(l||n===t))return Ho(e);if(!e||!(n=Vt(n)))return e;var h=on(e),m=on(n),y=Vo(h,m),C=qo(h,m)+1;return Ln(h,y,C).join("")}function Pp(e,n,l){if(e=Ne(e),e&&(l||n===t))return e.slice(0,jo(e)+1);if(!e||!(n=Vt(n)))return e;var h=on(e),m=qo(h,on(n))+1;return Ln(h,0,m).join("")}function Lp(e,n,l){if(e=Ne(e),e&&(l||n===t))return e.replace(xi,"");if(!e||!(n=Vt(n)))return e;var h=on(e),m=Vo(h,on(n));return Ln(h,m).join("")}function Bp(e,n){var l=Z,h=j;if(ot(n)){var m="separator"in n?n.separator:m;l="length"in n?Se(n.length):l,h="omission"in n?Vt(n.omission):h}e=Ne(e);var y=e.length;if(ir(e)){var C=on(e);y=C.length}if(l>=y)return e;var E=l-lr(h);if(E<1)return h;var A=C?Ln(C,0,E).join(""):e.slice(0,E);if(m===t)return A+h;if(C&&(E+=A.length-E),Hl(m)){if(e.slice(E).search(m)){var q,G=A;for(m.global||(m=il(m.source,Ne(ao.exec(m))+"g")),m.lastIndex=0;q=m.exec(G);)var Q=q.index;A=A.slice(0,Q===t?E:Q)}}else if(e.indexOf(Vt(m),E)!=E){var le=A.lastIndexOf(m);le>-1&&(A=A.slice(0,le))}return A+h}function zp(e){return e=Ne(e),e&&qu.test(e)?e.replace(oo,af):e}var Mp=hr(function(e,n,l){return e+(l?" ":"")+n.toUpperCase()}),Gl=Bs("toUpperCase");function P0(e,n,l){return e=Ne(e),n=l?t:n,n===t?rf(e)?hf(e):Ka(e):e.match(n)||[]}var L0=Ee(function(e,n){try{return xt(e,t,n)}catch(l){return xl(l)?l:new ye(l)}}),Fp=bn(function(e,n){return Qt(n,function(l){l=hn(l),mn(e,l,Nl(e[l],e))}),e});function Up(e){var n=e==null?0:e.length,l=he();return e=n?it(e,function(h){if(typeof h[1]!="function")throw new $t(u);return[l(h[0]),h[1]]}):[],Ee(function(h){for(var m=-1;++m<n;){var y=e[m];if(xt(y[0],this,h))return xt(y[1],this,h)}})}function Np(e){return a9(tn(e,p))}function jl(e){return function(){return e}}function Wp(e,n){return e==null||e!==e?n:e}var xp=Ms(),Hp=Ms(!0);function Ft(e){return e}function Jl(e){return hs(typeof e=="function"?e:tn(e,p))}function Vp(e){return ps(tn(e,p))}function qp(e,n){return gs(e,tn(n,p))}var Gp=Ee(function(e,n){return function(l){return Rr(l,e,n)}}),jp=Ee(function(e,n){return function(l){return Rr(e,l,n)}});function Kl(e,n,l){var h=bt(n),m=ai(n,h);l==null&&!(ot(n)&&(m.length||!h.length))&&(l=n,n=e,e=this,m=ai(n,bt(n)));var y=!(ot(l)&&"chain"in l)||!!l.chain,C=wn(e);return Qt(m,function(E){var A=n[E];e[E]=A,C&&(e.prototype[E]=function(){var q=this.__chain__;if(y||q){var G=e(this.__wrapped__),Q=G.__actions__=Bt(this.__actions__);return Q.push({func:A,args:arguments,thisArg:e}),G.__chain__=q,G}return A.apply(e,In([this.value()],arguments))})}),e}function Jp(){return wt._===this&&(wt._=vf),this}function Yl(){}function Kp(e){return e=Se(e),Ee(function(n){return _s(n,e)})}var Yp=Ol(it),Zp=Ol(Fo),Xp=Ol(Xi);function B0(e){return Ll(e)?Qi(hn(e)):O9(e)}function Qp(e){return function(n){return e==null?t:qn(e,n)}}var $p=Us(),e1=Us(!0);function Zl(){return[]}function Xl(){return!1}function t1(){return{}}function n1(){return""}function r1(){return!0}function i1(e,n){if(e=Se(e),e<1||e>Pe)return[];var l=_e,h=St(e,_e);n=he(n),e-=_e;for(var m=tl(h,n);++l<e;)n(l);return m}function l1(e){return we(e)?it(e,hn):qt(e)?[e]:Bt(e0(Ne(e)))}function o1(e){var n=++_f;return Ne(e)+n}var s1=gi(function(e,n){return e+n},0),u1=Il("ceil"),a1=gi(function(e,n){return e/n},1),f1=Il("floor");function c1(e){return e&&e.length?ui(e,Ft,hl):t}function h1(e,n){return e&&e.length?ui(e,he(n,2),hl):t}function d1(e){return Wo(e,Ft)}function p1(e,n){return Wo(e,he(n,2))}function g1(e){return e&&e.length?ui(e,Ft,_l):t}function _1(e,n){return e&&e.length?ui(e,he(n,2),_l):t}var m1=gi(function(e,n){return e*n},1),v1=Il("round"),b1=gi(function(e,n){return e-n},0);function y1(e){return e&&e.length?el(e,Ft):0}function w1(e,n){return e&&e.length?el(e,he(n,2)):0}return v.after=Vh,v.ary=c0,v.assign=Dd,v.assignIn=E0,v.assignInWith=Ti,v.assignWith=Rd,v.at=Pd,v.before=h0,v.bind=Nl,v.bindAll=Fp,v.bindKey=d0,v.castArray=td,v.chain=u0,v.chunk=ac,v.compact=fc,v.concat=cc,v.cond=Up,v.conforms=Np,v.constant=jl,v.countBy=yh,v.create=Ld,v.curry=p0,v.curryRight=g0,v.debounce=_0,v.defaults=Bd,v.defaultsDeep=zd,v.defer=qh,v.delay=Gh,v.difference=hc,v.differenceBy=dc,v.differenceWith=gc,v.drop=_c,v.dropRight=mc,v.dropRightWhile=vc,v.dropWhile=bc,v.fill=yc,v.filter=Ch,v.flatMap=Eh,v.flatMapDeep=Oh,v.flatMapDepth=Ih,v.flatten=i0,v.flattenDeep=wc,v.flattenDepth=Cc,v.flip=jh,v.flow=xp,v.flowRight=Hp,v.fromPairs=Sc,v.functions=Hd,v.functionsIn=Vd,v.groupBy=Th,v.initial=Ec,v.intersection=Oc,v.intersectionBy=Ic,v.intersectionWith=Tc,v.invert=Gd,v.invertBy=jd,v.invokeMap=Dh,v.iteratee=Jl,v.keyBy=Rh,v.keys=bt,v.keysIn=Mt,v.map=Ci,v.mapKeys=Kd,v.mapValues=Yd,v.matches=Vp,v.matchesProperty=qp,v.memoize=ki,v.merge=Zd,v.mergeWith=O0,v.method=Gp,v.methodOf=jp,v.mixin=Kl,v.negate=Ei,v.nthArg=Kp,v.omit=Xd,v.omitBy=Qd,v.once=Jh,v.orderBy=Ph,v.over=Yp,v.overArgs=Kh,v.overEvery=Zp,v.overSome=Xp,v.partial=Wl,v.partialRight=m0,v.partition=Lh,v.pick=$d,v.pickBy=I0,v.property=B0,v.propertyOf=Qp,v.pull=Pc,v.pullAll=o0,v.pullAllBy=Lc,v.pullAllWith=Bc,v.pullAt=zc,v.range=$p,v.rangeRight=e1,v.rearg=Yh,v.reject=Mh,v.remove=Mc,v.rest=Zh,v.reverse=Fl,v.sampleSize=Uh,v.set=tp,v.setWith=np,v.shuffle=Nh,v.slice=Fc,v.sortBy=Hh,v.sortedUniq=qc,v.sortedUniqBy=Gc,v.split=Ep,v.spread=Xh,v.tail=jc,v.take=Jc,v.takeRight=Kc,v.takeRightWhile=Yc,v.takeWhile=Zc,v.tap=ch,v.throttle=Qh,v.thru=wi,v.toArray=C0,v.toPairs=T0,v.toPairsIn=A0,v.toPath=l1,v.toPlainObject=k0,v.transform=rp,v.unary=$h,v.union=Xc,v.unionBy=Qc,v.unionWith=$c,v.uniq=eh,v.uniqBy=th,v.uniqWith=nh,v.unset=ip,v.unzip=Ul,v.unzipWith=s0,v.update=lp,v.updateWith=op,v.values=gr,v.valuesIn=sp,v.without=rh,v.words=P0,v.wrap=ed,v.xor=ih,v.xorBy=lh,v.xorWith=oh,v.zip=sh,v.zipObject=uh,v.zipObjectDeep=ah,v.zipWith=fh,v.entries=T0,v.entriesIn=A0,v.extend=E0,v.extendWith=Ti,Kl(v,v),v.add=s1,v.attempt=L0,v.camelCase=cp,v.capitalize=D0,v.ceil=u1,v.clamp=up,v.clone=nd,v.cloneDeep=id,v.cloneDeepWith=ld,v.cloneWith=rd,v.conformsTo=od,v.deburr=R0,v.defaultTo=Wp,v.divide=a1,v.endsWith=hp,v.eq=un,v.escape=dp,v.escapeRegExp=pp,v.every=wh,v.find=Sh,v.findIndex=n0,v.findKey=Md,v.findLast=kh,v.findLastIndex=r0,v.findLastKey=Fd,v.floor=f1,v.forEach=a0,v.forEachRight=f0,v.forIn=Ud,v.forInRight=Nd,v.forOwn=Wd,v.forOwnRight=xd,v.get=Vl,v.gt=sd,v.gte=ud,v.has=qd,v.hasIn=ql,v.head=l0,v.identity=Ft,v.includes=Ah,v.indexOf=kc,v.inRange=ap,v.invoke=Jd,v.isArguments=Jn,v.isArray=we,v.isArrayBuffer=ad,v.isArrayLike=zt,v.isArrayLikeObject=ft,v.isBoolean=fd,v.isBuffer=Bn,v.isDate=cd,v.isElement=hd,v.isEmpty=dd,v.isEqual=pd,v.isEqualWith=gd,v.isError=xl,v.isFinite=_d,v.isFunction=wn,v.isInteger=v0,v.isLength=Oi,v.isMap=b0,v.isMatch=md,v.isMatchWith=vd,v.isNaN=bd,v.isNative=yd,v.isNil=Cd,v.isNull=wd,v.isNumber=y0,v.isObject=ot,v.isObjectLike=at,v.isPlainObject=Fr,v.isRegExp=Hl,v.isSafeInteger=Sd,v.isSet=w0,v.isString=Ii,v.isSymbol=qt,v.isTypedArray=pr,v.isUndefined=kd,v.isWeakMap=Ed,v.isWeakSet=Od,v.join=Ac,v.kebabCase=gp,v.last=rn,v.lastIndexOf=Dc,v.lowerCase=_p,v.lowerFirst=mp,v.lt=Id,v.lte=Td,v.max=c1,v.maxBy=h1,v.mean=d1,v.meanBy=p1,v.min=g1,v.minBy=_1,v.stubArray=Zl,v.stubFalse=Xl,v.stubObject=t1,v.stubString=n1,v.stubTrue=r1,v.multiply=m1,v.nth=Rc,v.noConflict=Jp,v.noop=Yl,v.now=Si,v.pad=vp,v.padEnd=bp,v.padStart=yp,v.parseInt=wp,v.random=fp,v.reduce=Bh,v.reduceRight=zh,v.repeat=Cp,v.replace=Sp,v.result=ep,v.round=v1,v.runInContext=I,v.sample=Fh,v.size=Wh,v.snakeCase=kp,v.some=xh,v.sortedIndex=Uc,v.sortedIndexBy=Nc,v.sortedIndexOf=Wc,v.sortedLastIndex=xc,v.sortedLastIndexBy=Hc,v.sortedLastIndexOf=Vc,v.startCase=Op,v.startsWith=Ip,v.subtract=b1,v.sum=y1,v.sumBy=w1,v.template=Tp,v.times=i1,v.toFinite=Cn,v.toInteger=Se,v.toLength=S0,v.toLower=Ap,v.toNumber=ln,v.toSafeInteger=Ad,v.toString=Ne,v.toUpper=Dp,v.trim=Rp,v.trimEnd=Pp,v.trimStart=Lp,v.truncate=Bp,v.unescape=zp,v.uniqueId=o1,v.upperCase=Mp,v.upperFirst=Gl,v.each=a0,v.eachRight=f0,v.first=l0,Kl(v,function(){var e={};return fn(v,function(n,l){He.call(v.prototype,l)||(e[l]=n)}),e}(),{chain:!1}),v.VERSION=i,Qt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){v[e].placeholder=v}),Qt(["drop","take"],function(e,n){Re.prototype[e]=function(l){l=l===t?1:_t(Se(l),0);var h=this.__filtered__&&!n?new Re(this):this.clone();return h.__filtered__?h.__takeCount__=St(l,h.__takeCount__):h.__views__.push({size:St(l,_e),type:e+(h.__dir__<0?"Right":"")}),h},Re.prototype[e+"Right"]=function(l){return this.reverse()[e](l).reverse()}}),Qt(["filter","map","takeWhile"],function(e,n){var l=n+1,h=l==X||l==xe;Re.prototype[e]=function(m){var y=this.clone();return y.__iteratees__.push({iteratee:he(m,3),type:l}),y.__filtered__=y.__filtered__||h,y}}),Qt(["head","last"],function(e,n){var l="take"+(n?"Right":"");Re.prototype[e]=function(){return this[l](1).value()[0]}}),Qt(["initial","tail"],function(e,n){var l="drop"+(n?"":"Right");Re.prototype[e]=function(){return this.__filtered__?new Re(this):this[l](1)}}),Re.prototype.compact=function(){return this.filter(Ft)},Re.prototype.find=function(e){return this.filter(e).head()},Re.prototype.findLast=function(e){return this.reverse().find(e)},Re.prototype.invokeMap=Ee(function(e,n){return typeof e=="function"?new Re(this):this.map(function(l){return Rr(l,e,n)})}),Re.prototype.reject=function(e){return this.filter(Ei(he(e)))},Re.prototype.slice=function(e,n){e=Se(e);var l=this;return l.__filtered__&&(e>0||n<0)?new Re(l):(e<0?l=l.takeRight(-e):e&&(l=l.drop(e)),n!==t&&(n=Se(n),l=n<0?l.dropRight(-n):l.take(n-e)),l)},Re.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Re.prototype.toArray=function(){return this.take(_e)},fn(Re.prototype,function(e,n){var l=/^(?:filter|find|map|reject)|While$/.test(n),h=/^(?:head|last)$/.test(n),m=v[h?"take"+(n=="last"?"Right":""):n],y=h||/^find/.test(n);m&&(v.prototype[n]=function(){var C=this.__wrapped__,E=h?[1]:arguments,A=C instanceof Re,q=E[0],G=A||we(C),Q=function(Ae){var Le=m.apply(v,In([Ae],E));return h&&le?Le[0]:Le};G&&l&&typeof q=="function"&&q.length!=1&&(A=G=!1);var le=this.__chain__,fe=!!this.__actions__.length,de=y&&!le,ke=A&&!fe;if(!y&&G){C=ke?C:new Re(this);var pe=e.apply(C,E);return pe.__actions__.push({func:wi,args:[Q],thisArg:t}),new en(pe,le)}return de&&ke?e.apply(this,E):(pe=this.thru(Q),de?h?pe.value()[0]:pe.value():pe)})}),Qt(["pop","push","shift","sort","splice","unshift"],function(e){var n=Jr[e],l=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",h=/^(?:pop|shift)$/.test(e);v.prototype[e]=function(){var m=arguments;if(h&&!this.__chain__){var y=this.value();return n.apply(we(y)?y:[],m)}return this[l](function(C){return n.apply(we(C)?C:[],m)})}}),fn(Re.prototype,function(e,n){var l=v[n];if(l){var h=l.name+"";He.call(ar,h)||(ar[h]=[]),ar[h].push({name:n,func:l})}}),ar[pi(t,T).name]=[{name:"wrapper",func:t}],Re.prototype.clone=Bf,Re.prototype.reverse=zf,Re.prototype.value=Mf,v.prototype.at=hh,v.prototype.chain=dh,v.prototype.commit=ph,v.prototype.next=gh,v.prototype.plant=mh,v.prototype.reverse=vh,v.prototype.toJSON=v.prototype.valueOf=v.prototype.value=bh,v.prototype.first=v.prototype.head,kr&&(v.prototype[kr]=_h),v},or=df();Nn?((Nn.exports=or)._=or,Ji._=or):wt._=or}).call(_r)})(Ri,Ri.exports);var tg=Ri.exports;const zu=io(tg);function H0(s){let r,t,i,o;function a(c){s[12](c)}function u(c){s[13](c)}let f={};return s[3]!==void 0&&(f.profile=s[3]),s[2]!==void 0&&(f.selected=s[2]),r=new X1({props:f}),De.push(()=>dt(r,"profile",a)),De.push(()=>dt(r,"selected",u)),{c(){Ye(r.$$.fragment)},l(c){Ze(r.$$.fragment,c)},m(c,d){Xe(r,c,d),o=!0},p(c,d){const g={};!t&&d&8&&(t=!0,g.profile=c[3],ht(()=>t=!1)),!i&&d&4&&(i=!0,g.selected=c[2],ht(()=>i=!1)),r.$set(g)},i(c){o||(oe(r.$$.fragment,c),o=!0)},o(c){ue(r.$$.fragment,c),o=!1},d(c){Qe(r,c)}}}function ng(s){let r,t,i,o,a=s[3]&&H0(s);function u(c){s[14](c)}let f={em:s[0],OnLongPress:s[4]};return s[1]!==void 0&&(f.status=s[1]),t=new eg({props:f}),De.push(()=>dt(t,"status",u)),t.$on("click",s[6]),t.$on("mute",s[5]),{c(){a&&a.c(),r=te(),Ye(t.$$.fragment)},l(c){a&&a.l(c),r=ne(c),Ze(t.$$.fragment,c)},m(c,d){a&&a.m(c,d),V(c,r,d),Xe(t,c,d),o=!0},p(c,[d]){c[3]?a?(a.p(c,d),d&8&&oe(a,1)):(a=H0(c),a.c(),oe(a,1),a.m(r.parentNode,r)):a&&(Jt(),ue(a,1,1,()=>{a=null}),Kt());const g={};d&1&&(g.em=c[0]),!i&&d&2&&(i=!0,g.status=c[1],ht(()=>i=!1)),t.$set(g)},i(c){o||(oe(a),oe(t.$$.fragment,c),o=!0)},o(c){ue(a),ue(t.$$.fragment,c),o=!1},d(c){c&&S(r),a&&a.d(c),Qe(t,c)}}}function rg(s,r,t){let i,o,a;We(s,Li,j=>t(20,i=j)),We(s,Bi,j=>t(10,o=j)),We(s,yr,j=>t(11,a=j));let{abonent:u,em:f,operator:c}=r;const{groupBy:d,find:g}=zu,p=wr(u+f+c);let _,b,P,k="inactive",R=!1,T={video:{display:"none",srcObject:""},audio:{paused:!0,src:""}},F={video:{display:"none",srcObject:""},audio:{muted:!0,srcObject:""}},K={em:f,abonent:u,type:"user"};Ut(async()=>{t(9,_=new j1(K,p,i)),_.SendCheck(),t(9,_.OnOpenDataChannel=()=>{console.log("OnOpenDataChannel")},_),t(9,_.GetRemoteAudio=()=>F.audio.srcObject,_),t(9,_.SetRemoteAudio=j=>{F.audio.srcObject=j},_),t(9,_.SendToComponent=N,_),t(9,_.SetLocalVideo=j=>{T.video.srcObject=j},_),t(9,_.SetRemoteVideo=j=>{F.video.srcObject=j,F.video.display="block",t(1,k="talk"),T.audio.paused=!0},_)});function L(){}function Y(){t(1,k="talk"),M()}function N(j){if(j.operators&&j.operators[f]){let U=d(j.operators[f],"status");try{U&&U.offer?k!=="call"&&k!=="wait"&&t(1,k="active"):U.busy?k!=="call"&&t(1,k="busy"):U.close&&k!=="wait"&&(T.video.display="none",F.video.display="none",T.audio.paused=!0,F.audio.muted=!0,t(1,k="inactive"))}catch(ve){console.log(ve)}}j.operator&&j.operator.em===_.em&&t(1,k="active"),j.desc&&j.cand,j.func==="mute"&&(T.audio.paused=!0,F.audio.muted=!0,T.video.display="none",F.video.display="none",t(1,k="inactive")),j.func==="talk"&&(t(1,k="talk"),clearInterval(P),T.audio.paused=!0,F.audio.muted=!1),j.func==="redirect"&&(t(1,k="call"),T.audio.paused=!0,F.audio.muted=!0,F.video.srcObject=null,F.video.display="none"),j.status==="wait"&&t(1,k="wait")}async function M(){try{if(!window.AudioContext){window.AudioContext=window.AudioContext||window.webkitAudioContext;let j=new AudioContext;t(9,_.localSoundSrc=j.createMediaElementSource(_.localSound),_),_.localSoundSrc.connect(j.destination)}}catch{console.log("Web Audio API is not supported in this browser")}switch(k){case"inactive":break;case"wait":t(1,k="inactive"),_.SendCheck();break;case"active":let j=function(){_.Call(),t(1,k="call"),F.video.srcObject=null};localStorage.getItem("kolmit_abonent"),j();break;case"call":t(1,k="inactive"),T.audio.paused=!0,T.video.display="none",clearInterval(P),_.Hangup();break;case"talk":t(1,k="inactive"),F.audio.muted=!0,T.video.display="none",F.video.display="none",_.Hangup();break;case"muted":t(1,k="inactive");break;case"busy":_.Call(),t(1,k="wait");break;default:return}}function B(j){R=j,t(3,R)}function ee(j){b=j,t(2,b)}function Z(j){k=j,t(1,k)}return s.$$set=j=>{"abonent"in j&&t(7,u=j.abonent),"em"in j&&t(0,f=j.em),"operator"in j&&t(8,c=j.operator)},s.$$.update=()=>{if(s.$$.dirty&2048&&a&&N(a),s.$$.dirty&512&&_&&!_.em&&console.log(),s.$$.dirty&1027&&k){let j=g(o[0].staff,{email:f});j&&(j.status=k)}},[f,k,b,R,L,Y,M,u,c,_,o,a,B,ee,Z]}class ig extends je{constructor(r){super(),Je(this,r,rg,ng,Ge,{abonent:7,em:0,operator:8})}}function lg(s){let r,t,i,o;const a=s[4].default,u=Kn(a,s,s[3],null);return{c(){r=W("div"),u&&u.c(),this.h()},l(f){r=x(f,"DIV",{style:!0});var c=J(r);u&&u.l(c),c.forEach(S),this.h()},h(){O(r,"position","relative"),O(r,"right","0px"),O(r,"top","70px")},m(f,c){V(f,r,c),u&&u.m(r,null),t=!0,i||(o=ce(r,"click",s[0]),i=!0)},p(f,[c]){u&&u.p&&(!t||c&8)&&Yn(u,a,f,f[3],t?Xn(a,f[3],c,null):Zn(f[3]),null)},i(f){t||(oe(u,f),t=!0)},o(f){ue(u,f),t=!1},d(f){f&&S(r),u&&u.d(f),i=!1,o()}}}function og(s,r,t){let{$$slots:i={},$$scope:o}=r,{status:a}=r,{operator:u}=r;async function f(){document.querySelector("[src*='"+u+"']").contentWindow.document.querySelector(".callButton"),await new Promise(function(g,p){window.rtc.DC&&(window.rtc.DC.SendRedirect({operator:u},g),window.rtc.OnMessage({func:"mute"}))}),t(1,a="mute")}return s.$$set=c=>{"status"in c&&t(1,a=c.status),"operator"in c&&t(2,u=c.operator),"$$scope"in c&&t(3,o=c.$$scope)},[f,a,u,o,i]}class sg extends je{constructor(r){super(),Je(this,r,og,lg,Ge,{status:1,operator:2})}}function ug(s){let r,t,i,o,a,u;const f=s[6].default,c=Kn(f,s,s[5],null);return{c(){r=W("div"),c&&c.c(),t=te(),i=W("input"),this.h()},l(d){r=x(d,"DIV",{style:!0});var g=J(r);c&&c.l(g),t=ne(g),i=x(g,"INPUT",{class:!0,accept:!0,id:!0,name:!0,type:!0,style:!0}),g.forEach(S),this.h()},h(){w(i,"class","file-upload"),w(i,"accept","*,*"),w(i,"id","file"),w(i,"name","file"),w(i,"type","file"),O(i,"display","none"),O(r,"position","relative"),O(r,"right","0px"),O(r,"top","70px")},m(d,g){V(d,r,g),c&&c.m(r,null),D(r,t),D(r,i),s[7](i),o=!0,a||(u=[ce(i,"change",s[3]),ce(i,"change",s[8]),ce(r,"click",s[2])],a=!0)},p(d,[g]){c&&c.p&&(!o||g&32)&&Yn(c,f,d,d[5],o?Xn(f,d[5],g,null):Zn(d[5]),null)},i(d){o||(oe(c,d),o=!0)},o(d){ue(c,d),o=!1},d(d){d&&S(r),c&&c.d(d),s[7](null),a=!1,Yt(u)}}}function ag(s,r,t){let{$$slots:i={},$$scope:o}=r,a,{operator:u}=r,f,c=globalThis;function d(b){let P=new PointerEvent("click",{bubbles:!1,cancelable:!0,view:c});document.getElementById("file").dispatchEvent(P)}async function g(b){try{let P=document.querySelector("[src*='"+u+"']"),R=await new Promise(function(T,F){let K=new FileReader;P.contentWindow.user?(K.onload=L=>{P.contentWindow.user.DC.SendFile(L.target.result,file.name)},K.readAsArrayBuffer(b.target.files[0])):(K.onload=L=>{c.rtc.DC.SendFile(L.target.result,file.name)},K.readAsArrayBuffer(b.target.files[0]))})}catch{}}function p(b){De[b?"unshift":"push"](()=>{f=b,t(1,f)})}function _(){a=this.files,t(0,a)}return s.$$set=b=>{"operator"in b&&t(4,u=b.operator),"$$scope"in b&&t(5,o=b.$$scope)},[a,f,d,g,u,o,i,p,_]}class fg extends je{constructor(r){super(),Je(this,r,ag,ug,Ge,{operator:4})}}const Mu=""+new URL("../assets/operator.7238a518.svg",import.meta.url).href;function V0(s){let r,t,i,o,a,u,f,c,d,g,p,_,b,P,k,R,T=s[1]&&q0(s);a=new ig({props:{em:s[0].email,operator:s[3].em,abonent:s[0].abonent}});let F=s[1]&&G0(s),K=s[15]&&cg(s),L=s[13]==="talk"&&s[14]==="active"&&s[0].email!==s[3].email&&J0(s),Y=(s[14]==="talk"||s[13]==="talk"&&s[0].email===s[3].email)&&K0(s);return{c(){r=W("div"),t=W("video"),i=te(),T&&T.c(),o=te(),Ye(a.$$.fragment),u=te(),F&&F.c(),f=te(),c=W("div"),K&&K.c(),d=te(),g=W("textarea"),p=te(),_=W("div"),L&&L.c(),b=te(),Y&&Y.c(),this.h()},l(N){r=x(N,"DIV",{class:!0,style:!0});var M=J(r);t=x(M,"VIDEO",{id:!0,class:!0,poster:!0,style:!0}),J(t).forEach(S),i=ne(M),T&&T.l(M),o=ne(M),Ze(a.$$.fragment,M),u=ne(M),F&&F.l(M),M.forEach(S),f=ne(N),c=x(N,"DIV",{style:!0});var B=J(c);K&&K.l(B),d=ne(B),g=x(B,"TEXTAREA",{type:!0,rows:!0,class:!0,placeholder:!0,style:!0}),J(g).forEach(S),B.forEach(S),p=ne(N),_=x(N,"DIV",{style:!0});var ee=J(_);L&&L.l(ee),b=ne(ee),Y&&Y.l(ee),ee.forEach(S),this.h()},h(){w(t,"id","localVideo"),w(t,"class","user_pic is-rounded"),w(t,"poster",s[4]),t.autoplay=!0,t.playsInline=!0,t.muted=!0,O(t,"display","block"),O(t,"position","absolute"),O(t,"top","0px"),O(t,"width","100px"),O(t,"height","100px"),w(r,"class","user_pic_div"),O(r,"position","relative"),O(r,"width","100px"),O(r,"height","100px"),w(g,"type","text"),w(g,"rows","3"),w(g,"class","user_desc svelte-81pd54"),w(g,"placeholder",s[8]),g.readOnly=s[10],O(g,"width","85%"),O(g,"overflow","auto"),O(g,"max-height","100px"),O(g,"resize","none"),O(c,"flex","1"),O(c,"margin-left","10px"),O(_,"display","flex"),O(_,"flex-flow","row nowrap"),O(_,"align-items","flex-start"),O(_,"flex-direction","column")},m(N,M){V(N,r,M),D(r,t),D(r,i),T&&T.m(r,null),D(r,o),Xe(a,r,null),D(r,u),F&&F.m(r,null),V(N,f,M),V(N,c,M),K&&K.m(c,null),D(c,d),D(c,g),st(g,s[0].desc),V(N,p,M),V(N,_,M),L&&L.m(_,null),D(_,b),Y&&Y.m(_,null),P=!0,k||(R=[ce(t,"click",s[16]),ce(g,"change",s[18]),ce(g,"input",s[26])],k=!0)},p(N,M){(!P||M[0]&16)&&w(t,"poster",N[4]),N[1]?T?T.p(N,M):(T=q0(N),T.c(),T.m(r,o)):T&&(T.d(1),T=null);const B={};M[0]&1&&(B.em=N[0].email),M[0]&8&&(B.operator=N[3].em),M[0]&1&&(B.abonent=N[0].abonent),a.$set(B),N[1]?F?F.p(N,M):(F=G0(N),F.c(),F.m(r,null)):F&&(F.d(1),F=null),N[15]&&K.p(N,M),(!P||M[0]&256)&&w(g,"placeholder",N[8]),(!P||M[0]&1024)&&(g.readOnly=N[10]),M[0]&1&&st(g,N[0].desc),N[13]==="talk"&&N[14]==="active"&&N[0].email!==N[3].email?L?(L.p(N,M),M[0]&8201&&oe(L,1)):(L=J0(N),L.c(),oe(L,1),L.m(_,b)):L&&(Jt(),ue(L,1,1,()=>{L=null}),Kt()),N[14]==="talk"||N[13]==="talk"&&N[0].email===N[3].email?Y?(Y.p(N,M),M[0]&8201&&oe(Y,1)):(Y=K0(N),Y.c(),oe(Y,1),Y.m(_,null)):Y&&(Jt(),ue(Y,1,1,()=>{Y=null}),Kt())},i(N){P||(oe(a.$$.fragment,N),oe(L),oe(Y),P=!0)},o(N){ue(a.$$.fragment,N),ue(L),ue(Y),P=!1},d(N){N&&(S(r),S(f),S(c),S(p),S(_)),T&&T.d(),Qe(a),F&&F.d(),K&&K.d(),L&&L.d(),Y&&Y.d(),k=!1,Yt(R)}}}function q0(s){let r,t,i;return{c(){r=W("input"),this.h()},l(o){r=x(o,"INPUT",{class:!0,accept:!0,id:!0,name:!0,type:!0,style:!0}),this.h()},h(){w(r,"class","file-upload svelte-81pd54"),w(r,"accept","image/png, image/jpeg"),w(r,"id","avatar"),w(r,"name","avatar"),w(r,"type","file"),O(r,"display","none")},m(o,a){V(o,r,a),s[22](r),t||(i=[ce(r,"change",s[17]),ce(r,"change",s[23])],t=!0)},p:Oe,d(o){o&&S(r),s[22](null),t=!1,Yt(i)}}}function G0(s){let r,t=s[2].admin.email===s[3].email&&s[3].email!==s[0].email&&s[0].role==="operator"&&j0(s);return{c(){t&&t.c(),r=Be()},l(i){t&&t.l(i),r=Be()},m(i,o){t&&t.m(i,o),V(i,r,o)},p(i,o){i[2].admin.email===i[3].email&&i[3].email!==i[0].email&&i[0].role==="operator"?t?t.p(i,o):(t=j0(i),t.c(),t.m(r.parentNode,r)):t&&(t.d(1),t=null)},d(i){i&&S(r),t&&t.d(i)}}}function j0(s){let r,t,i,o,a,u;return{c(){r=ze("svg"),t=ze("glyph"),i=ze("g"),o=ze("path"),this.h()},l(f){r=Me(f,"svg",{height:!0,width:!0,style:!0});var c=J(r);t=Me(c,"glyph",{"glyph-name":!0,unicode:!0,"horiz-adv-x":!0}),J(t).forEach(S),i=Me(c,"g",{class:!0});var d=J(i);o=Me(d,"path",{d:!0,transform:!0,style:!0}),J(o).forEach(S),d.forEach(S),c.forEach(S),this.h()},h(){w(t,"glyph-name","minus-circle"),w(t,"unicode",""),w(t,"horiz-adv-x","50"),w(o,"d","M500.2 62.5c-241.8 0-437.7 195.89999999999998-437.7 437.3 0 241.8 195.89999999999998 437.7 437.7 437.7 241.40000000000003 0 437.3-195.89999999999998 437.3-437.7 0-241.40000000000003-195.89999999999998-437.3-437.3-437.3z m301.59999999999997 466.5c-0.6999999999999318 9-2.199999999999932 19.100000000000023-4.699999999999932 30.299999999999955h-593.9000000000001c-2.499999999999943-11.199999999999932-4.299999999999926-21.699999999999932-5.0999999999999375-31.399999999999977-0.6999999999999886-9.699999999999932-1.0999999999999943-19.799999999999955-1.0999999999999943-30.299999999999955 0-9 0.4000000000000057-18 1.0999999999999943-26.700000000000045 0.700000000000017-9 2.5-19.099999999999966 5.099999999999994-30.299999999999955h593.9000000000001c2.4999999999998863 11.199999999999989 3.9999999999998863 21.599999999999966 4.699999999999818 31.399999999999977 1.1000000000000227 9.699999999999989 1.400000000000091 19.80000000000001 1.400000000000091 30.30000000000001 0.09999999999990905 9.099999999999966-0.3000000000000682 17.69999999999999-1.400000000000091 26.69999999999999z"),w(o,"transform","scale(.03)"),O(o,"fill","lightgrey"),O(o,"stroke","black"),O(o,"stroke-width","20px"),w(i,"class","currentLayer"),w(r,"height","30"),w(r,"width","30"),O(r,"position","absolute"),O(r,"bottom","-15px"),O(r,"left","-9px")},m(f,c){V(f,r,c),D(r,t),D(r,i),D(i,o),a||(u=ce(r,"click",function(){Cr(s[19](s[0]))&&s[19](s[0]).apply(this,arguments)}),a=!0)},p(f,c){s=f},d(f){f&&S(r),a=!1,u()}}}function cg(s){let r,t,i,o,a;return{c(){r=W("input"),t=te(),i=W("input"),this.h()},l(u){r=x(u,"INPUT",{type:!0,class:!0,placeholder:!0,style:!0}),t=ne(u),i=x(u,"INPUT",{type:!0,class:!0,placeholder:!0,style:!0}),this.h()},h(){w(r,"type","text"),w(r,"class","user_name svelte-81pd54"),w(r,"placeholder",s[6]),r.readOnly=s[10],O(r,"width","80%"),w(i,"type","text"),w(i,"class","user_email svelte-81pd54"),w(i,"placeholder",s[7]),i.readOnly=s[11],O(i,"width","100%"),O(i,"max-height","100px")},m(u,f){V(u,r,f),st(r,s[0].name),V(u,t,f),V(u,i,f),st(i,s[0].email),o||(a=[ce(r,"change",s[18]),ce(r,"input",s[24]),ce(i,"change",s[18]),ce(i,"input",s[25])],o=!0)},p(u,f){f[0]&64&&w(r,"placeholder",u[6]),f[0]&1024&&(r.readOnly=u[10]),f[0]&1&&r.value!==u[0].name&&st(r,u[0].name),f[0]&128&&w(i,"placeholder",u[7]),f[0]&2048&&(i.readOnly=u[11]),f[0]&1&&i.value!==u[0].email&&st(i,u[0].email)},d(u){u&&(S(r),S(t),S(i)),o=!1,Yt(a)}}}function J0(s){let r,t,i;function o(u){s[27](u)}let a={operator:s[0].email,$$slots:{default:[hg]},$$scope:{ctx:s}};return s[13]!==void 0&&(a.$statust=s[13]),r=new sg({props:a}),De.push(()=>dt(r,"$statust",o)),{c(){Ye(r.$$.fragment)},l(u){Ze(r.$$.fragment,u)},m(u,f){Xe(r,u,f),i=!0},p(u,f){const c={};f[0]&1&&(c.operator=u[0].email),f[1]&16&&(c.$$scope={dirty:f,ctx:u}),!t&&f[0]&8192&&(t=!0,c.$statust=u[13],ht(()=>t=!1)),r.$set(c)},i(u){i||(oe(r.$$.fragment,u),i=!0)},o(u){ue(r.$$.fragment,u),i=!1},d(u){Qe(r,u)}}}function hg(s){let r,t;return{c(){r=W("img"),this.h()},l(i){r=x(i,"IMG",{src:!0,alt:!0,width:!0,height:!0}),this.h()},h(){Et(r.src,t="./src/routes/assets/call-forward.svg")||w(r,"src",t),w(r,"alt","call-forward"),w(r,"width","30px"),w(r,"height","30px")},m(i,o){V(i,r,o)},p:Oe,d(i){i&&S(r)}}}function K0(s){let r,t;return r=new fg({props:{$statust:s[13],operator:s[0].email,$$slots:{default:[dg]},$$scope:{ctx:s}}}),{c(){Ye(r.$$.fragment)},l(i){Ze(r.$$.fragment,i)},m(i,o){Xe(r,i,o),t=!0},p(i,o){const a={};o[0]&8192&&(a.$statust=i[13]),o[0]&1&&(a.operator=i[0].email),o[1]&16&&(a.$$scope={dirty:o,ctx:i}),r.$set(a)},i(i){t||(oe(r.$$.fragment,i),t=!0)},o(i){ue(r.$$.fragment,i),t=!1},d(i){Qe(r,i)}}}function dg(s){let r,t;return{c(){r=W("img"),this.h()},l(i){r=x(i,"IMG",{src:!0,alt:!0,width:!0,height:!0}),this.h()},h(){Et(r.src,t="./src/routes/assets/file-transfer.svg")||w(r,"src",t),w(r,"alt","file-transfer"),w(r,"width","30px"),w(r,"height","30px")},m(i,o){V(i,r,o)},p:Oe,d(i){i&&S(r)}}}function pg(s){let r,t,i=s[0].email!==s[3].em&&V0(s);return{c(){r=W("div"),i&&i.c(),this.h()},l(o){r=x(o,"DIV",{style:!0});var a=J(r);i&&i.l(a),a.forEach(S),this.h()},h(){O(r,"display","flex"),O(r,"flex-wrap","nowrap"),O(r,"justify-content","space-between"),O(r,"padding-bottom","20px")},m(o,a){V(o,r,a),i&&i.m(r,null),s[28](r),t=!0},p(o,a){o[0].email!==o[3].em?i?(i.p(o,a),a[0]&9&&oe(i,1)):(i=V0(o),i.c(),oe(i,1),i.m(r,null)):i&&(Jt(),ue(i,1,1,()=>{i=null}),Kt())},i(o){t||(oe(i),t=!0)},o(o){ue(i),t=!1},d(o){o&&S(r),i&&i.d(),s[28](null)}}}function gg(s,r,t){let i,o,a,u,f;We(s,kn,ae=>t(31,i=ae)),We(s,eo,ae=>t(32,o=ae)),We(s,Ur,ae=>t(21,a=ae)),We(s,Ou,ae=>t(33,u=ae)),We(s,Di,ae=>t(13,f=ae));let{operator:c}=r,{id:d}=r,{dep:g}=r,{user:p}=r,_,b,P,k,R,T,F=u;F&&(P=F["input operator name"][i],k=F["input operator email"][i],R=F["input description"][i]);let K=Mu;p.picture.medium&&(K=p.picture.medium);let{edited_display:L}=r,Y=!0,N=!0;p.abonent=c.abonent,p.email=p.email?p.email:"";const M=ae=>ae?ae.replace(/^([a-z])/,(Te,Ke)=>Ke.toUpperCase()):"";p.name=M(p.name);let B;Ut(()=>{});function ee(ae){let Te=new MouseEvent("click",{bubbles:!1,cancelable:!0,view:window});T&&T.dispatchEvent(Te)}let Z,j;function U(ae){try{lo(ae.target.files[0],function(Te,Ke){Te.type==="error"?console.error("Error loading image "):(Z=Te.width,j=Te.height,t(0,p.picture={medium:Te.toDataURL()},p),ve())},{orientation:!0,maxWidth:100,maxHeight:100,minWidth:50,minHeight:50,canvas:!0})}catch(Te){console.log(Te)}}async function ve(ae){let Te={};Te.proj="kolmit",Te.func="changeoper",Te.abonent=c.abonent,Te.em=c.email,Te.dep_id=g.id,Te.data=p,Te.lang=i,fetch("/operator/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({par:Te})})}async function X(ae){let Te=g.staff[d];if(Te&&confirm("Delete "+Te.name)){let Ke={};Ke.proj="kolmit",Ke.func="remoper",Ke.em=c.email,Ke.id=Te.id,Ke.dep=g.id,Ke.lang=i,Ke.abonent=c.abonent;const ut=await(await fetch("/operator/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({par:Ke})})).json();t(2,g.staff=ut.dep.staff,g)}}function ie(ae){De[ae?"unshift":"push"](()=>{T=ae,t(9,T)})}function xe(){_=this.files,t(5,_)}function Ce(){p.name=this.value,t(0,p)}function Pe(){p.email=this.value,t(0,p)}function rt(){p.desc=this.value,t(0,p)}function Ie(ae){f=ae,Di.set(f)}function _e(ae){De[ae?"unshift":"push"](()=>{B=ae,t(12,B)})}return s.$$set=ae=>{"operator"in ae&&t(3,c=ae.operator),"id"in ae&&t(20,d=ae.id),"dep"in ae&&t(2,g=ae.dep),"user"in ae&&t(0,p=ae.user),"edited_display"in ae&&t(1,L=ae.edited_display)},s.$$.update=()=>{s.$$.dirty[0]&2097154&&a&&(t(1,L=a),t(10,Y=!L),t(11,N=!L)),s.$$.dirty[0]&25&&p.email&&c.em===p.email&&(console.log(c.em+" "+p.email),zn(eo,o=K,o))},[p,L,g,c,K,_,P,k,R,T,Y,N,B,f,b,F,ee,U,ve,X,d,a,ie,xe,Ce,Pe,rt,Ie,_e]}class Fu extends je{constructor(r){super(),Je(this,r,gg,pg,Ge,{operator:3,id:20,dep:2,user:0,edited_display:1},null,[-1,-1])}}function Y0(s,r,t){const i=s.slice();return i[30]=r[t],i[31]=r,i[32]=t,i}function Z0(s){let r,t,i,o,a,u=s[1]&&X0(s);return{c(){r=W("button"),t=W("input"),i=te(),u&&u.c(),this.h()},l(f){r=x(f,"BUTTON",{class:!0,owner:!0});var c=J(r);t=x(c,"INPUT",{type:!0,style:!0,placeholder:!0,class:!0}),i=ne(c),u&&u.l(c),c.forEach(S),this.h()},h(){w(t,"type","text"),t.readOnly=s[10],O(t,"border-width","0px"),w(t,"placeholder","input dep name"),w(t,"class","svelte-zwf51o"),w(r,"class","collapsible svelte-zwf51o"),w(r,"owner",s[2])},m(f,c){V(f,r,c),D(r,t),st(t,s[0].alias),D(r,i),u&&u.m(r,null),s[17](r),o||(a=[ce(t,"change",function(){Cr(s[13]({dep:s[0]}))&&s[13]({dep:s[0]}).apply(this,arguments)}),ce(t,"click",s[12]),ce(t,"input",s[16]),ce(r,"click",s[14])],o=!0)},p(f,c){s=f,c[0]&1024&&(t.readOnly=s[10]),c[0]&1&&t.value!==s[0].alias&&st(t,s[0].alias),s[1]?u?u.p(s,c):(u=X0(s),u.c(),u.m(r,null)):u&&(u.d(1),u=null),c[0]&4&&w(r,"owner",s[2])},d(f){f&&S(r),u&&u.d(),s[17](null),o=!1,Yt(a)}}}function X0(s){let r,t=s[3].email===s[3].abonent&&Q0(s);return{c(){t&&t.c(),r=Be()},l(i){t&&t.l(i),r=Be()},m(i,o){t&&t.m(i,o),V(i,r,o)},p(i,o){i[3].email===i[3].abonent?t?t.p(i,o):(t=Q0(i),t.c(),t.m(r.parentNode,r)):t&&(t.d(1),t=null)},d(i){i&&S(r),t&&t.d(i)}}}function Q0(s){let r,t,i,o,a,u;return{c(){r=ze("svg"),t=ze("glyph"),i=ze("g"),o=ze("path"),this.h()},l(f){r=Me(f,"svg",{height:!0,width:!0,style:!0});var c=J(r);t=Me(c,"glyph",{"glyph-name":!0,unicode:!0,"horiz-adv-x":!0}),J(t).forEach(S),i=Me(c,"g",{class:!0});var d=J(i);o=Me(d,"path",{d:!0,transform:!0,style:!0}),J(o).forEach(S),d.forEach(S),c.forEach(S),this.h()},h(){w(t,"glyph-name","minus-circle"),w(t,"unicode",""),w(t,"horiz-adv-x","50"),w(o,"d","M500.2 62.5c-241.8 0-437.7 195.89999999999998-437.7 437.3 0 241.8 195.89999999999998 437.7 437.7 437.7 241.40000000000003 0 437.3-195.89999999999998 437.3-437.7 0-241.40000000000003-195.89999999999998-437.3-437.3-437.3z m301.59999999999997 466.5c-0.6999999999999318 9-2.199999999999932 19.100000000000023-4.699999999999932 30.299999999999955h-593.9000000000001c-2.499999999999943-11.199999999999932-4.299999999999926-21.699999999999932-5.0999999999999375-31.399999999999977-0.6999999999999886-9.699999999999932-1.0999999999999943-19.799999999999955-1.0999999999999943-30.299999999999955 0-9 0.4000000000000057-18 1.0999999999999943-26.700000000000045 0.700000000000017-9 2.5-19.099999999999966 5.099999999999994-30.299999999999955h593.9000000000001c2.4999999999998863 11.199999999999989 3.9999999999998863 21.599999999999966 4.699999999999818 31.399999999999977 1.1000000000000227 9.699999999999989 1.400000000000091 19.80000000000001 1.400000000000091 30.30000000000001 0.09999999999990905 9.099999999999966-0.3000000000000682 17.69999999999999-1.400000000000091 26.69999999999999z"),w(o,"transform","scale(.03)"),O(o,"fill","lightgrey"),O(o,"stroke","black"),O(o,"stroke-width","20px"),w(i,"class","currentLayer"),w(r,"height","30"),w(r,"width","30"),O(r,"position","relative"),O(r,"float","right")},m(f,c){V(f,r,c),D(r,t),D(r,i),D(i,o),a||(u=ce(r,"click",function(){Cr(s[6](s[0].id))&&s[6](s[0].id).apply(this,arguments)}),a=!0)},p(f,c){s=f},d(f){f&&S(r),a=!1,u()}}}function $0(s){let r,t,i,o,a,u;function f(p){s[18](p)}function c(p){s[19](p)}function d(p){s[20](p)}let g={id:s[0].admin.id,operator:s[3],update:s[4],readonly:s[10]};return s[9]!==void 0&&(g.status=s[9]),s[0]!==void 0&&(g.dep=s[0]),s[0].admin!==void 0&&(g.user=s[0].admin),t=new Fu({props:g}),De.push(()=>dt(t,"status",f)),De.push(()=>dt(t,"dep",c)),De.push(()=>dt(t,"user",d)),{c(){r=W("div"),Ye(t.$$.fragment)},l(p){r=x(p,"DIV",{});var _=J(r);Ze(t.$$.fragment,_),_.forEach(S)},m(p,_){V(p,r,_),Xe(t,r,null),u=!0},p(p,_){const b={};_[0]&1&&(b.id=p[0].admin.id),_[0]&8&&(b.operator=p[3]),_[0]&16&&(b.update=p[4]),_[0]&1024&&(b.readonly=p[10]),!i&&_[0]&512&&(i=!0,b.status=p[9],ht(()=>i=!1)),!o&&_[0]&1&&(o=!0,b.dep=p[0],ht(()=>o=!1)),!a&&_[0]&1&&(a=!0,b.user=p[0].admin,ht(()=>a=!1)),t.$set(b)},i(p){u||(oe(t.$$.fragment,p),u=!0)},o(p){ue(t.$$.fragment,p),u=!1},d(p){p&&S(r),Qe(t)}}}function eu(s){let r,t,i=yt(s[0].staff),o=[];for(let u=0;u<i.length;u+=1)o[u]=tu(Y0(s,i,u));const a=u=>ue(o[u],1,1,()=>{o[u]=null});return{c(){for(let u=0;u<o.length;u+=1)o[u].c();r=Be()},l(u){for(let f=0;f<o.length;f+=1)o[f].l(u);r=Be()},m(u,f){for(let c=0;c<o.length;c+=1)o[c]&&o[c].m(u,f);V(u,r,f),t=!0},p(u,f){if(f[0]&1561){i=yt(u[0].staff);let c;for(c=0;c<i.length;c+=1){const d=Y0(u,i,c);o[c]?(o[c].p(d,f),oe(o[c],1)):(o[c]=tu(d),o[c].c(),oe(o[c],1),o[c].m(r.parentNode,r))}for(Jt(),c=i.length;c<o.length;c+=1)a(c);Kt()}},i(u){if(!t){for(let f=0;f<i.length;f+=1)oe(o[f]);t=!0}},o(u){o=o.filter(Boolean);for(let f=0;f<o.length;f+=1)ue(o[f]);t=!1},d(u){u&&S(r),Qn(o,u)}}}function tu(s){let r,t,i,o,a,u;function f(p){s[21](p)}function c(p){s[22](p)}function d(p){s[23](p,s[30],s[31],s[32])}let g={operator:s[3],update:s[4],readonly:s[10]};return s[9]!==void 0&&(g.status=s[9]),s[0]!==void 0&&(g.dep=s[0]),s[30]!==void 0&&(g.user=s[30]),r=new Fu({props:g}),De.push(()=>dt(r,"status",f)),De.push(()=>dt(r,"dep",c)),De.push(()=>dt(r,"user",d)),{c(){Ye(r.$$.fragment),a=te()},l(p){Ze(r.$$.fragment,p),a=ne(p)},m(p,_){Xe(r,p,_),V(p,a,_),u=!0},p(p,_){s=p;const b={};_[0]&8&&(b.operator=s[3]),_[0]&16&&(b.update=s[4]),_[0]&1024&&(b.readonly=s[10]),!t&&_[0]&512&&(t=!0,b.status=s[9],ht(()=>t=!1)),!i&&_[0]&1&&(i=!0,b.dep=s[0],ht(()=>i=!1)),!o&&_[0]&1&&(o=!0,b.user=s[30],ht(()=>o=!1)),r.$set(b)},i(p){u||(oe(r.$$.fragment,p),u=!0)},o(p){ue(r.$$.fragment,p),u=!1},d(p){p&&S(a),Qe(r,p)}}}function nu(s){let r,t,i,o,a,u,f,c;return{c(){r=W("div"),t=ze("svg"),i=ze("title"),o=Ve("add-user"),a=ze("glyph"),u=ze("path"),this.h()},l(d){r=x(d,"DIV",{class:!0,style:!0});var g=J(r);t=Me(g,"svg",{style:!0});var p=J(t);i=Me(p,"title",{});var _=J(i);o=qe(_,"add-user"),_.forEach(S),a=Me(p,"glyph",{"glyph-name":!0,unicode:!0,"horiz-adv-x":!0}),J(a).forEach(S),u=Me(p,"path",{d:!0,transform:!0,style:!0}),J(u).forEach(S),p.forEach(S),g.forEach(S),this.h()},h(){w(a,"glyph-name","contact-add"),w(a,"unicode",""),w(a,"horiz-adv-x","50"),w(u,"d","M134.1 761.6c-14.5 0-26.39999999999999-11.899999999999977-26.39999999999999-26.399999999999977v-523.5c0-14.500000000000057 11.899999999999991-26.400000000000034 26.39999999999999-26.400000000000034h639.8c14.5 0 26.399999999999977 11.899999999999977 26.399999999999977 26.399999999999977v239.40000000000003c15.800000000000068 2.3999999999999773 30.90000000000009 6.2999999999999545 45.40000000000009 11.899999999999977v-288.7c0-14.5-11.900000000000091-26.400000000000006-26.40000000000009-26.400000000000006h-730.4c-14.499999999999972 0-26.399999999999977 11.900000000000006-26.399999999999977 26.400000000000006v598.7c0 14.399999999999977 11.900000000000006 26.299999999999955 26.400000000000006 26.299999999999955h479.30000000000007c-7.400000000000091-11.899999999999977-13.700000000000045-24.59999999999991-18.700000000000045-37.69999999999993h-415.4z m164.70000000000002-245h-19.400000000000034c-41.69999999999999 0-75.39999999999998 33.799999999999955-75.39999999999998 75.39999999999998v21c0 13.100000000000023 10.699999999999989 23.799999999999955 23.80000000000001 23.799999999999955h251.7c13.100000000000023 0 23.899999999999977-10.699999999999932 23.899999999999977-23.799999999999955v-21c0-41.60000000000002-33.799999999999955-75.39999999999998-75.39999999999998-75.39999999999998h-19.600000000000023c-10.099999999999966 0-18.299999999999955-8.100000000000023-18.299999999999955-18.30000000000001 0-3.8000000000000114 1.5-7.300000000000011 4.199999999999989-10 11.300000000000011-11 20.899999999999977-25.80000000000001 27.69999999999999-41.80000000000001 1.5 1.1000000000000227 2.8999999999999773 1.8000000000000114 4.5 1.8000000000000114 10.899999999999977 0 23.80000000000001-24.19999999999999 23.80000000000001-40.80000000000001 0-16.399999999999977-1.5-29.80000000000001-12.300000000000011-29.80000000000001-1.3000000000000114 0-2.8000000000000114 0.30000000000001137-4 0.6000000000000227-0.8000000000000114-44.69999999999999-12.100000000000023-100.40000000000003-80.30000000000001-100.40000000000003-71.19999999999999 0-79.5 55.60000000000002-80.19999999999999 100.20000000000005-1-0.20000000000004547-2-0.4000000000000341-2.8999999999999773-0.4000000000000341-11 0-12.5 13.400000000000034-12.5 29.80000000000001 0 16.5 12.899999999999977 40.80000000000001 23.799999999999955 40.80000000000001 1.3000000000000114 0 2.6000000000000227-0.4000000000000341 3.8000000000000114-1.1000000000000227 6.800000000000011 15.699999999999989 16.19999999999999 30.30000000000001 27.30000000000001 41 2.8000000000000114 2.6000000000000227 4.199999999999989 6.300000000000011 4.199999999999989 10-0.19999999999998863 10.199999999999989-8.399999999999977 18.400000000000034-18.399999999999977 18.400000000000034z m381.2-189.3c0-9.699999999999989-7.899999999999977-17.80000000000001-17.799999999999955-17.80000000000001h-211.00000000000006c6 13.600000000000023 10.300000000000011 30.100000000000023 12.199999999999989 50.60000000000002 4.600000000000023 2.8999999999999773 7.900000000000034 7.399999999999977 10.700000000000045 12.799999999999955h188.10000000000002c9.699999999999932 0 17.799999999999955-7.899999999999977 17.799999999999955-17.599999999999966v-28z m-2.1000000000000227 151.09999999999997c1.1000000000000227-2.3999999999999773 2.1000000000000227-5 2.1000000000000227-7.699999999999989v-28c0-9.699999999999989-7.899999999999977-17.80000000000001-17.799999999999955-17.80000000000001h-183.80000000000007c-5 18.900000000000034-17.099999999999966 38.700000000000045-34.299999999999955 43.900000000000034l-1.6000000000000227 2.8000000000000114v16.69999999999999h213.20000000000005c7.2999999999999545-3.6999999999999886 14.699999999999932-7 22.199999999999932-9.900000000000034z m-125 125.10000000000002c8.899999999999977-23.299999999999955 21.5-44.5 37.39999999999998-63.200000000000045h-71.69999999999993c9.399999999999977 15 15.100000000000023 32.700000000000045 15.100000000000023 51.60000000000002v11.5h19.199999999999932v0.10000000000002274z m332.20000000000005-55.39999999999998c-30.700000000000045-31.100000000000023-73.10000000000002-50.60000000000002-119.70000000000005-52.400000000000034h-6.2999999999999545c-49.700000000000045 0-94 19.900000000000034-126.5 52.400000000000034-32.10000000000002 32.10000000000002-52.39999999999998 76.79999999999995-52.39999999999998 126 0 25.299999999999955 5.399999999999977 49.299999999999955 14.899999999999977 71 9 20.699999999999932 21.699999999999932 39.69999999999993 37.5 55.60000000000002 32.5 32.09999999999991 76.79999999999995 52 126.5 52 98.39999999999998 0 178.39999999999998-80 178.39999999999998-178.4000000000001 0-49.39999999999998-19.899999999999977-94.09999999999991-52.39999999999998-126.19999999999993z m-41.60000000000002 152.19999999999993h-58.700000000000045v58.30000000000007h-52v-58.30000000000007h-58.299999999999955v-52.39999999999998h58.299999999999955v-58.299999999999955h52v58.299999999999955h58.700000000000045v52.39999999999998z"),w(u,"transform","scale(.04)"),O(u,"fill","grey"),O(t,"position","relative"),O(t,"left","45%"),O(t,"height","40, width=40"),w(r,"class","add_oper"),O(r,"display",s[8])},m(d,g){V(d,r,g),D(r,t),D(t,i),D(i,o),D(t,a),D(t,u),f||(c=ce(r,"click",s[5]),f=!0)},p(d,g){g[0]&256&&O(r,"display",d[8])},d(d){d&&S(r),f=!1,c()}}}function _g(s){let r,t,i,o,a,u=s[0].id!=="0"&&Z0(s),f=s[0].admin&&$0(s),c=s[0].staff&&eu(s),d=s[1]&&nu(s);return{c(){u&&u.c(),r=te(),t=W("div"),f&&f.c(),i=te(),c&&c.c(),o=te(),d&&d.c(),this.h()},l(g){u&&u.l(g),r=ne(g),t=x(g,"DIV",{class:!0,style:!0});var p=J(t);f&&f.l(p),i=ne(p),c&&c.l(p),o=ne(p),d&&d.l(p),p.forEach(S),this.h()},h(){w(t,"class","content svelte-zwf51o"),O(t,"max-height","0px")},m(g,p){u&&u.m(g,p),V(g,r,p),V(g,t,p),f&&f.m(t,null),D(t,i),c&&c.m(t,null),D(t,o),d&&d.m(t,null),s[24](t),a=!0},p(g,p){g[0].id!=="0"?u?u.p(g,p):(u=Z0(g),u.c(),u.m(r.parentNode,r)):u&&(u.d(1),u=null),g[0].admin?f?(f.p(g,p),p[0]&1&&oe(f,1)):(f=$0(g),f.c(),oe(f,1),f.m(t,i)):f&&(Jt(),ue(f,1,1,()=>{f=null}),Kt()),g[0].staff?c?(c.p(g,p),p[0]&1&&oe(c,1)):(c=eu(g),c.c(),oe(c,1),c.m(t,o)):c&&(Jt(),ue(c,1,1,()=>{c=null}),Kt()),g[1]?d?d.p(g,p):(d=nu(g),d.c(),d.m(t,null)):d&&(d.d(1),d=null)},i(g){a||(oe(f),oe(c),a=!0)},o(g){ue(f),ue(c),a=!1},d(g){g&&(S(r),S(t)),u&&u.d(g),f&&f.d(),c&&c.d(),d&&d.d(),s[24](null)}}}function mg(s,r,t){let i,o,a;We(s,kn,X=>t(25,i=X)),We(s,Ur,X=>t(15,o=X)),We(s,Di,X=>t(26,a=X)),We(s,Li,X=>t(27,X));let{dep:u}=r,{owner:f}=r,{operator:c}=r,d,g="none",p=a,_=!1,b;Ut(()=>{u.id==="0"&&t(11,b.style.maxHeight=200+b.scrollHeight+"px",b);let X=document.getElementsByClassName("add_oper");for(let ie in X)_||(X[ie].scrollIntoView&&X[ie].scrollIntoView(!1),L(new Event("expand")))});let{update:P}=r,{edited_display:k}=r;function R(X){k&&(u.admin.email===f||!c.abonent)&&(X.currentTarget.readOnly=!1)}async function T(X){let ie={};ie.proj="kolmit",ie.func="changedep",ie.abonent=c.abonent,ie.em=c.email,ie.dep=u;let Ce=await(await fetch("/operator",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({par:ie})})).json();t(0,u=Ce.dep),console.log(Ce.rows.affectedRows)}async function F(X){let ie={};ie.proj="kolmit",ie.func="addoper",ie.abonent=c.abonent,ie.em=c.email,ie.lang=i,ie.dep_id=u.id;let Ce=await(await fetch("/operator/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({par:ie})})).json();t(0,u=Ce.dep),t(11,b.style.maxHeight=200+b.scrollHeight+"px",b)}let{RemoveDep:K}=r;function L(X){b&&X.type!=="expand"&&(b.style.maxHeight=="0px"?t(11,b.style.maxHeight=b.scrollHeight+"px",b):t(11,b.style.maxHeight="0px",b)),console.log(b.style.maxHeight)}function Y(){u.alias=this.value,t(0,u)}function N(X){De[X?"unshift":"push"](()=>{d=X,t(7,d)})}function M(X){p=X,t(9,p)}function B(X){u=X,t(0,u)}function ee(X){s.$$.not_equal(u.admin,X)&&(u.admin=X,t(0,u))}function Z(X){p=X,t(9,p)}function j(X){u=X,t(0,u)}function U(X,ie,xe,Ce){xe[Ce]=X,t(0,u)}function ve(X){De[X?"unshift":"push"](()=>{b=X,t(11,b)})}return s.$$set=X=>{"dep"in X&&t(0,u=X.dep),"owner"in X&&t(2,f=X.owner),"operator"in X&&t(3,c=X.operator),"update"in X&&t(4,P=X.update),"edited_display"in X&&t(1,k=X.edited_display),"RemoveDep"in X&&t(6,K=X.RemoveDep)},s.$$.update=()=>{s.$$.dirty[0]&32770&&o&&(t(1,k=o),t(10,_=!k)),s.$$.dirty[0]&11&&k&&(!c.abonent&&u.id==="0"||!c.abonent&&!u.admin||c.abonent&&c.email===u.admin.email)&&t(8,g="block")},[u,k,f,c,P,F,K,d,g,p,_,b,R,T,L,o,Y,N,M,B,ee,Z,j,U,ve]}class vg extends je{constructor(r){super(),Je(this,r,mg,_g,Ge,{dep:0,owner:2,operator:3,update:4,edited_display:1,AddOper:5,RemoveDep:6},null,[-1,-1])}get AddOper(){return this.$$.ctx[5]}}function ru(s,r,t){const i=s.slice();return i[22]=r[t],i[23]=r,i[24]=t,i}function iu(s){let r,t,i,o,a,u,f;function c(_){s[8](_,s[22],s[23],s[24])}function d(_){s[9](_)}function g(_){s[10](_)}let p={owner:s[22].admin.email,operator:s[0],update:s[2],RemoveDep:s[6]};return s[22]!==void 0&&(p.dep=s[22]),s[1]!==void 0&&(p.tarif=s[1]),s[4]!==void 0&&(p.edited_display=s[4]),i=new vg({props:p}),De.push(()=>dt(i,"dep",c)),De.push(()=>dt(i,"tarif",d)),De.push(()=>dt(i,"edited_display",g)),{c(){r=W("br"),t=te(),Ye(i.$$.fragment),this.h()},l(_){r=x(_,"BR",{class:!0}),t=ne(_),Ze(i.$$.fragment,_),this.h()},h(){w(r,"class","svelte-1mmnihw")},m(_,b){V(_,r,b),V(_,t,b),Xe(i,_,b),f=!0},p(_,b){s=_;const P={};b&4&&(P.owner=s[22].admin.email),b&1&&(P.operator=s[0]),b&4&&(P.update=s[2]),!o&&b&4&&(o=!0,P.dep=s[22],ht(()=>o=!1)),!a&&b&2&&(a=!0,P.tarif=s[1],ht(()=>a=!1)),!u&&b&16&&(u=!0,P.edited_display=s[4],ht(()=>u=!1)),i.$set(P)},i(_){f||(oe(i.$$.fragment,_),f=!0)},o(_){ue(i.$$.fragment,_),f=!1},d(_){_&&(S(r),S(t)),Qe(i,_)}}}function lu(s){let r,t=s[0].role==="admin"&&ou(s);return{c(){t&&t.c(),r=Be()},l(i){t&&t.l(i),r=Be()},m(i,o){t&&t.m(i,o),V(i,r,o)},p(i,o){i[0].role==="admin"?t?t.p(i,o):(t=ou(i),t.c(),t.m(r.parentNode,r)):t&&(t.d(1),t=null)},d(i){i&&S(r),t&&t.d(i)}}}function ou(s){let r,t,i,o,a,u,f;return{c(){r=ze("svg"),t=ze("title"),i=Ve("Add Dep"),o=ze("glyph"),a=ze("path"),this.h()},l(c){r=Me(c,"svg",{class:!0,height:!0,width:!0,style:!0});var d=J(r);t=Me(d,"title",{class:!0});var g=J(t);i=qe(g,"Add Dep"),g.forEach(S),o=Me(d,"glyph",{"glyph-name":!0,unicode:!0,"horiz-adv-x":!0,class:!0}),J(o).forEach(S),a=Me(d,"path",{d:!0,transform:!0,style:!0,class:!0}),J(a).forEach(S),d.forEach(S),this.h()},h(){w(t,"class","svelte-1mmnihw"),w(o,"glyph-name","plus-circle"),w(o,"unicode",""),w(o,"horiz-adv-x","50"),w(o,"class","svelte-1mmnihw"),w(a,"d","M500.2 62.5c-241.8 0-437.7 195.89999999999998-437.7 437.3 0 241.8 195.89999999999998 437.7 437.7 437.7 241.40000000000003 0 437.3-195.89999999999998 437.3-437.7 0-241.40000000000003-195.89999999999998-437.3-437.3-437.3z m301.59999999999997 466.5c-0.6999999999999318 9-2.199999999999932 19.100000000000023-4.699999999999932 30.299999999999955h-237.70000000000005v237.80000000000007c-11.199999999999932 2.5-21.600000000000023 4.2999999999999545-31.399999999999977 5.100000000000023-9.700000000000045 0.6999999999999318-19.80000000000001 1.099999999999909-30.30000000000001 1.099999999999909-9 0-17.69999999999999-0.39999999999997726-26.69999999999999-1.099999999999909-9-0.7000000000000455-19.100000000000023-2.5-30.30000000000001-5.100000000000023v-237.70000000000005h-237.5c-2.5-11.199999999999932-4.299999999999983-21.699999999999932-5.099999999999994-31.399999999999977-0.6999999999999886-9.700000000000045-1.0999999999999943-19.80000000000001-1.0999999999999943-30.30000000000001 0-9 0.4000000000000057-17.69999999999999 1.0999999999999943-26.69999999999999 0.700000000000017-9 2.5-19.100000000000023 5.099999999999994-30.30000000000001h237.40000000000003v-237.5c11.199999999999989-2.5 21.599999999999966-4 31.399999999999977-4.699999999999989 9.699999999999989-1.0999999999999943 19.80000000000001-1.4000000000000057 30.30000000000001-1.4000000000000057 9 0 17.999999999999943 0.4000000000000057 26.69999999999999 1.4000000000000057 9 0.6999999999999886 19.100000000000023 2.1999999999999886 30.299999999999955 4.699999999999989v237.40000000000003h237.80000000000007c2.5 11.199999999999989 4 21.599999999999966 4.699999999999932 31.399999999999977 1.1000000000000227 9.699999999999989 1.400000000000091 19.80000000000001 1.400000000000091 30.30000000000001 0.09999999999990905 9.099999999999966-0.3000000000000682 18.099999999999966-1.400000000000091 26.69999999999999z"),w(a,"transform","scale(.04)"),O(a,"fill","lightgrey"),w(a,"class","svelte-1mmnihw"),w(r,"class","add_dep svelte-1mmnihw"),w(r,"height","50"),w(r,"width","50"),O(r,"float","right")},m(c,d){V(c,r,d),D(r,t),D(t,i),D(r,o),D(r,a),u||(f=ce(r,"click",s[5]),u=!0)},p:Oe,d(c){c&&S(r),u=!1,f()}}}function bg(s){let r,t,i,o,a,u,f=yt(s[2]),c=[];for(let p=0;p<f.length;p+=1)c[p]=iu(ru(s,f,p));const d=p=>ue(c[p],1,1,()=>{c[p]=null});let g=s[4]&&lu(s);return{c(){r=W("div"),t=W("div");for(let p=0;p<c.length;p+=1)c[p].c();i=te(),g&&g.c(),o=te(),a=W("div"),this.h()},l(p){r=x(p,"DIV",{style:!0,class:!0});var _=J(r);t=x(_,"DIV",{class:!0,style:!0});var b=J(t);for(let P=0;P<c.length;P+=1)c[P].l(b);i=ne(b),g&&g.l(b),o=ne(b),a=x(b,"DIV",{class:!0,style:!0}),J(a).forEach(S),b.forEach(S),_.forEach(S),this.h()},h(){w(a,"class","empty svelte-1mmnihw"),O(a,"height","400px"),w(t,"class","deps_div svelte-1mmnihw"),O(t,"height","100vh"),O(t,"overflow-y","scroll"),O(r,"display",s[3]),w(r,"class","svelte-1mmnihw")},m(p,_){V(p,r,_),D(r,t);for(let b=0;b<c.length;b+=1)c[b]&&c[b].m(t,null);D(t,i),g&&g.m(t,null),D(t,o),D(t,a),u=!0},p(p,[_]){if(_&87){f=yt(p[2]);let b;for(b=0;b<f.length;b+=1){const P=ru(p,f,b);c[b]?(c[b].p(P,_),oe(c[b],1)):(c[b]=iu(P),c[b].c(),oe(c[b],1),c[b].m(t,i))}for(Jt(),b=f.length;b<c.length;b+=1)d(b);Kt()}p[4]?g?g.p(p,_):(g=lu(p),g.c(),g.m(t,o)):g&&(g.d(1),g=null),(!u||_&8)&&O(r,"display",p[3])},i(p){if(!u){for(let _=0;_<f.length;_+=1)oe(c[_]);u=!0}},o(p){c=c.filter(Boolean);for(let _=0;_<c.length;_+=1)ue(c[_]);u=!1},d(p){p&&S(r),Qn(c,p),g&&g.d()}}}function yg(s,r,t){let i,o,a,u;We(s,Iu,B=>t(12,i=B)),We(s,yr,B=>t(13,o=B)),We(s,Bi,B=>t(14,a=B)),We(s,kn,B=>t(15,u=B));const{forEach:f,findIndex:c}=zu;let{operator:d}=r,{view:g}=r,p="none",_,b=u,P=a;const k={"Content-Type":"application/json"};async function R(B){fetch("/user",{method:"POST",body:JSON.stringify({par:B}),headers:{headers:k}}).then(ee=>ee.json()).then(ee=>{Array.isArray(ee.resp)?ee.resp.map(Z=>{zn(yr,o=Z,o)}):zn(yr,o=ee.resp,o),R(B)}).catch(ee=>(console.log(ee),[]))}Ut(async()=>{R({type:"user",abonent:d.abonent,em:d.em})});let T=!1,{tarif:F}=r;async function K(){if(d.role==="admin"){let B={};B.proj="kolmit",B.func="adddep",B.em=d.email,B.lang=b,B.abonent=d.abonent,B.id=_;const U=(await(await fetch(i+"/operator",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({par:B})})).json()).dep;t(2,P[B.id]=U,P)}}async function L(B){let ee=c(P,{id:B});if(confirm("Delete Dep "+(P[ee].alias?P[ee].alias:"")+"?")){let Z={};Z.proj="kolmit",Z.func="remdep",Z.role=d,Z.dep=B,Z.em=d.email,Z.lang=b,Z.abonent=d.abonent,Z.uid=d.uid;const U=await(await fetch(i+"/operator",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({par:Z})})).json();t(2,P=U.users)}}function Y(B,ee,Z,j){Z[j]=B,t(2,P)}function N(B){F=B,t(1,F)}function M(B){T=B,t(4,T)}return s.$$set=B=>{"operator"in B&&t(0,d=B.operator),"view"in B&&t(7,g=B.view),"tarif"in B&&t(1,F=B.tarif)},s.$$.update=()=>{s.$$.dirty&128&&(g==="cc"?t(3,p="block"):t(3,p="none")),s.$$.dirty&5&&P&&P.length>0&&f(P,(B,ee)=>{B.admin&&B.admin.email===d.email&&t(0,d.role=B.admin.role,d),_=ee})},[d,F,P,p,T,K,L,g,Y,N,M]}class wg extends je{constructor(r){super(),Je(this,r,yg,bg,Ge,{operator:0,view:7,tarif:1})}}class Cg{constructor(r,t,i){this.con=new RTCPeerConnection(t),this.signal=r.signal,this.rtc=r,this.pc_key=i,this.params={}}async SendDesc(r){let t=this,i={};return i.proj="kolmit",i.func="call",i.abonent=t.rtc.abonent,i.type=this.rtc.type,i.em=this.rtc.em,i.uid=this.rtc.uid,i.desc=r,i.status="call",i.oper_uid=this.rtc.oper_uid,await this.signal.SendMessage(i)}async SendCand(r){let t=this,i={};return i.proj="kolmit",i.func="call",i.type=this.rtc.type,i.uid=this.rtc.uid,i.em=this.rtc.em,i.cand=r,i.status="call",i.abonent=t.rtc.abonent,i.oper_uid=this.rtc.oper_uid,await this.signal.SendMessage(i)}async SendOffer(r){let t={};return t.proj="kolmit",t.func="offer",t.abonent=this.rtc.abonent,t.type=this.rtc.type,t.uid=this.rtc.uid,t.em=this.rtc.em,t.desc=this.params.loc_desc,t.cand=this.params.loc_cand,t.status="offer",await this.signal.SendMessage(t)}StartEvents(){let r=this;this.con.ontrack=function(i){r.pc_key!=="reserve"&&(r.rtc.GetRemoteAudio()!==i.streams[0]&&(r.rtc.remoteStream=i.streams[0],r.rtc.remoteStream.onaddtrack=function(o){console.log("addtrack in remote stream",r)}),r.rtc.remoteStream&&(i.track.kind==="audio"&&(r.rtc.SetRemoteAudio(null),r.rtc.SetRemoteAudio(r.rtc.remoteStream)),i.track.kind==="video"&&(r.rtc.SetRemoteVideo(r.rtc.remoteStream),r.rtc.DC.SendDCVideoOK(()=>{}))))};let t;this.con.onicecandidate=i=>{let o=this;i.candidate&&(this.params.loc_cand||(this.params.loc_cand=[]),this.params.loc_cand.push(i.candidate),t||(t=setTimeout(()=>{if(this.rtc.DC&&this.rtc.DC.dc.readyState==="open"){let a="";this.rtc.type&&this.rtc.type.offerToReceiveVideo===1&&(a={confirm:"Do you mind to turn on the cameras?"}),this.rtc.DC.SendDCOffer(o.pc_key,a),clearTimeout(t)}else this.rtc.DC&&this.rtc.DC.dc.readyState!=="open"&&(this.SendOffer(i.candidate),clearTimeout(t))},100)))},this.con.oniceconnectionstatechange=function(i){r.rtc.onIceStateChange(r,i)},this.con.onremovestream=function(i){},this.con.onsignalingstatechange=function(i){},this.con.onconnectionstatechange=function(i){console.log()}}onCreateAnswerSuccess(r){let t=this;console.log("Answer from pcPull 2:",this),console.log("setLocalDescription start",t),t.con.setLocalDescription(r).then(function(){t.params.loc_desc=t.con.localDescription,console.log("onSetLocalDescriptionSuccess",t),t.SendDesc(r)},t.onSetAnswerError)}setRemoteDesc(r){let t=this;console.log("setRemoteDescription start",t),console.log("Peer connectionState:"+this.con.connectionState,t),this.con.setRemoteDescription(r).then(function(){t.params.rem_desc=t.con.remoteDescription,t.con.remoteDescription.type==="offer"&&t.con.createAnswer().then(i=>t.onCreateAnswerSuccess(i),t.onCreateAnswerError)},function(i){console.log("Failed to set remote description: "+i.toString(),this)})}onCreateAnswerError(r){console.log("Failed to create answer: "+r.toString(),this)}onCreateOfferSuccess(r){let t=this;console.log("Offer created",t),console.log("setLocalDescription start",t),t.con.setLocalDescription(r).then(function(){t.params.loc_desc=t.con.localDescription,console.log(" setLocalDescription complete",t)},t.onSetOfferError)}onCreateVideoOfferSuccess(r,t){let i=this;console.log("Offer created",i),console.log("setLocalDescription start",i),i.con.setLocalDescription(r).then(function(){i.params.loc_desc=i.con.localDescription,console.log(" setLocalDescription complete",i),i.rtc.DC.SendDCDesc(r,i.pc_key)},i.onSetOfferError)}onSetOfferError(r){console.log("Failed to set offer: "+r.toString(),this)}onSetAnswerError(r){console.log("Failed to set session description: "+r.toString(),this)}onAddIceCandidateSuccess(r){console.log(" addIceCandidate success",this)}onAddIceCandidateError(r,t){console.log(" failed to add ICE Candidate: "+t.toString(),this)}onCreateOfferError(r){console.log("Failed to create session description: "+r.toString(),this)}onAddVideo(r){let t=this,i="Do you mind to turn on the cameras?";t.rtc.DC&&t.rtc.DC.dc.readyState==="open"&&t.rtc.DC.SendData({confirm:i})}onCreateSessionDescriptionError(r){}Cancel(){this.close()}}class Sg{constructor(r,t){this.rtc=r,this.pc=t,this.call_num=3,this.forward}CreateDC(){this.dc=pc.con.createDataChannel(pc.pc_key+" data channel")}}const Uu=ro();class kg extends Sg{constructor(r,t){super(r,t);let i=this;i.cnt_call=0,this.dc=t.con.createDataChannel(t.pc_key+" data channel"),this.dc.onopen=()=>{i.dc.readyState==="open"&&console.log(i.pc.pc_key+" datachannel open"),this.dc.onclose=()=>{}},t.StartEvents(),t.con.ondatachannel=f=>{console.log("Receive Channel Callback"),this.dc=f.channel};let o="",a=[],u=0;this.dc.onmessage=function(f){try{let c=JSON.parse(f.data);if(c.type==="eom"){o&&(i.rtc.OnMessage(JSON.parse(o),i),Uu.set(JSON.parse(o))),o="";return}if(o+=c.slice,c.file,c.type==="eof"){const d=new Blob(a);if(a=[],u=0,confirm("Получен файл: "+c.file+". Размер: "+c.length+" Сохранить?")){let g=document.getElementById("download_href");g.text("Получен файл: "+c.file+". Размер: "+c.length+" Сохранить?"),g.attributes.href="URL.createObjectURL(received)",g.attributes.download=c.file,g.click()}setTimeout(function(){document.getElementById("dataProgress").style.display="none"},2e3);return}}catch{if(o="",!f.data.byteLength)return}}}SendFile(r,t){try{if(this.dc.readyState==="open"){let i=16384;const o=Math.ceil(r.byteLength/i);this.dc.send(JSON.stringify({file:t,length:r.byteLength}),function(a){console.log(a)});for(let a=0,u=0;a<o;++a,u+=i){const f=r.slice(u,u+i);document.getElementById("dataProgress").attributes.value=u+i,this.dc.send(f,function(c){console.log(c)})}setTimeout(function(){document.getElementById("dataProgress").style.display="none"},2e3),this.dc.send(JSON.stringify({type:"eof",file:t,length:r.byteLength}),function(a){console.log(a)})}}catch(i){console.log(i)}}SendData(r,t){try{if(this.dc.readyState==="open"){r=JSON.stringify(r);let i=16384;const o=Math.ceil(r.length/i);for(let a=0,u=0;a<o;++a,u+=i)this.dc.send(JSON.stringify({slice:r.substr(u,i)}));this.dc.send(JSON.stringify({type:"eom"}))}t&&t()}catch(i){console.log(i)}}SendDCHangup(r){let t={};t.proj="kolmit",t.func="mute",t.type=this.rtc.type,this.SendData(t,r)}SendDCClose(r){let t={};t.proj="kolmit",t.func="close",t.type=this.rtc.type,this.SendData(t,r)}SendDCTalk(r){let t={};t.proj="kolmit",t.func="talk",t.type=this.rtc.type,this.SendData(t,r)}SendDCCand(r,t,i){let o={};o.proj="kolmit",o.func="offer",o.cand=r,o.trans=t,o.abonent=this.rtc.abonent,o.msg=i,this.SendData(o)}SendDCDesc(r,t,i){let o={};o.proj="kolmit",o.func="offer",o.desc=r,o.trans=t,o.abonent=this.rtc.abonent,o.msg=i,this.SendData(o)}SendDCOffer(r,t){let i={};i.proj="kolmit",i.func="offer",i.desc=this.pc.params.loc_desc,i.cand=this.pc.params.loc_cand,i.trans=r,i.abonent=this.rtc.abonent,i.msg=t,this.SendData(i)}SendDCVideoOK(r){let t={};t.proj="kolmit",t.func="video",t.type=this.rtc.type,this.SendData(t,r)}SendRedirect(r,t){let i={};if(i.proj="kolmit",i.func="redirect",i.abonent=r,this.dc.readyState==="open"){this.SendData(i);let o=new Date().toLocaleString("es-CL");t(o)}}}class Eg{constructor(r,t,i){this.signal=i,this.type=r.type,this.abonent=r.abonent,this.em=r.em,this.role=r.role,this.uid=t,this.status,this.pcPull={},this.main_pc,this.url,this.localStream,this.remoteStream,this.startTime,this.phone=""}async SendCheck(){let r={};r.proj="kolmit",r.func="check",r.status="check",r.type=this.type,r.abonent=this.abonent,r.em=this.em,r.uid=this.uid,this.signal.SendMessage(r,t=>{this.status="check"})}SendVideoOffer(r){this.pcPull[r].params.loc_desc="",this.pcPull[r].params.loc_cand="",this.pcPull[r].con.createOffer(this.mode={offerToReceiveAudio:1,offerToReceiveVideo:1,iceRestart:1}).then(t=>this.pcPull[r].onCreateVideoOfferSuccess(t),this.pcPull[r].onCreateOfferError)}onIceStateChange(r,t){r&&r.con&&(r.con.iceConnectionState==="new"&&console.log(r.pc_key+" ICE state change event: new",this),r.con.iceConnectionState==="checking"&&(console.log(r.pc_key+" ICE state change event: checking",this),this.checking_tmr=setTimeout(()=>{r.con.restartIce()},5e3)),r.con.iceConnectionState==="disconnected"&&(console.log(r.pc_key+" ICE state change event: disconnected",this),r.con.restartIce()),r.con.iceConnectionState==="connected"&&(clearTimeout(this.checking_tmr),console.log(r.pc_key+" ICE state change event: connected",this),this.main_pc=r.pc_key),r.con.iceConnectionState==="failed"&&(console.log(r.pc_key+" ICE state change event: failed",this),r.con.restartIce()),r.con.iceConnectionState==="completed"&&console.log(r.pc_key+" ICE state change event: completed",this),console.log(r.pc_key+" ICE state change event: "+t.type,this))}TransFile(){async function r(){const t=this.fileInput.files[0];if(t||console.log("No file chosen"),t.size===0)return;dataProgress.style.display="block",dataProgress.attributes.max=t.size;let i=new FileReader;i.onload=o=>{console.log("FileRead.onload ",o),this.DC.SendFile(o.target.result,t.name)},i.readAsArrayBuffer(t)}this.fileInput.removeEventListener("change",this.fileInput.onchange),this.fileInput.onchange=r,this.fileInput.dispatchEvent(new Event("click"))}GetUserMedia(r,t){navigator.mediaDevices.getUserMedia(r).then(i=>this.gotStream(i,t)).catch(function(i){(i.name==="NotFoundError"||i.name==="NotReadableError")&&(r.audio&&alert("Something wrong with mic?"),r.video&&alert("Something wrong with camera?"),t(!1))})}get RemoteStream(){return this.remoteStream}async InitRTC(r,t){this.conf=Bu;let i={iceTransportPolicy:"all",lifetimeDuration:this.conf.lifetimeDuration,rtcpMuxPolicy:"require",bundlePolicy:"balanced",iceServers:[this.conf.stun,this.conf.turn]};this.pcPull[r]&&(this.DC&&this.DC.dc&&(this.DC.dc.close(),this.DC=null),this.pcPull[r].con&&(this.pcPull[r].con.close(),this.pcPull[r].con=null));let o={};this.pcPull[r]=null,this.pcPull[r]=new Cg(this,i,r),this.pcPull[r].signal=this.signal,this.pcPull[r].params=o,this.DC=new kg(this,this.pcPull[r]),this.startTime=Date.now(),t()}gotStream(r,t){this.localStream||(this.localStream=r),this.getTracks(r,t)}getTracks(r,t){r.getTracks().forEach(a=>{for(let u in this.pcPull)u!=="reserve"&&(this.pcPull[u].con.iceConnectionState==="disconnected"||this.pcPull[u].con.iceConnectionState==="closed"||(this.localStream.addTrack(a),this.pcPull[u].sender=this.pcPull[u].con.addTrack(a,this.localStream),a.kind==="video"?this.SetLocalVideo(this.localStream):a.kind))});var i=this.localStream.getVideoTracks(),o=this.localStream.getAudioTracks();i.length>0&&console.log("Using video device: "+i[0].label,this),o.length>0&&console.log("Using audio device: "+o[0].label,this),t(!0)}RemoveTracks(){this.localStream&&(this.localStream.getVideoTracks().forEach(i=>{i.readyState=="live"&&i.kind==="video"&&i.stop(),this.localStream.removeTrack(i)}),this.localStream.getAudioTracks().forEach(i=>{i.readyState=="live"&&i.kind==="audio"&&i.stop(),this.localStream.removeTrack(i)}))}}class Og extends Eg{constructor(r,t,i){super(r,t,i),this.checking_tmr,Nr.subscribe(o=>{try{o&&this.OnMessage(o)}catch(a){console.log(a)}})}Init(r){let t=this;this.mode="";let i=[t.abonent];t.main_pc="";for(let o in i)t.InitRTC(i[o],function(){r()})}SendOffer(r){let t=this;t.pcPull[r].params.loc_desc="",t.pcPull[r].params.loc_cand="",t.pcPull[r].con.createOffer(this.mode={offerToReceiveAudio:1,offerToReceiveVideo:1,iceRestart:1}).then(i=>t.pcPull[r].onCreateOfferSuccess(i),t.pcPull[r].onCreateOfferError)}ChooseTarif(r){let t={};return t.proj="kolmit",t.func="tarif",t.em=this.em,t.tarif=r,t.psw=this.psw,new Promise((i,o)=>{this.signal.SendMessage(t,a=>{i(a)})})}SendStatus(r){let t={};return t.proj="kolmit",t.func="status",t.type=this.type,t.abonent=this.abonent,t.uid=this.uid,t.em=this.em,t.status=r,this.status=r,new Promise((i,o)=>{this.signal.SendMessage(t,a=>{i(a)})})}SendVideoOffer(r){let t=this;t.pcPull[r].params.loc_desc="",t.pcPull[r].params.loc_cand="",t.pcPull[r].con.createOffer(t.mode={offerToReceiveAudio:1,offerToReceiveVideo:1,iceRestart:1}).then(i=>t.pcPull[r].onCreateVideoOfferSuccess(i),t.pcPull[r].onCreateOfferError)}async Offer(){this.Init(async()=>{this.pcPull[this.abonent].con.signalingState!=="closed"&&this.GetUserMedia({audio:1,video:0},()=>{this.SendOffer(this.abonent)})})}OnActive(){this.Init(()=>{this.pcPull[this.abonent].con.signalingState!=="closed"&&this.GetUserMedia({audio:1,video:0},r=>{r&&this.SendOffer(this.abonent)})})}OnCall(){this.DC&&clearInterval(this.DC.inter),this.SendStatus("call")}OnTalk(){this.DC.dc&&this.DC.SendDCTalk(),this.SendStatus("talk"),console.log()}OnMute(){this.RemoveTracks(),this.DC&&this.DC.SendDCHangup(()=>{})}OnInactive(){this.RemoveTracks(),(this.DC.dc.readyState==="open"||this.DC.dc.readyState==="connecting")&&this.DC.SendDCHangup(()=>{this.DC.dc.close(),this.SendStatus("close")})}OnMessage(r){let t=this;if(r.func,r.func==="mute"&&this.RemoveTracks(),r.func==="talk"&&clearInterval(t.DC.inter),r.func,r.func,r.desc&&t.pcPull[r.abonent]&&(t.pcPull[r.abonent].con&&(t.pcPull[r.abonent].con.connectionState==="failed"||t.pcPull[r.abonent].con.connectionState==="disconnected")&&t.pcPull[r.abonent].con.restartIce(),t.pcPull[r.abonent]&&(t.pcPull[r.abonent].params.rem_desc=r.desc,t.pcPull[r.abonent].setRemoteDesc(r.desc),t.PlayCallCnt())),r.cand&&t.pcPull[r.abonent]&&t.pcPull[r.abonent]){if(!t.pcPull[r.abonent].con||t.pcPull[r.abonent].con.signalingState==="closed")return;try{if(t.pcPull[r.abonent].params.rem_cand=r.cand,Array.isArray(r.cand))for(let i in r.cand)t.pcPull[r.abonent].con.addIceCandidate(r.cand[i]);else t.pcPull[r.abonent].con.addIceCandidate(r.cand)}catch(i){log(i)}}}}function Ig(s){let r,t,i,o,a,u,f,c;return{c(){r=W("div"),t=ze("svg"),i=ze("g"),o=ze("title"),a=Ve("Layer 1"),u=ze("path"),this.h()},l(d){r=x(d,"DIV",{class:!0,style:!0});var g=J(r);t=Me(g,"svg",{class:!0,status:!0,width:!0,height:!0,style:!0});var p=J(t);i=Me(p,"g",{class:!0,style:!0});var _=J(i);o=Me(_,"title",{});var b=J(o);a=qe(b,"Layer 1"),b.forEach(S),u=Me(_,"path",{d:!0,id:!0,class:!0,transform:!0}),J(u).forEach(S),_.forEach(S),p.forEach(S),g.forEach(S),this.h()},h(){w(u,"d","M390.7 353.3c-120.30000000000001 69.5 63.19999999999999 413.59999999999997 194.90000000000003 337.59999999999997l122.10000000000002 211.39999999999998c-55.60000000000002 32.10000000000002-102.5 52.30000000000007-166.9000000000001 15.5-178.79999999999995-102.19999999999993-375.59999999999997-442.9-369.99999999999994-646.0999999999999 1.8999999999999773-70.60000000000005 43.599999999999994-98.30000000000004 97.89999999999998-129.70000000000005 23.30000000000001 40.400000000000006 98.60000000000002 170.8 122 211.3z m50.400000000000034-5.699999999999989c-13 7.5-29.700000000000045 3.099999999999966-37.30000000000001-10l-115-199.3c-7.5-13.000000000000014-3.1000000000000227-29.700000000000017 10-37.30000000000001l60.5-34.900000000000006c13-7.499999999999993 29.69999999999999-3.0999999999999943 37.30000000000001 10l115.09999999999997 199.29999999999998c7.500000000000057 13 3.099999999999966 29.700000000000045-10 37.200000000000045l-60.599999999999966 35z m314.4 544.5c-13 7.5-29.700000000000045 3.1000000000000227-37.299999999999955-10l-115-199.30000000000007c-7.5-13-3.1000000000000227-29.699999999999932 10-37.299999999999955l60.5-34.89999999999998c13-7.5 29.699999999999932-3.1000000000000227 37.299999999999955 10l115.10000000000002 199.29999999999995c7.5 13 3.1000000000000227 29.700000000000045-10 37.30000000000007l-60.60000000000002 34.89999999999998z"),w(u,"id","svg_1"),w(u,"class","selected"),w(u,"transform","scale(.04)"),w(i,"class","currentLayer svelte-xpesuu"),O(i,"stroke","lightgrey"),O(i,"stroke-width","10px"),w(t,"class","callButton svelte-xpesuu"),w(t,"status",s[0]),w(t,"width","50"),w(t,"height","50"),O(t,"position","absolute"),O(t,"left","0px"),O(t,"top","5px"),O(t,"z-index","30"),w(r,"class","callObject"),O(r,"display","block")},m(d,g){V(d,r,g),D(r,t),D(t,i),D(i,o),D(o,a),D(i,u),f||(c=[ce(t,"click",s[2]),ce(r,"long-press",function(){Cr(s[1])&&s[1].apply(this,arguments)})],f=!0)},p(d,[g]){s=d,g&1&&w(t,"status",s[0])},i:Oe,o:Oe,d(d){d&&S(r),f=!1,Yt(c)}}}function Tg(s,r,t){let{status:i="inactive"}=r,{OnLongPress:o}=r;function a(u){$l.call(this,s,u)}return s.$$set=u=>{"status"in u&&t(0,i=u.status),"OnLongPress"in u&&t(1,o=u.OnLongPress)},[i,o,a]}class Ag extends je{constructor(r){super(),Je(this,r,Tg,Ig,Ge,{status:0,OnLongPress:1})}}function Dg(s){let r,t,i,o,a,u,f;return{c(){r=W("button"),t=ze("svg"),i=ze("line"),o=ze("line"),a=ze("line"),this.h()},l(c){r=x(c,"BUTTON",{style:!0,class:!0});var d=J(r);t=Me(d,"svg",{width:!0,height:!0,class:!0});var g=J(t);i=Me(g,"line",{id:!0,x1:!0,y1:!0,x2:!0,y2:!0,style:!0,class:!0}),J(i).forEach(S),o=Me(g,"line",{id:!0,x1:!0,y1:!0,x2:!0,y2:!0,style:!0,class:!0}),J(o).forEach(S),a=Me(g,"line",{id:!0,x1:!0,y1:!0,x2:!0,y2:!0,style:!0,class:!0}),J(a).forEach(S),g.forEach(S),d.forEach(S),this.h()},h(){w(i,"id","top"),w(i,"x1","0"),w(i,"y1","8"),w(i,"x2","26"),w(i,"y2","8"),O(i,"transition","transform "+s[1]+"s ease-in-out, opacity "+s[1]+"s ease-in-out"),w(i,"class","svelte-11id1mh"),w(o,"id","mid"),w(o,"x1","0"),w(o,"y1","16"),w(o,"x2","26"),w(o,"y2","16"),O(o,"transition","transform "+s[1]+"s ease-in-out, opacity "+s[1]+"s ease-in-out"),w(o,"class","svelte-11id1mh"),w(a,"id","bot"),w(a,"x1","0"),w(a,"y1","24"),w(a,"x2","26"),w(a,"y2","24"),O(a,"transition","transform "+s[1]+"s ease-in-out, opacity "+s[1]+"s ease-in-out"),w(a,"class","svelte-11id1mh"),w(t,"width","26"),w(t,"height","26"),w(t,"class","svelte-11id1mh"),O(r,"position","fixed"),O(r,"transition","color "+s[1]+"s ease-in-out"),O(r,"color",s[0]?s[3]:s[2]),w(r,"class","svelte-11id1mh"),M0(r,"open",s[0])},m(c,d){V(c,r,d),D(r,t),D(t,i),D(t,o),D(t,a),u||(f=ce(r,"click",s[4]),u=!0)},p(c,[d]){d&2&&O(i,"transition","transform "+c[1]+"s ease-in-out, opacity "+c[1]+"s ease-in-out"),d&2&&O(o,"transition","transform "+c[1]+"s ease-in-out, opacity "+c[1]+"s ease-in-out"),d&2&&O(a,"transition","transform "+c[1]+"s ease-in-out, opacity "+c[1]+"s ease-in-out"),d&2&&O(r,"transition","color "+c[1]+"s ease-in-out"),d&13&&O(r,"color",c[0]?c[3]:c[2]),d&1&&M0(r,"open",c[0])},i:Oe,o:Oe,d(c){c&&S(r),u=!1,f()}}}function Rg(s,r,t){let{open:i}=r,{duration:o}=r,{burgerColor:a}=r,{menuColor:u}=r;const f=()=>t(0,i=!i);return s.$$set=c=>{"open"in c&&t(0,i=c.open),"duration"in c&&t(1,o=c.duration),"burgerColor"in c&&t(2,a=c.burgerColor),"menuColor"in c&&t(3,u=c.menuColor)},[i,o,a,u,f]}class Pg extends je{constructor(r){super(),Je(this,r,Rg,Dg,Ge,{open:0,duration:1,burgerColor:2,menuColor:3})}}function Lg(s){let r,t,i;const o=s[8].default,a=Kn(o,s,s[7],null);return{c(){r=W("div"),t=W("div"),a&&a.c(),this.h()},l(u){r=x(u,"DIV",{id:!0,style:!0,class:!0});var f=J(r);t=x(f,"DIV",{id:!0,style:!0,class:!0});var c=J(t);a&&a.l(c),c.forEach(S),f.forEach(S),this.h()},h(){w(t,"id","menu"),O(t,"padding",s[3]),O(t,"padding-top",s[4]),w(t,"class","svelte-krt0zq"),w(r,"id","container"),O(r,"position","fixed"),O(r,"z-index","1"),O(r,"background-color",s[5]),O(r,"color",s[6]),O(r,"width",s[2]),O(r,"right",s[0]?"0px":"-"+(parseInt(s[2])+10)+"px"),O(r,"transition","right "+s[1]+"s ease-in-out"),w(r,"class","svelte-krt0zq")},m(u,f){V(u,r,f),D(r,t),a&&a.m(t,null),i=!0},p(u,[f]){a&&a.p&&(!i||f&128)&&Yn(a,o,u,u[7],i?Xn(o,u[7],f,null):Zn(u[7]),null),(!i||f&8)&&O(t,"padding",u[3]),(!i||f&16)&&O(t,"padding-top",u[4]),(!i||f&32)&&O(r,"background-color",u[5]),(!i||f&64)&&O(r,"color",u[6]),(!i||f&4)&&O(r,"width",u[2]),(!i||f&5)&&O(r,"right",u[0]?"0px":"-"+(parseInt(u[2])+10)+"px"),(!i||f&2)&&O(r,"transition","right "+u[1]+"s ease-in-out")},i(u){i||(oe(a,u),i=!0)},o(u){ue(a,u),i=!1},d(u){u&&S(r),a&&a.d(u)}}}function Bg(s,r,t){let{$$slots:i={},$$scope:o}=r,{open:a}=r,{duration:u}=r,{width:f}=r,{padding:c}=r,{paddingTop:d}=r,{backgroundColor:g}=r,{menuColor:p}=r;return s.$$set=_=>{"open"in _&&t(0,a=_.open),"duration"in _&&t(1,u=_.duration),"width"in _&&t(2,f=_.width),"padding"in _&&t(3,c=_.padding),"paddingTop"in _&&t(4,d=_.paddingTop),"backgroundColor"in _&&t(5,g=_.backgroundColor),"menuColor"in _&&t(6,p=_.menuColor),"$$scope"in _&&t(7,o=_.$$scope)},[a,u,f,c,d,g,p,o,i]}class zg extends je{constructor(r){super(),Je(this,r,Bg,Lg,Ge,{open:0,duration:1,width:2,padding:3,paddingTop:4,backgroundColor:5,menuColor:6})}}function Mg(s){let r;const t=s[10].default,i=Kn(t,s,s[13],null);return{c(){i&&i.c()},l(o){i&&i.l(o)},m(o,a){i&&i.m(o,a),r=!0},p(o,a){i&&i.p&&(!r||a&8192)&&Yn(i,t,o,o[13],r?Xn(t,o[13],a,null):Zn(o[13]),null)},i(o){r||(oe(i,o),r=!0)},o(o){ue(i,o),r=!1},d(o){i&&i.d(o)}}}function Fg(s){let r,t,i,o,a,u;const f=[s[1]];function c(b){s[11](b)}let d={};for(let b=0;b<f.length;b+=1)d=mr(d,f[b]);s[0]!==void 0&&(d.open=s[0]),r=new Pg({props:d}),De.push(()=>dt(r,"open",c));const g=[s[2]];function p(b){s[12](b)}let _={$$slots:{default:[Mg]},$$scope:{ctx:s}};for(let b=0;b<g.length;b+=1)_=mr(_,g[b]);return s[0]!==void 0&&(_.open=s[0]),o=new zg({props:_}),De.push(()=>dt(o,"open",p)),{c(){Ye(r.$$.fragment),i=te(),Ye(o.$$.fragment)},l(b){Ze(r.$$.fragment,b),i=ne(b),Ze(o.$$.fragment,b)},m(b,P){Xe(r,b,P),V(b,i,P),Xe(o,b,P),u=!0},p(b,[P]){const k=P&2?vr(f,[br(b[1])]):{};!t&&P&1&&(t=!0,k.open=b[0],ht(()=>t=!1)),r.$set(k);const R=P&4?vr(g,[br(b[2])]):{};P&8192&&(R.$$scope={dirty:P,ctx:b}),!a&&P&1&&(a=!0,R.open=b[0],ht(()=>a=!1)),o.$set(R)},i(b){u||(oe(r.$$.fragment,b),oe(o.$$.fragment,b),u=!0)},o(b){ue(r.$$.fragment,b),ue(o.$$.fragment,b),u=!1},d(b){b&&S(i),Qe(r,b),Qe(o,b)}}}function Ug(s,r,t){let{$$slots:i={},$$scope:o}=r,{open:a=!1}=r,{duration:u=.4}=r,{width:f="250px"}=r,{padding:c="20px"}=r,{paddingTop:d="50px"}=r,{backgroundColor:g="rgb(250, 250, 250)"}=r,{burgerColor:p="rgb(18.4, 18.4, 18.4)"}=r,{menuColor:_="rgb(180, 180, 180)"}=r,b={duration:u,burgerColor:p,menuColor:_},P={duration:u,width:f,padding:c,paddingTop:d,backgroundColor:g,menuColor:_};function k(T){a=T,t(0,a)}function R(T){a=T,t(0,a)}return s.$$set=T=>{"open"in T&&t(0,a=T.open),"duration"in T&&t(3,u=T.duration),"width"in T&&t(4,f=T.width),"padding"in T&&t(5,c=T.padding),"paddingTop"in T&&t(6,d=T.paddingTop),"backgroundColor"in T&&t(7,g=T.backgroundColor),"burgerColor"in T&&t(8,p=T.burgerColor),"menuColor"in T&&t(9,_=T.menuColor),"$$scope"in T&&t(13,o=T.$$scope)},[a,b,P,u,f,c,d,g,p,_,i,k,R,o]}class Ng extends je{constructor(r){super(),Je(this,r,Ug,Fg,Ge,{open:0,duration:3,width:4,padding:5,paddingTop:6,backgroundColor:7,burgerColor:8,menuColor:9})}}function Wg(s){let r,t,i,o;const a=s[6].default,u=Kn(a,s,s[5],null);return{c(){r=W("video"),t=W("track"),i=te(),u&&u.c(),this.h()},l(f){r=x(f,"VIDEO",{poster:!0,style:!0});var c=J(r);t=x(c,"TRACK",{kind:!0}),c.forEach(S),i=ne(f),u&&u.l(f),this.h()},h(){w(t,"kind","captions"),r.autoplay=!0,r.playsInline=!0,w(r,"poster",s[1]),O(r,"display",s[0]),O(r,"position","absolute"),O(r,"height","105px"),O(r,"background-color","white"),O(r,"max-width","12%"),O(r,"z-index","10")},m(f,c){V(f,r,c),D(r,t),s[7](r),V(f,i,c),u&&u.m(f,c),o=!0},p(f,[c]){(!o||c&2)&&w(r,"poster",f[1]),(!o||c&1)&&O(r,"display",f[0]),u&&u.p&&(!o||c&32)&&Yn(u,a,f,f[5],o?Xn(a,f[5],c,null):Zn(f[5]),null)},i(f){o||(oe(u,f),o=!0)},o(f){ue(u,f),o=!1},d(f){f&&(S(r),S(i)),s[7](null),u&&u.d(f)}}}function xg(s,r,t){let{$$slots:i={},$$scope:o}=r,{display:a="none"}=r,{poster:u}=r,{srcObject:f}=r,c,d;Ut(async()=>{t(4,c=d)});function g(p){De[p?"unshift":"push"](()=>{d=p,t(2,d)})}return s.$$set=p=>{"display"in p&&t(0,a=p.display),"poster"in p&&t(1,u=p.poster),"srcObject"in p&&t(3,f=p.srcObject),"$$scope"in p&&t(5,o=p.$$scope)},s.$$.update=()=>{s.$$.dirty&24&&(c&&f?t(4,c.srcObject=f,c):c&&c.srcObject&&(c.srcObject.getVideoTracks().forEach(p=>{p.stop(),c.srcObject.removeTrack(p)}),t(4,c.src="",c)))},[a,u,d,f,c,o,i,g]}class Hg extends je{constructor(r){super(),Je(this,r,xg,Wg,Ge,{display:0,poster:1,srcObject:3})}}function Vg(s){let r,t="",i,o,a='<input type="file" id="fileInput" name="files"/>',u,f;return{c(){r=W("a"),r.innerHTML=t,i=te(),o=W("form"),o.innerHTML=a,u=te(),f=W("i"),this.h()},l(c){r=x(c,"A",{id:!0,style:!0,"data-svelte-h":!0}),mt(r)!=="svelte-1ulz4fx"&&(r.innerHTML=t),i=ne(c),o=x(c,"FORM",{id:!0,style:!0,"data-svelte-h":!0}),mt(o)!=="svelte-tjvju7"&&(o.innerHTML=a),u=ne(c),f=x(c,"I",{class:!0,style:!0}),J(f).forEach(S),this.h()},h(){w(r,"id","download_href"),O(r,"display","none"),w(o,"id","fileInfo"),O(o,"display","none"),w(f,"class","fa fa-spinner fa-spin"),O(f,"position","absolute"),O(f,"top","50%"),O(f,"left","50%"),O(f,"font-size","44px")},m(c,d){V(c,r,d),V(c,i,d),V(c,o,d),V(c,u,d),V(c,f,d)},p:Oe,i:Oe,o:Oe,d(c){c&&(S(r),S(i),S(o),S(u),S(f))}}}class qg extends je{constructor(r){super(),Je(this,r,null,Vg,Ge,{})}}function Gg(s){let r,t='<track kind="captions"/>',i;return{c(){r=W("audio"),r.innerHTML=t,this.h()},l(o){r=x(o,"AUDIO",{id:!0,src:!0,"data-svelte-h":!0}),mt(r)!=="svelte-qhtjm0"&&(r.innerHTML=t),this.h()},h(){w(r,"id","localSound"),Et(r.src,i="../src/routes/assets/mp3/ring.mp3")||w(r,"src",i)},m(o,a){V(o,r,a)},p:Oe,i:Oe,o:Oe,d(o){o&&S(r)}}}function jg(s,r,t){let{paused:i=!0}=r,o;return Ut(async()=>{t(1,o=document.getElementById("localSound"))}),s.$$set=a=>{"paused"in a&&t(0,i=a.paused)},s.$$.update=()=>{s.$$.dirty&3&&o&&(i?o.pause():o.play())},[i,o]}class Jg extends je{constructor(r){super(),Je(this,r,jg,Gg,Ge,{paused:0})}}function Kg(s){let r,t;return{c(){r=W("audio"),t=W("track"),this.h()},l(i){r=x(i,"AUDIO",{id:!0});var o=J(r);t=x(o,"TRACK",{kind:!0}),o.forEach(S),this.h()},h(){w(t,"kind","captions"),w(r,"id","remoteAudio"),r.autoplay=!0,r.muted=s[0]},m(i,o){V(i,r,o),D(r,t)},p(i,[o]){o&1&&(r.muted=i[0])},i:Oe,o:Oe,d(i){i&&S(r)}}}function Yg(s,r,t){let{muted:i=!1}=r,{srcObject:o}=r,a;return Ut(async()=>{t(2,a=document.getElementById("remoteAudio"))}),s.$$set=u=>{"muted"in u&&t(0,i=u.muted),"srcObject"in u&&t(1,o=u.srcObject)},s.$$.update=()=>{s.$$.dirty&6&&a&&o&&t(2,a.srcObject=o,a)},[i,o,a]}class Zg extends je{constructor(r){super(),Je(this,r,Yg,Kg,Ge,{muted:0,srcObject:1})}}function Xg(s){let r;return{c(){r=W("video"),this.h()},l(t){r=x(t,"VIDEO",{class:!0,style:!0}),J(r).forEach(S),this.h()},h(){w(r,"class","recordedVideo"),r.autoplay=!0,r.muted=!0,O(r,"display",s[0])},m(t,i){V(t,r,i)},p(t,[i]){i&1&&O(r,"display",t[0])},i:Oe,o:Oe,d(t){t&&S(r)}}}function Qg(s,r,t){let{display:i="none"}=r;return s.$$set=o=>{"display"in o&&t(0,i=o.display)},[i]}class $g extends je{constructor(r){super(),Je(this,r,Qg,Xg,Ge,{display:0})}}function e_(s){let r,t=s[0][0].s+"",i;return{c(){r=W("div"),i=Ve(t)},l(o){r=x(o,"DIV",{});var a=J(r);i=qe(a,t),a.forEach(S)},m(o,a){V(o,r,a),D(r,i)},p(o,[a]){a&1&&t!==(t=o[0][0].s+"")&&Rt(i,t)},i:Oe,o:Oe,d(o){o&&S(r)}}}function t_(s,r,t){let{data:i}=r;return s.$$set=o=>{"data"in o&&t(0,i=o.data)},[i]}class n_ extends je{constructor(r){super(),Je(this,r,t_,e_,Ge,{data:0})}}function su(s,r,t){const i=s.slice();return i[1]=r[t],i[3]=t,i}function uu(s){let r,t=s[1].name+"",i;return{c(){r=W("div"),i=Ve(t)},l(o){r=x(o,"DIV",{});var a=J(r);i=qe(a,t),a.forEach(S)},m(o,a){V(o,r,a),D(r,i)},p(o,a){a&1&&t!==(t=o[1].name+"")&&Rt(i,t)},d(o){o&&S(r)}}}function r_(s){let r,t,i,o=yt(s[0][0].staff),a=[];for(let u=0;u<o.length;u+=1)a[u]=uu(su(s,o,u));return{c(){r=W("div"),t=te();for(let u=0;u<a.length;u+=1)a[u].c();i=Be()},l(u){r=x(u,"DIV",{}),J(r).forEach(S),t=ne(u);for(let f=0;f<a.length;f+=1)a[f].l(u);i=Be()},m(u,f){V(u,r,f),V(u,t,f);for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(u,f);V(u,i,f)},p(u,[f]){if(f&1){o=yt(u[0][0].staff);let c;for(c=0;c<o.length;c+=1){const d=su(u,o,c);a[c]?a[c].p(d,f):(a[c]=uu(d),a[c].c(),a[c].m(i.parentNode,i))}for(;c<a.length;c+=1)a[c].d(1);a.length=o.length}},i:Oe,o:Oe,d(u){u&&(S(r),S(t),S(i)),Qn(a,u)}}}function i_(s,r,t){let i;return We(s,Bi,o=>t(0,i=o)),console.log(i[0].staff),[i]}class l_ extends je{constructor(r){super(),Je(this,r,i_,r_,Ge,{})}}var Nu={aar:"aa",abk:"ab",afr:"af",aka:"ak",alb:"sq",amh:"am",ara:"ar",arg:"an",arm:"hy",asm:"as",ava:"av",ave:"ae",aym:"ay",aze:"az",bak:"ba",bam:"bm",baq:"eu",bel:"be",ben:"bn",bih:"bh",bis:"bi",bos:"bs",bre:"br",bul:"bg",bur:"my",cat:"ca",cha:"ch",che:"ce",chi:"zh",chu:"cu",chv:"cv",cor:"kw",cos:"co",cre:"cr",cze:"cs",dan:"da",div:"dv",dut:"nl",dzo:"dz",eng:"en",epo:"eo",est:"et",ewe:"ee",fao:"fo",fij:"fj",fin:"fi",fre:"fr",fry:"fy",ful:"ff",geo:"ka",ger:"de",gla:"gd",gle:"ga",glg:"gl",glv:"gv",gre:"el",grn:"gn",guj:"gu",hat:"ht",hau:"ha",heb:"he",her:"hz",hin:"hi",hmo:"ho",hrv:"hr",hun:"hu",ibo:"ig",ice:"is",ido:"io",iii:"ii",iku:"iu",ile:"ie",ina:"ia",ind:"id",ipk:"ik",ita:"it",jav:"jv",jpn:"ja",kal:"kl",kan:"kn",kas:"ks",kau:"kr",kaz:"kk",khm:"km",kik:"ki",kin:"rw",kir:"ky",kom:"kv",kon:"kg",kor:"ko",kua:"kj",kur:"ku",lao:"lo",lat:"la",lav:"lv",lim:"li",lin:"ln",lit:"lt",ltz:"lb",lub:"lu",lug:"lg",mac:"mk",mah:"mh",mal:"ml",mao:"mi",mar:"mr",may:"ms",mlg:"mg",mlt:"mt",mon:"mn",nau:"na",nav:"nv",nbl:"nr",nde:"nd",ndo:"ng",nep:"ne",nno:"nn",nob:"nb",nor:"no",nya:"ny",oci:"oc",oji:"oj",ori:"or",orm:"om",oss:"os",pan:"pa",per:"fa",pli:"pi",pol:"pl",por:"pt",pus:"ps",que:"qu",roh:"rm",rum:"ro",run:"rn",rus:"ru",sag:"sg",san:"sa",sin:"si",slo:"sk",slv:"sl",sme:"se",smo:"sm",sna:"sn",snd:"sd",som:"so",sot:"st",spa:"es",srd:"sc",srp:"sr",ssw:"ss",sun:"su",swa:"sw",swe:"sv",tah:"ty",tam:"ta",tat:"tt",tel:"te",tgk:"tg",tgl:"tl",tha:"th",tib:"bo",tir:"ti",ton:"to",tsn:"tn",tso:"ts",tuk:"tk",tur:"tr",twi:"tw",uig:"ug",ukr:"uk",urd:"ur",uzb:"uz",ven:"ve",vie:"vi",vol:"vo",wel:"cy",wln:"wa",wol:"wo",xho:"xh",yid:"yi",yor:"yo",zha:"za",zul:"zu"},o_={afar:"aa",abkhazian:"ab",afrikaans:"af",akan:"ak",albanian:"sq",amharic:"am",arabic:"ar",aragonese:"an",armenian:"hy",assamese:"as",avaric:"av",avestan:"ae",aymara:"ay",azerbaijani:"az",bashkir:"ba",bambara:"bm",basque:"eu",belarusian:"be",bengali:"bn","bihari languages":"bh",bislama:"bi",tibetan:"bo",bosnian:"bs",breton:"br",bulgarian:"bg",burmese:"my",catalan:"ca",valencian:"ca",czech:"cs",chamorro:"ch",chechen:"ce",chinese:"zh","church slavic":"cu","old slavonic":"cu","church slavonic":"cu","old bulgarian":"cu","old church slavonic":"cu",chuvash:"cv",cornish:"kw",corsican:"co",cree:"cr",welsh:"cy",danish:"da",german:"de",divehi:"dv",dhivehi:"dv",maldivian:"dv",dutch:"nl",flemish:"nl",dzongkha:"dz",greek:"el",english:"en",esperanto:"eo",estonian:"et",ewe:"ee",faroese:"fo",persian:"fa",fijian:"fj",finnish:"fi",french:"fr","western frisian":"fy",fulah:"ff",georgian:"ka",gaelic:"gd","scottish gaelic":"gd",irish:"ga",galician:"gl",manx:"gv",guarani:"gn",gujarati:"gu",haitian:"ht","haitian creole":"ht",hausa:"ha",hebrew:"he",herero:"hz",hindi:"hi","hiri motu":"ho",croatian:"hr",hungarian:"hu",igbo:"ig",icelandic:"is",ido:"io","sichuan yi":"ii",nuosu:"ii",inuktitut:"iu",interlingue:"ie",occidental:"ie",interlingua:"ia",indonesian:"id",inupiaq:"ik",italian:"it",javanese:"jv",japanese:"ja",kalaallisut:"kl",greenlandic:"kl",kannada:"kn",kashmiri:"ks",kanuri:"kr",kazakh:"kk","central khmer":"km",kikuyu:"ki",gikuyu:"ki",kinyarwanda:"rw",kirghiz:"ky",kyrgyz:"ky",komi:"kv",kongo:"kg",korean:"ko",kuanyama:"kj",kwanyama:"kj",kurdish:"ku",lao:"lo",latin:"la",latvian:"lv",limburgan:"li",limburger:"li",limburgish:"li",lingala:"ln",lithuanian:"lt",luxembourgish:"lb",letzeburgesch:"lb","luba-katanga":"lu",ganda:"lg",macedonian:"mk",marshallese:"mh",malayalam:"ml",maori:"mi",marathi:"mr",malay:"ms",malagasy:"mg",maltese:"mt",mongolian:"mn",nauru:"na",navajo:"nv",navaho:"nv","ndebele, south":"nr","south ndebele":"nr","ndebele, north":"nd","north ndebele":"nd",ndonga:"ng",nepali:"ne","norwegian nynorsk":"nn","nynorsk, norwegian":"nn","norwegian bokmål":"nb","bokmål, norwegian":"nb",norwegian:"no",chichewa:"ny",chewa:"ny",nyanja:"ny",occitan:"oc",ojibwa:"oj",oriya:"or",oromo:"om",ossetian:"os",ossetic:"os",panjabi:"pa",punjabi:"pa",pali:"pi",polish:"pl",portuguese:"pt",pushto:"ps",pashto:"ps",quechua:"qu",romansh:"rm",romanian:"ro",moldavian:"ro",moldovan:"ro",rundi:"rn",russian:"ru",sango:"sg",sanskrit:"sa",sinhala:"si",sinhalese:"si",slovak:"sk",slovenian:"sl","northern sami":"se",samoan:"sm",shona:"sn",sindhi:"sd",somali:"so","sotho, southern":"st",spanish:"es",castilian:"es",sardinian:"sc",serbian:"sr",swati:"ss",sundanese:"su",swahili:"sw",swedish:"sv",tahitian:"ty",tamil:"ta",tatar:"tt",telugu:"te",tajik:"tg",tagalog:"tl",thai:"th",tigrinya:"ti",tonga:"to",tswana:"tn",tsonga:"ts",turkmen:"tk",turkish:"tr",twi:"tw",uighur:"ug",uyghur:"ug",ukrainian:"uk",urdu:"ur",uzbek:"uz",venda:"ve",vietnamese:"vi",volapük:"vo",walloon:"wa",wolof:"wo",xhosa:"xh",yiddish:"yi",yoruba:"yo",zhuang:"za",chuang:"za",zulu:"zu"};const s_=Object.values(Nu).sort();var Ql=s=>{if(typeof s!="string")throw new Error('The "language" must be a string, received '+typeof s);if(s.length>100)throw new Error(`The "language" is too long at ${s.length} characters`);if(s=s.toLowerCase(),s=o_[s]||Nu[s]||s,!s_.includes(s))throw new Error(`The language "${s}" is not part of the ISO 639-1`);return s};function Wu(){var s=Object.create(null);function r(t){delete s[t]}this.set=function(t,i,o){if(o!==void 0&&(typeof o!="number"||isNaN(o)||o<=0))throw new Error("Cache timeout must be a positive number");var a=s[t];a&&clearTimeout(a.timeout);var u={value:i,expire:o+Date.now()};return isNaN(u.expire)||(u.timeout=setTimeout(()=>r(t),o)),s[t]=u,i},this.del=function(t){var i=!0,o=s[t];return o?(clearTimeout(o.timeout),!isNaN(o.expire)&&o.expire<Date.now()&&(i=!1)):i=!1,i&&r(t),i},this.clear=function(){for(var t in s)clearTimeout(s[t].timeout);s=Object.create(null)},this.get=function(t){var i=s[t];if(i!==void 0){if(isNaN(i.expire)||i.expire>=Date.now())return i.value;delete s[t]}return null}}const no=new Wu;no.Cache=Wu;const u_="https://translate.googleapis.com/translate_a/single";var a_={fetch:({key:s,from:r,to:t,text:i})=>[`${u_}?client=gtx&sl=${r}&tl=${t}&dt=t&q=${encodeURI(i)}`],parse:s=>s.json().then(r=>{if(!(r=r&&r[0]&&r[0][0]&&r[0].map(t=>t[0]).join("")))throw new Error("Translation not found");return r})},f_={needkey:!0,fetch:({key:s,from:r,to:t,text:i})=>[`https://translate.yandex.net/api/v1.5/tr.json/translate?key=${s}&lang=${r}-${t}&text=${encodeURIComponent(i)}`,{method:"POST",body:""}],parse:s=>s.json().then(r=>{if(r.code!==200)throw new Error(r.message);return r.text[0]})};const c_="https://libretranslate.com/translate";var h_={needkey:!1,fetch:({url:s=c_,key:r,from:t,to:i,text:o})=>[s,{method:"POST",body:JSON.stringify({q:o,source:t,target:i,api_key:r}),headers:{"Content-Type":"application/json"}}],parse:s=>s.json().then(r=>{if(!r)throw new Error("No response found");if(r.error)throw new Error(r.error);if(!r.translatedText)throw new Error("No response found");return r.translatedText})},d_={needkey:!0,fetch:({key:s,from:r,to:t,text:i})=>[`https://api${/:fx$/.test(s)?"-free":""}.deepl.com/v2/translate?auth_key=${s}&source_lang=${r}&target_lang=${t}&text=${i=encodeURIComponent(i)}`,{method:"POST",body:""}],parse:async s=>{if(!s.ok)throw s.status===403?new Error("Auth Error, please review the key for DeepL"):new Error(`Error ${s.status}`);return s.json().then(r=>r.translations[0].text)}},p_={google:a_,yandex:f_,libre:h_,deepl:d_};const Pi=function(s={}){if(!(this instanceof Pi))return new Pi(s);const r={from:"en",to:"en",cache:void 0,languages:Ql,engines:p_,engine:"google",keys:{}},t=async(i,o={})=>{typeof o=="string"&&(o={to:o}),o.text=i,o.from=Ql(o.from||t.from),o.to=Ql(o.to||t.to),o.cache=o.cache||t.cache,o.engines=o.engines||{},o.engine=o.engine||t.engine,o.url=o.url||t.url,o.id=o.id||`${o.url}:${o.from}:${o.to}:${o.engine}:${o.text}`,o.keys=o.keys||t.keys||{};for(let c in t.keys)o.keys[c]=o.keys[c]||t.keys[c];o.key=o.key||t.key||o.keys[o.engine];const a=o.engines[o.engine]||t.engines[o.engine],u=no.get(o.id);if(u)return Promise.resolve(u);if(o.to===o.from)return Promise.resolve(o.text);if(a.needkey&&!o.key)throw new Error(`The engine "${o.engine}" needs a key, please provide it`);const f=a.fetch(o);return fetch(...f).then(a.parse).then(c=>no.set(o.id,c,o.cache))};for(let i in r)t[i]=s[i]===void 0?r[i]:s[i];return t},Ai=new Pi;Ai.Translate=Pi;function g_(s){let r,t,i,o,a,u,f;return{c(){r=W("span"),t=W("sup"),i=Ve(s[1]),o=te(),a=Ve(s[0]),this.h()},l(c){r=x(c,"SPAN",{class:!0});var d=J(r);t=x(d,"SUP",{class:!0});var g=J(t);i=qe(g,s[1]),g.forEach(S),o=ne(d),a=qe(d,s[0]),d.forEach(S),this.h()},h(){w(t,"class","trans svelte-m379l8"),w(r,"class","a svelte-m379l8")},m(c,d){V(c,r,d),D(r,t),D(t,i),D(r,o),D(r,a),u||(f=ce(r,"click",k1(E1(__))),u=!0)},p(c,[d]){d&2&&Rt(i,c[1]),d&1&&Rt(a,c[0])},i:Oe,o:Oe,d(c){c&&S(r),u=!1,f()}}}async function __(s){s.currentTarget.firstChild&&setTimeout(async r=>{r.style.visibility="hidden"},2e3,s.currentTarget.firstChild),s.currentTarget.firstChild.style.visibility="visible"}function m_(s,r,t){let i;We(s,kn,c=>t(3,i=c));let{text:o,woorden:a}=r,u="trans";Ai.from="nl",Ai.engine="google";async function f(c){for(const d of Object.keys(a))if(c.toLowerCase().includes(`${d}`)&&a[d][i]){t(1,u=a[d][i]);return}t(1,u=await Ai(c.trim().toLowerCase(),i))}return Ut(()=>{}),s.$$set=c=>{"text"in c&&t(0,o=c.text),"woorden"in c&&t(2,a=c.woorden)},s.$$.update=()=>{s.$$.dirty&9&&i&&o&&f(o)},[o,u,a,i]}class v_ extends je{constructor(r){super(),Je(this,r,m_,g_,Ge,{text:0,woorden:2})}}function au(s,r,t){const i=s.slice();return i[0]=r[t],i[9]=t,i}function fu(s){let r=[],t=new Map,i,o,a=yt(s[1]);const u=f=>f[9];for(let f=0;f<a.length;f+=1){let c=au(s,a,f),d=u(c);t.set(d,r[f]=cu(d,c))}return{c(){for(let f=0;f<r.length;f+=1)r[f].c();i=Be()},l(f){for(let c=0;c<r.length;c+=1)r[c].l(f);i=Be()},m(f,c){for(let d=0;d<r.length;d+=1)r[d]&&r[d].m(f,c);V(f,i,c),o=!0},p(f,c){c&42&&(a=yt(f[1]),Jt(),r=Tu(r,c,u,1,f,a,t,i.parentNode,A1,cu,i,au),Kt())},i(f){if(!o){for(let c=0;c<a.length;c+=1)oe(r[c]);o=!0}},o(f){for(let c=0;c<r.length;c+=1)ue(r[c]);o=!1},d(f){f&&S(i);for(let c=0;c<r.length;c+=1)r[c].d(f)}}}function b_(s){let r=s[0]+"",t;return{c(){t=Ve(r)},l(i){t=qe(i,r)},m(i,o){V(i,t,o)},p(i,o){o&2&&r!==(r=i[0]+"")&&Rt(t,r)},i:Oe,o:Oe,d(i){i&&S(t)}}}function y_(s){let r,t;return r=new v_({props:{text:s[0],woorden:s[3]}}),{c(){Ye(r.$$.fragment)},l(i){Ze(r.$$.fragment,i)},m(i,o){Xe(r,i,o),t=!0},p(i,o){const a={};o&2&&(a.text=i[0]),o&8&&(a.woorden=i[3]),r.$set(a)},i(i){t||(oe(r.$$.fragment,i),t=!0)},o(i){ue(r.$$.fragment,i),t=!1},d(i){Qe(r,i)}}}function cu(s,r){let t,i,o,a,u,f;const c=[y_,b_],d=[];function g(p,_){return _&2&&(i=null),i==null&&(i=!!p[5](p[0])),i?0:1}return o=g(r,-1),a=d[o]=c[o](r),{key:s,first:null,c(){t=Be(),a.c(),u=Be(),this.h()},l(p){t=Be(),a.l(p),u=Be(),this.h()},h(){this.first=t},m(p,_){V(p,t,_),d[o].m(p,_),V(p,u,_),f=!0},p(p,_){r=p;let b=o;o=g(r,_),o===b?d[o].p(r,_):(Jt(),ue(d[b],1,1,()=>{d[b]=null}),Kt(),a=d[o],a?a.p(r,_):(a=d[o]=c[o](r),a.c()),oe(a,1),a.m(u.parentNode,u))},i(p){f||(oe(a),f=!0)},o(p){ue(a),f=!1},d(p){p&&(S(t),S(u)),d[o].d(p)}}}function w_(s){let r,t,i,o,a,u,f=s[2]&&fu(s);return{c(){r=W("div"),f&&f.c(),t=te(),i=W("div"),o=te(),a=W("div"),this.h()},l(c){r=x(c,"DIV",{});var d=J(r);f&&f.l(d),d.forEach(S),t=ne(c),i=x(c,"DIV",{}),J(i).forEach(S),o=ne(c),a=x(c,"DIV",{style:!0}),J(a).forEach(S),this.h()},h(){O(a,"height","10px")},m(c,d){V(c,r,d),f&&f.m(r,null),V(c,t,d),V(c,i,d),s[6](i),V(c,o,d),V(c,a,d),u=!0},p(c,[d]){c[2]?f?(f.p(c,d),d&4&&oe(f,1)):(f=fu(c),f.c(),oe(f,1),f.m(r,null)):f&&(Jt(),ue(f,1,1,()=>{f=null}),Kt())},i(c){u||(oe(f),u=!0)},o(c){ue(f),u=!1},d(c){c&&(S(r),S(t),S(i),S(o),S(a)),f&&f.d(),s[6](null)}}}function C_(s,r,t){let{text:i}=r,o,a,u,f;const c=Eu("abonent");fetch("/operator/lesson?dict=theme&level=12&theme=1&abonent="+c).then(p=>p.json()).then(p=>{t(3,u=JSON.parse(p.data))}).catch(p=>(console.log(p),[]));function d(p){for(let _ in a)if(p.trim().toLowerCase().includes(a[_]))return!0;return!1}Ut(()=>{f.scrollIntoView()});function g(p){De[p?"unshift":"push"](()=>{f=p,t(4,f)})}return s.$$set=p=>{"text"in p&&t(0,i=p.text)},s.$$.update=()=>{if(s.$$.dirty&15&&u){t(2,a=Object.keys(u)),a.map(_=>{let b=_.trim().replaceAll(" ","&nbsp;");return t(0,i=i.replaceAll(_,b)),i});let p=i.replaceAll(" "," ю");t(1,o=p.split("ю")),t(1,o=o.map((_,b)=>_.replaceAll("&nbsp;"," ")))}},[i,o,a,u,f,d,g]}class S_ extends je{constructor(r){super(),Je(this,r,C_,w_,Ge,{text:0})}}function k_(s){let r,t,i=">>",o,a;return{c(){r=W("div"),t=W("button"),t.textContent=i,this.h()},l(u){r=x(u,"DIV",{class:!0});var f=J(r);t=x(f,"BUTTON",{color:!0,"data-svelte-h":!0}),mt(t)!=="svelte-1xguzdp"&&(t.textContent=i),f.forEach(S),this.h()},h(){w(t,"color","danger"),w(r,"class","flex_container svelte-13efkel")},m(u,f){V(u,r,f),D(r,t),o||(a=ce(t,"click",function(){Cr(s[0])&&s[0].apply(this,arguments)}),o=!0)},p(u,[f]){s=u},i:Oe,o:Oe,d(u){u&&S(r),o=!1,a()}}}function E_(s,r,t){let{bottomOpen:i=!1}=r,{onContinueClick:o}=r;return s.$$set=a=>{"bottomOpen"in a&&t(1,i=a.bottomOpen),"onContinueClick"in a&&t(0,o=a.onContinueClick)},[o,i]}class O_ extends je{constructor(r){super(),Je(this,r,E_,k_,Ge,{bottomOpen:1,onContinueClick:0})}}function hu(s,r,t){const i=s.slice();return i[4]=r[t],i[21]=t,i}function du(s){let r,t,i,o,a,u;return t=new S_({props:{text:s[4]}}),{c(){r=W("div"),Ye(t.$$.fragment),i=te(),this.h()},l(f){r=x(f,"DIV",{class:!0,cnt:!0});var c=J(r);Ze(t.$$.fragment,c),i=ne(c),c.forEach(S),this.h()},h(){w(r,"class","selected_sentence svelte-d8c298"),w(r,"cnt",s[21])},m(f,c){V(f,r,c),Xe(t,r,null),D(r,i),s[10](r),o=!0,a||(u=ce(r,"click",s[7]),a=!0)},p(f,c){const d={};c&8&&(d.text=f[4]),t.$set(d)},i(f){o||(oe(t.$$.fragment,f),o=!0)},o(f){ue(t.$$.fragment,f),o=!1},d(f){f&&S(r),Qe(t),s[10](null),a=!1,u()}}}function I_(s){let r,t,i,o,a,u,f,c,d,g,p,_=yt(s[3]),b=[];for(let k=0;k<_.length;k+=1)b[k]=du(hu(s,_,k));const P=k=>ue(b[k],1,1,()=>{b[k]=null});return i=new O_({props:{bottomOpen:T_,onContinueClick:s[8]}}),{c(){r=W("div");for(let k=0;k<b.length;k+=1)b[k].c();t=te(),Ye(i.$$.fragment),o=te(),a=W("audio"),f=te(),c=W("div"),this.h()},l(k){r=x(k,"DIV",{});var R=J(r);for(let T=0;T<b.length;T+=1)b[T].l(R);R.forEach(S),t=ne(k),Ze(i.$$.fragment,k),o=ne(k),a=x(k,"AUDIO",{name:!0,src:!0}),J(a).forEach(S),f=ne(k),c=x(k,"DIV",{style:!0}),J(c).forEach(S),this.h()},h(){a.autoplay=!0,w(a,"name","media"),Et(a.src,u=s[2])||w(a,"src",u),O(c,"height","200px")},m(k,R){V(k,r,R);for(let T=0;T<b.length;T+=1)b[T]&&b[T].m(r,null);V(k,t,R),Xe(i,k,R),V(k,o,R),V(k,a,R),s[11](a),V(k,f,R),V(k,c,R),d=!0,g||(p=[ce(a,"canplay",s[6]),ce(a,"ended",s[5])],g=!0)},p(k,[R]){if(R&138){_=yt(k[3]);let T;for(T=0;T<_.length;T+=1){const F=hu(k,_,T);b[T]?(b[T].p(F,R),oe(b[T],1)):(b[T]=du(F),b[T].c(),oe(b[T],1),b[T].m(r,null))}for(Jt(),T=_.length;T<b.length;T+=1)P(T);Kt()}(!d||R&4&&!Et(a.src,u=k[2]))&&w(a,"src",u)},i(k){if(!d){for(let R=0;R<_.length;R+=1)oe(b[R]);oe(i.$$.fragment,k),d=!0}},o(k){b=b.filter(Boolean);for(let R=0;R<b.length;R+=1)ue(b[R]);ue(i.$$.fragment,k),d=!1},d(k){k&&(S(r),S(t),S(o),S(a),S(f),S(c)),Qn(b,k),Qe(i,k),s[11](null),g=!1,Yt(p)}}}let T_=!0;function A_(s,r,t){let{data:i}=r,o,a,u={},f,c,d,g=0,p=[];const _=Eu("abonent");fetch(`/operator/lesson?text=theme&level=${i.level}&theme=${i.theme}&abonent=${_}`).then(L=>L.json()).then(L=>{t(4,d=L.obj.text),t(4,d=d.replaceAll(`\r
`,"")),t(4,d=d.replaceAll(".","..")),t(4,d=d.split(". ")),t(4,d=d.map(Y=>Y.trim())),b()}).catch(L=>(console.log(L),[]));function b(){d[g]&&(d[g]?fetch("/operator/lesson?key="+wr(d[g])).then(L=>L.text()).then(L=>{p.push(d[g]),t(3,p),b(g++);try{u[wr(d[g])]=JSON.parse(L).audio}catch{}}).catch(L=>(console.log(L),[])):b(g++))}function P(){t(1,a.style.fontWeight=100,a),!f&&(g++,g>=d.length||b())}Ut(()=>{try{t(0,o.playbackRate=0,o)}catch(L){console.log(L)}});function k(){a&&t(1,a.style.fontWeight=500,a)}function R(L){t(2,c=""),t(0,o.src="",o),f=!0,t(1,a.style.fontWeight=100,a);let Y=parseInt(L.currentTarget.attributes.cnt.nodeValue);L.currentTarget.style.fontWeight=500,d[Y]&&t(2,c=u[wr(d[Y])]),t(1,a=L.currentTarget)}function T(){f=!1,g++,b()}function F(L){De[L?"unshift":"push"](()=>{a=L,t(1,a)})}function K(L){De[L?"unshift":"push"](()=>{o=L,t(0,o)})}return s.$$set=L=>{"data"in L&&t(9,i=L.data)},[o,a,c,p,d,P,k,R,T,i,F,K]}class D_ extends je{constructor(r){super(),Je(this,r,A_,I_,Ge,{data:9})}}function R_(s){let r,t;return r=new D_({props:{data:s[0]}}),{c(){Ye(r.$$.fragment)},l(i){Ze(r.$$.fragment,i)},m(i,o){Xe(r,i,o),t=!0},p(i,o){const a={};o&1&&(a.data=i[0]),r.$set(a)},i(i){t||(oe(r.$$.fragment,i),t=!0)},o(i){ue(r.$$.fragment,i),t=!1},d(i){Qe(r,i)}}}function P_(s){let r,t;return r=new l_({}),{c(){Ye(r.$$.fragment)},l(i){Ze(r.$$.fragment,i)},m(i,o){Xe(r,i,o),t=!0},p:Oe,i(i){t||(oe(r.$$.fragment,i),t=!0)},o(i){ue(r.$$.fragment,i),t=!1},d(i){Qe(r,i)}}}function L_(s){let r,t;return r=new n_({props:{data:s[0].zinnen}}),{c(){Ye(r.$$.fragment)},l(i){Ze(r.$$.fragment,i)},m(i,o){Xe(r,i,o),t=!0},p(i,o){const a={};o&1&&(a.data=i[0].zinnen),r.$set(a)},i(i){t||(oe(r.$$.fragment,i),t=!0)},o(i){ue(r.$$.fragment,i),t=!1},d(i){Qe(r,i)}}}function B_(s){let r,t,i,o,a,u;const f=[L_,P_,R_],c=[];function d(g,p){return g[1]==="sequence"?0:g[1]==="pair"?1:2}return i=d(s),o=c[i]=f[i](s),{c(){r=W("div"),t=te(),o.c(),a=Be()},l(g){r=x(g,"DIV",{}),J(r).forEach(S),t=ne(g),o.l(g),a=Be()},m(g,p){V(g,r,p),V(g,t,p),c[i].m(g,p),V(g,a,p),u=!0},p(g,[p]){o.p(g,p)},i(g){u||(oe(o),u=!0)},o(g){ue(o),u=!1},d(g){g&&(S(r),S(t),S(a)),c[i].d(g)}}}function z_(s,r,t){let{data:i}=r;const o=i.quiz;return s.$$set=a=>{"data"in a&&t(0,i=a.data)},[i,o]}class M_ extends je{constructor(r){super(),Je(this,r,z_,B_,Ge,{data:0})}}function pu(s,r,t){const i=s.slice();return i[8]=r[t],i[10]=t,i}function gu(s,r,t){const i=s.slice();return i[11]=r[t],i}function _u(s,r,t){const i=s.slice();return i[14]=r[t],i}function F_(s){let r,t,i=s[3].level+"",o,a,u,f,c,d,g,p,_,b="Familie van Marc 1",P,k,R,T,F,K="Familie van Marc 2",L,Y,N=yt(s[3].themes),M=[];for(let B=0;B<N.length;B+=1)M[B]=bu(pu(s,N,B));return{c(){r=W("div"),t=Ve("Module "),o=Ve(i),a=te();for(let B=0;B<M.length;B+=1)M[B].c();u=te(),f=W("h3"),c=Ve("Les "),d=Ve(yu),g=te(),p=W("div"),_=W("a"),_.textContent=b,P=te(),k=W("div"),R=te(),T=W("div"),F=W("a"),F.textContent=K,this.h()},l(B){r=x(B,"DIV",{});var ee=J(r);t=qe(ee,"Module "),o=qe(ee,i),ee.forEach(S),a=ne(B);for(let ve=0;ve<M.length;ve+=1)M[ve].l(B);u=ne(B),f=x(B,"H3",{});var Z=J(f);c=qe(Z,"Les "),d=qe(Z,yu),Z.forEach(S),g=ne(B),p=x(B,"DIV",{});var j=J(p);_=x(j,"A",{"data-svelte-h":!0}),mt(_)!=="svelte-4c9h20"&&(_.textContent=b),j.forEach(S),P=ne(B),k=x(B,"DIV",{style:!0}),J(k).forEach(S),R=ne(B),T=x(B,"DIV",{});var U=J(T);F=x(U,"A",{"data-svelte-h":!0}),mt(F)!=="svelte-e5fyy2"&&(F.textContent=K),U.forEach(S),this.h()},h(){O(k,"height","30px")},m(B,ee){V(B,r,ee),D(r,t),D(r,o),V(B,a,ee);for(let Z=0;Z<M.length;Z+=1)M[Z]&&M[Z].m(B,ee);V(B,u,ee),V(B,f,ee),D(f,c),D(f,d),V(B,g,ee),V(B,p,ee),D(p,_),V(B,P,ee),V(B,k,ee),V(B,R,ee),V(B,T,ee),D(T,F),L||(Y=[ce(_,"click",s[6]),ce(F,"click",s[7])],L=!0)},p(B,ee){if(ee&24){N=yt(B[3].themes);let Z;for(Z=0;Z<N.length;Z+=1){const j=pu(B,N,Z);M[Z]?M[Z].p(j,ee):(M[Z]=bu(j),M[Z].c(),M[Z].m(u.parentNode,u))}for(;Z<M.length;Z+=1)M[Z].d(1);M.length=N.length}},i:Oe,o:Oe,d(B){B&&(S(r),S(a),S(u),S(f),S(g),S(p),S(P),S(k),S(R),S(T)),Qn(M,B),L=!1,Yt(Y)}}}function U_(s){let r,t;return r=new M_({props:{data:s[0]}}),{c(){Ye(r.$$.fragment)},l(i){Ze(r.$$.fragment,i)},m(i,o){Xe(r,i,o),t=!0},p(i,o){const a={};o&1&&(a.data=i[0]),r.$set(a)},i(i){t||(oe(r.$$.fragment,i),t=!0)},o(i){ue(r.$$.fragment,i),t=!1},d(i){Qe(r,i)}}}function N_(s){let r,t=yt(s[8].lessons),i=[];for(let o=0;o<t.length;o+=1)i[o]=vu(gu(s,t,o));return{c(){for(let o=0;o<i.length;o+=1)i[o].c();r=Be()},l(o){for(let a=0;a<i.length;a+=1)i[a].l(o);r=Be()},m(o,a){for(let u=0;u<i.length;u+=1)i[u]&&i[u].m(o,a);V(o,r,a)},p(o,a){if(a&24){t=yt(o[8].lessons);let u;for(u=0;u<t.length;u+=1){const f=gu(o,t,u);i[u]?i[u].p(f,a):(i[u]=vu(f),i[u].c(),i[u].m(r.parentNode,r))}for(;u<i.length;u+=1)i[u].d(1);i.length=t.length}},d(o){o&&S(r),Qn(i,o)}}}function W_(s){let r,t=yt(s[11].quizes),i=[];for(let o=0;o<t.length;o+=1)i[o]=mu(_u(s,t,o));return{c(){for(let o=0;o<i.length;o+=1)i[o].c();r=Be()},l(o){for(let a=0;a<i.length;a+=1)i[a].l(o);r=Be()},m(o,a){for(let u=0;u<i.length;u+=1)i[u]&&i[u].m(o,a);V(o,r,a)},p(o,a){if(a&24){t=yt(o[11].quizes);let u;for(u=0;u<t.length;u+=1){const f=_u(o,t,u);i[u]?i[u].p(f,a):(i[u]=mu(f),i[u].c(),i[u].m(r.parentNode,r))}for(;u<i.length;u+=1)i[u].d(1);i.length=t.length}},d(o){o&&S(r),Qn(i,o)}}}function mu(s){let r,t=s[14].title+"",i,o,a;return{c(){r=W("div"),i=Ve(t),this.h()},l(u){r=x(u,"DIV",{type:!0,level:!0,name:!0,theme:!0});var f=J(r);i=qe(f,t),f.forEach(S),this.h()},h(){w(r,"type",s[14].type),w(r,"level",s[3].level),w(r,"name",s[14].title),w(r,"theme",s[8].num)},m(u,f){V(u,r,f),D(r,i),o||(a=ce(r,"click",s[4]),o=!0)},p:Oe,d(u){u&&S(r),o=!1,a()}}}function vu(s){let r,t=s[11].num+"",i,o,a=s[11].title+"",u,f,c,d=s[11].quizes&&W_(s);return{c(){r=W("div"),i=Ve(t),o=Ve("."),u=Ve(a),f=te(),d&&d.c(),c=Be()},l(g){r=x(g,"DIV",{});var p=J(r);i=qe(p,t),o=qe(p,"."),u=qe(p,a),p.forEach(S),f=ne(g),d&&d.l(g),c=Be()},m(g,p){V(g,r,p),D(r,i),D(r,o),D(r,u),V(g,f,p),d&&d.m(g,p),V(g,c,p)},p(g,p){g[11].quizes&&d.p(g,p)},d(g){g&&(S(r),S(f),S(c)),d&&d.d(g)}}}function bu(s){let r,t=s[8].name+"",i,o,a,u=s[8].lessons&&N_(s);return{c(){r=W("div"),i=Ve(t),o=te(),u&&u.c(),a=Be()},l(f){r=x(f,"DIV",{});var c=J(r);i=qe(c,t),c.forEach(S),o=ne(f),u&&u.l(f),a=Be()},m(f,c){V(f,r,c),D(r,i),V(f,o,c),u&&u.m(f,c),V(f,a,c)},p(f,c){f[8].lessons&&u.p(f,c)},d(f){f&&(S(r),S(o),S(a)),u&&u.d(f)}}}function x_(s){let r,t,i,o;const a=[U_,F_],u=[];function f(c,d){return c[2]?0:1}return t=f(s),i=u[t]=a[t](s),{c(){r=W("div"),i.c(),this.h()},l(c){r=x(c,"DIV",{style:!0});var d=J(r);i.l(d),d.forEach(S),this.h()},h(){O(r,"display",s[1]),O(r,"overflow-y","auto"),O(r,"height","400px")},m(c,d){V(c,r,d),u[t].m(r,null),o=!0},p(c,[d]){let g=t;t=f(c),t===g?u[t].p(c,d):(Jt(),ue(u[g],1,1,()=>{u[g]=null}),Kt(),i=u[t],i?i.p(c,d):(i=u[t]=a[t](c),i.c()),oe(i,1),i.m(r,null)),(!o||d&2)&&O(r,"display",c[1])},i(c){o||(oe(i),o=!0)},o(c){ue(i),o=!1},d(c){c&&S(r),u[t].d()}}}let yu="2";function H_(s,r,t){let{data:i}=r,{view:o}=r,a="none",u={level:"1.2",themes:[{num:"1",name:"Familie",lessons:[{num:1,title:"",quizes:[{type:"text",title:"Familie 1"},{type:"text",title:"Familie 2"},{type:"text",title:"Familie 3"}]},{num:2,title:""},{num:3,title:""}]},{num:"2",name:"In Het Restorant",lessons:[{num:1,title:"",quizes:[{type:"text",title:"In Het Restorant 1"},{type:"text",title:"In Het Restorant 2"},{type:"text",title:"In Het Restorant 3"}]},{num:2,title:""},{num:3,title:""}]},{num:"3",name:"Wonen",lessons:[{num:1,title:"",quizes:[{type:"text",title:"Wonen 1"},{type:"text",title:"Wonen 2"},{type:"text",title:"Wonen 3"}]},{num:2,title:""},{num:3,title:""}]}]},f=!1;function c(p){t(0,i.quiz=p.currentTarget.attributes[0].nodeValue,i),t(0,i.level=p.currentTarget.attributes[1].nodeValue.replace(".",""),i),t(0,i.name=p.currentTarget.attributes[2].nodeValue,i),t(0,i.theme=p.currentTarget.attributes[3].nodeValue,i),t(2,f=!0)}const d=()=>{t(2,f=!0),t(0,i.quiz="text",i),t(0,i.name="Quiz 1",i),t(0,i.level="12",i),t(0,i.theme="1",i)},g=()=>{t(2,f=!0),t(0,i.quiz="text",i),t(0,i.name="Quiz 2",i),t(0,i.level="12",i),t(0,i.theme="1",i)};return s.$$set=p=>{"data"in p&&t(0,i=p.data),"view"in p&&t(5,o=p.view)},s.$$.update=()=>{s.$$.dirty&32&&(o==="lesson"?t(1,a="block"):t(1,a="none"))},[i,a,f,u,c,o,d,g]}class V_ extends je{constructor(r){super(),Je(this,r,H_,x_,Ge,{data:0,view:5})}}function q_(s){let r,t="100",i,o,a="0";return{c(){r=W("b"),r.textContent=t,i=te(),o=W("span"),o.textContent=a,this.h()},l(u){r=x(u,"B",{class:!0,style:!0,"data-svelte-h":!0}),mt(r)!=="svelte-1h19z5i"&&(r.textContent=t),i=ne(u),o=x(u,"SPAN",{class:!0,style:!0,"data-svelte-h":!0}),mt(o)!=="svelte-1dn9ak7"&&(o.textContent=a),this.h()},h(){w(r,"class","call_cnt"),O(r,"display","none"),O(r,"position","absolute"),O(r,"left","22px"),O(r,"top","10px"),O(r,"color","#0e0cff"),O(r,"font-size","12px"),w(o,"class","badge badge-primary badge-pill call-queue"),O(o,"display","none"),O(o,"position","absolute"),O(o,"right","0px"),O(o,"bottom","0px"),O(o,"color","#0e0cff"),O(o,"font-size","12px"),O(o,"opacity","1")},m(u,f){V(u,r,f),V(u,i,f),V(u,o,f)},p:Oe,d(u){u&&(S(r),S(i),S(o))}}}function G_(s){let r;return{c(){r=W("div")},l(t){r=x(t,"DIV",{}),J(r).forEach(S)},m(t,i){V(t,r,i),s[23](r)},p:Oe,d(t){t&&S(r),s[23](null)}}}function wu(s){let r,t,i,o,a,u,f;return{c(){r=W("div"),t=ze("svg"),i=ze("glyph"),o=ze("g"),a=ze("path"),this.h()},l(c){r=x(c,"DIV",{class:!0,style:!0});var d=J(r);t=Me(d,"svg",{height:!0,width:!0,style:!0});var g=J(t);i=Me(g,"glyph",{"glyph-name":!0,unicode:!0,"horiz-adv-x":!0}),J(i).forEach(S),o=Me(g,"g",{class:!0,style:!0});var p=J(o);a=Me(p,"path",{d:!0,transform:!0,style:!0}),J(a).forEach(S),p.forEach(S),g.forEach(S),d.forEach(S),this.h()},h(){w(i,"glyph-name","ui-video-chat"),w(i,"unicode",""),w(i,"horiz-adv-x","50"),w(a,"d","M891.5 23h-783c-59.7 0-108.5 48.8-108.5 108.5v466.20000000000005c0 59.59999999999991 48.8 108.5 108.5 108.5h222.39999999999998v270.5999999999999l270.70000000000005-270.5999999999999h289.9c59.700000000000045 0 108.5-48.90000000000009 108.5-108.5v-466.20000000000005c0-59.7-48.799999999999955-108.5-108.5-108.5z m-223.5 370l-252.8 134.70000000000005c-26.30000000000001 14-47.89999999999998 1.099999999999909-47.89999999999998-28.700000000000045v-262.9c0-29.900000000000034 21.599999999999966-42.80000000000001 47.89999999999998-28.80000000000001l252.8 134.7c26.299999999999955 14 26.299999999999955 37 0 51z"),w(a,"transform","scale(.03)"),O(a,"fill","lightgrey"),O(a,"stroke","black"),O(a,"stroke-width","20px"),w(o,"class","currentLayer"),O(o,"position","absolute"),O(o,"right","0"),O(o,"top","0"),O(o,"stroke","grey"),O(o,"stroke-width","2px"),O(o,"fill","lightgrey"),O(o,"font-size","30px"),w(t,"height","30"),w(t,"width","30"),O(t,"position","absolute"),O(t,"bottom","70px"),O(t,"right","0px"),O(t,"z-index","30"),w(r,"class","video"),O(r,"position","absolute"),O(r,"top","0"),O(r,"width","100px"),O(r,"height","100px")},m(c,d){V(c,r,d),D(r,t),D(t,i),D(t,o),D(o,a),u||(f=ce(t,"click",s[17]),u=!0)},p:Oe,d(c){c&&S(r),u=!1,f()}}}function Cu(s){let r;function t(a,u){return a[6]?j_:J_}let i=t(s),o=i(s);return{c(){o.c(),r=Be()},l(a){o.l(a),r=Be()},m(a,u){o.m(a,u),V(a,r,u)},p(a,u){i===(i=t(a))&&o?o.p(a,u):(o.d(1),o=i(a),o&&(o.c(),o.m(r.parentNode,r)))},d(a){a&&S(r),o.d(a)}}}function j_(s){let r,t=s[11]["Cancel Edit Call Center"][s[10]]+"",i,o,a;return{c(){r=W("h5"),i=Ve(t)},l(u){r=x(u,"H5",{});var f=J(r);i=qe(f,t),f.forEach(S)},m(u,f){V(u,r,f),D(r,i),o||(a=ce(r,"click",s[31]),o=!0)},p(u,f){f[0]&3072&&t!==(t=u[11]["Cancel Edit Call Center"][u[10]]+"")&&Rt(i,t)},d(u){u&&S(r),o=!1,a()}}}function J_(s){let r,t=s[11]["Edit Call Center"][s[10]]+"",i,o,a;return{c(){r=W("h5"),i=Ve(t)},l(u){r=x(u,"H5",{});var f=J(r);i=qe(f,t),f.forEach(S)},m(u,f){V(u,r,f),D(r,i),o||(a=ce(r,"click",s[30]),o=!0)},p(u,f){f[0]&3072&&t!==(t=u[11]["Edit Call Center"][u[10]]+"")&&Rt(i,t)},d(u){u&&S(r),o=!1,a()}}}function Su(s){let r,t=s[11]["Create my own net"][s[10]]+"",i,o,a;return{c(){r=W("h5"),i=Ve(t)},l(u){r=x(u,"H5",{});var f=J(r);i=qe(f,t),f.forEach(S)},m(u,f){V(u,r,f),D(r,i),o||(a=ce(r,"click",Q_),o=!0)},p(u,f){f[0]&3072&&t!==(t=u[11]["Create my own net"][u[10]]+"")&&Rt(i,t)},d(u){u&&S(r),o=!1,a()}}}function K_(s){let r=s[11]["Language Select"][s[10]]+"",t,i,o,a,u,f,c,d,g,p,_,b,P,k,R,T,F,K,L,Y,N,M,B,ee,Z,j,U=s[7].role=="admin"&&Cu(s),ve=s[7].role=="user"&&Su(s);return ee=O1(s[27][0]),{c(){t=Ve(r),i=Ve(`:\r
\r
		`),o=W("div"),a=W("label"),u=W("input"),f=te(),c=W("img"),g=te(),p=W("label"),_=W("input"),b=te(),P=W("img"),R=te(),T=W("label"),F=W("input"),K=te(),L=W("img"),N=te(),U&&U.c(),M=te(),ve&&ve.c(),B=Be(),this.h()},l(X){t=qe(X,r),i=qe(X,`:\r
\r
		`),o=x(X,"DIV",{style:!0});var ie=J(o);a=x(ie,"LABEL",{style:!0});var xe=J(a);u=x(xe,"INPUT",{type:!0,name:!0}),f=ne(xe),c=x(xe,"IMG",{src:!0,alt:!0}),xe.forEach(S),g=ne(ie),p=x(ie,"LABEL",{style:!0});var Ce=J(p);_=x(Ce,"INPUT",{type:!0,name:!0}),b=ne(Ce),P=x(Ce,"IMG",{src:!0,alt:!0}),Ce.forEach(S),R=ne(ie),T=x(ie,"LABEL",{style:!0});var Pe=J(T);F=x(Pe,"INPUT",{type:!0,name:!0}),K=ne(Pe),L=x(Pe,"IMG",{src:!0,alt:!0}),Pe.forEach(S),ie.forEach(S),N=ne(X),U&&U.l(X),M=ne(X),ve&&ve.l(X),B=Be(),this.h()},h(){w(u,"type","radio"),w(u,"name","lang"),u.__value="en",st(u,u.__value),Et(c.src,d="https://www.sic-info.org/wp-content/uploads/2014/01/gb.png")||w(c,"src",d),w(c,"alt","English"),O(a,"flex","1"),w(_,"type","radio"),w(_,"name","lang"),_.__value="fr",st(_,_.__value),Et(P.src,k="https://www.sic-info.org/wp-content/uploads/2014/01/fr.png")||w(P,"src",k),w(P,"alt","French"),O(p,"flex","1"),w(F,"type","radio"),w(F,"name","lang"),F.__value="ru",st(F,F.__value),Et(L.src,Y="https://www.sic-info.org/wp-content/uploads/2014/01/ru.png")||w(L,"src",Y),w(L,"alt","Russian"),O(T,"flex","1"),O(o,"display","flex"),O(o,"margin-bottom","20px"),ee.p(u,_,F)},m(X,ie){V(X,t,ie),V(X,i,ie),V(X,o,ie),D(o,a),D(a,u),u.checked=u.__value===s[10],D(a,f),D(a,c),D(o,g),D(o,p),D(p,_),_.checked=_.__value===s[10],D(p,b),D(p,P),D(o,R),D(o,T),D(T,F),F.checked=F.__value===s[10],D(T,K),D(T,L),V(X,N,ie),U&&U.m(X,ie),V(X,M,ie),ve&&ve.m(X,ie),V(X,B,ie),Z||(j=[ce(u,"change",s[26]),ce(u,"change",s[15]),ce(_,"change",s[28]),ce(_,"change",s[15]),ce(F,"change",s[29]),ce(F,"change",s[15])],Z=!0)},p(X,ie){ie[0]&3072&&r!==(r=X[11]["Language Select"][X[10]]+"")&&Rt(t,r),ie[0]&1024&&(u.checked=u.__value===X[10]),ie[0]&1024&&(_.checked=_.__value===X[10]),ie[0]&1024&&(F.checked=F.__value===X[10]),X[7].role=="admin"?U?U.p(X,ie):(U=Cu(X),U.c(),U.m(M.parentNode,M)):U&&(U.d(1),U=null),X[7].role=="user"?ve?ve.p(X,ie):(ve=Su(X),ve.c(),ve.m(B.parentNode,B)):ve&&(ve.d(1),ve=null)},d(X){X&&(S(t),S(i),S(o),S(N),S(M),S(B)),U&&U.d(X),ve&&ve.d(X),ee.r(),Z=!1,Yt(j)}}}function Y_(s){let r,t,i,o,a,u,f,c,d,g=s[2].text.msg+"",p,_,b,P,k=s[2].text.name+"",R,T,F,K,L,Y,N,M,B,ee,Z,j,U,ve,X,ie,xe,Ce,Pe,rt,Ie,_e,ae,Te,Ke,lt,ut;const Ue=[s[2].video];let ge={};for(let $=0;$<Ue.length;$+=1)ge=mr(ge,Ue[$]);i=new Hg({props:ge});function me($){s[22]($)}let Zt={OnLongPress:X_,$$slots:{default:[q_]},$$scope:{ctx:s}};s[1]!==void 0&&(Zt.status=s[1]),a=new Ag({props:Zt}),De.push(()=>dt(a,"status",me)),a.$on("click",s[16]);const re=[s[9].video];let pt={$$slots:{footer:[G_]},$$scope:{ctx:s}};for(let $=0;$<re.length;$+=1)pt=mr(pt,re[$]);K=new U1({props:pt});let tt=s[5]&&wu(s);const vt=[s[9].audio];function Mn($){s[24]($)}let $n={};for(let $=0;$<vt.length;$+=1)$n=mr($n,vt[$]);s[9].audio.paused!==void 0&&($n.paused=s[9].audio.paused),M=new Jg({props:$n}),De.push(()=>dt(M,"paused",Mn));const Nt=[s[2].audio];function Wr($){s[25]($)}let er={};for(let $=0;$<Nt.length;$+=1)er=mr(er,Nt[$]);s[2].audio.srcObject!==void 0&&(er.srcObject=s[2].audio.srcObject),Z=new Zg({props:er}),De.push(()=>dt(Z,"srcObject",Wr)),ve=new $g({}),ie=new qg({}),Ce=new Ng({props:{padding:"25px",$$slots:{default:[K_]},$$scope:{ctx:s}}});function Fn($){s[33]($)}function Wt($){s[34]($)}let dn={view:s[12],tarif:s[0]};return s[1]!==void 0&&(dn.status=s[1]),s[7]!==void 0&&(dn.operator=s[7]),_e=new wg({props:dn}),s[32](_e),De.push(()=>dt(_e,"status",Fn)),De.push(()=>dt(_e,"operator",Wt)),lt=new V_({props:{view:s[12],data:s[13][0].staff}}),{c(){r=W("div"),t=W("div"),Ye(i.$$.fragment),o=te(),Ye(a.$$.fragment),f=te(),c=W("div"),d=W("p"),p=Ve(g),_=te(),b=W("br"),P=te(),R=Ve(k),T=te(),F=W("div"),Ye(K.$$.fragment),L=te(),tt&&tt.c(),Y=te(),N=W("div"),Ye(M.$$.fragment),ee=te(),Ye(Z.$$.fragment),U=te(),Ye(ve.$$.fragment),X=te(),Ye(ie.$$.fragment),xe=te(),Ye(Ce.$$.fragment),Pe=te(),rt=W("progress"),Ie=te(),Ye(_e.$$.fragment),Ke=te(),Ye(lt.$$.fragment),this.h()},l($){r=x($,"DIV",{style:!0});var be=J(r);t=x(be,"DIV",{style:!0});var Pt=J(t);Ze(i.$$.fragment,Pt),o=ne(Pt),Ze(a.$$.fragment,Pt),f=ne(Pt),c=x(Pt,"DIV",{class:!0,style:!0});var En=J(c);d=x(En,"P",{class:!0,style:!0});var Ot=J(d);p=qe(Ot,g),_=ne(Ot),b=x(Ot,"BR",{}),P=ne(Ot),R=qe(Ot,k),Ot.forEach(S),En.forEach(S),Pt.forEach(S),T=ne(be),F=x(be,"DIV",{style:!0});var Lt=J(F);Ze(K.$$.fragment,Lt),L=ne(Lt),tt&&tt.l(Lt),Lt.forEach(S),Y=ne(be),N=x(be,"DIV",{style:!0});var It=J(N);Ze(M.$$.fragment,It),ee=ne(It),Ze(Z.$$.fragment,It),U=ne(It),Ze(ve.$$.fragment,It),X=ne(It),Ze(ie.$$.fragment,It),It.forEach(S),xe=ne(be),Ze(Ce.$$.fragment,be),be.forEach(S),Pe=ne($),rt=x($,"PROGRESS",{id:!0,max:!0,duration:!0,style:!0}),J(rt).forEach(S),Ie=ne($),Ze(_e.$$.fragment,$),Ke=ne($),Ze(lt.$$.fragment,$),this.h()},h(){w(d,"class","remote_msg"),O(d,"font-size",".7em"),O(d,"white-space","nowrap"),O(d,"color","white"),O(d,"margin","auto"),O(d,"text-align","center"),w(c,"class","remote_text_display"),O(c,"display",s[2].text.display),O(c,"position","absolute"),O(c,"z-index","21"),O(c,"background-color","rgba(125, 125, 125, 0.8)"),O(c,"top","90px"),O(c,"left","2px"),O(t,"flex","1"),O(F,"position","absolute"),O(F,"flex","1 1 0%"),O(N,"flex","3"),O(r,"display","flex"),O(r,"min-height","100px"),O(r,"flex-wrap","nowrap"),O(r,"justify-content","space-between"),w(rt,"id","dataProgress"),rt.value=s[14].value,w(rt,"max","100"),w(rt,"duration","200"),O(rt,"display",s[14].display),O(rt,"top","100px"),O(rt,"width","98%")},m($,be){V($,r,be),D(r,t),Xe(i,t,null),D(t,o),Xe(a,t,null),D(t,f),D(t,c),D(c,d),D(d,p),D(d,_),D(d,b),D(d,P),D(d,R),D(r,T),D(r,F),Xe(K,F,null),D(F,L),tt&&tt.m(F,null),D(r,Y),D(r,N),Xe(M,N,null),D(N,ee),Xe(Z,N,null),D(N,U),Xe(ve,N,null),D(N,X),Xe(ie,N,null),D(r,xe),Xe(Ce,r,null),V($,Pe,be),V($,rt,be),V($,Ie,be),Xe(_e,$,be),V($,Ke,be),Xe(lt,$,be),ut=!0},p($,be){const Pt=be[0]&4?vr(Ue,[br($[2].video)]):{};i.$set(Pt);const En={};be[1]&65536&&(En.$$scope={dirty:be,ctx:$}),!u&&be[0]&2&&(u=!0,En.status=$[1],ht(()=>u=!1)),a.$set(En),(!ut||be[0]&4)&&g!==(g=$[2].text.msg+"")&&Rt(p,g),(!ut||be[0]&4)&&k!==(k=$[2].text.name+"")&&Rt(R,k),(!ut||be[0]&4)&&O(c,"display",$[2].text.display);const Ot=be[0]&512?vr(re,[br($[9].video)]):{};be[0]&256|be[1]&65536&&(Ot.$$scope={dirty:be,ctx:$}),K.$set(Ot),$[5]?tt?tt.p($,be):(tt=wu($),tt.c(),tt.m(F,null)):tt&&(tt.d(1),tt=null);const Lt=be[0]&512?vr(vt,[br($[9].audio)]):{};!B&&be[0]&512&&(B=!0,Lt.paused=$[9].audio.paused,ht(()=>B=!1)),M.$set(Lt);const It=be[0]&4?vr(Nt,[br($[2].audio)]):{};!j&&be[0]&4&&(j=!0,It.srcObject=$[2].audio.srcObject,ht(()=>j=!1)),Z.$set(It);const tr={};be[0]&3272|be[1]&65536&&(tr.$$scope={dirty:be,ctx:$}),Ce.$set(tr);const pn={};be[0]&4096&&(pn.view=$[12]),be[0]&1&&(pn.tarif=$[0]),!ae&&be[0]&2&&(ae=!0,pn.status=$[1],ht(()=>ae=!1)),!Te&&be[0]&128&&(Te=!0,pn.operator=$[7],ht(()=>Te=!1)),_e.$set(pn);const Un={};be[0]&4096&&(Un.view=$[12]),be[0]&8192&&(Un.data=$[13][0].staff),lt.$set(Un)},i($){ut||(oe(i.$$.fragment,$),oe(a.$$.fragment,$),oe(K.$$.fragment,$),oe(M.$$.fragment,$),oe(Z.$$.fragment,$),oe(ve.$$.fragment,$),oe(ie.$$.fragment,$),oe(Ce.$$.fragment,$),oe(_e.$$.fragment,$),oe(lt.$$.fragment,$),ut=!0)},o($){ue(i.$$.fragment,$),ue(a.$$.fragment,$),ue(K.$$.fragment,$),ue(M.$$.fragment,$),ue(Z.$$.fragment,$),ue(ve.$$.fragment,$),ue(ie.$$.fragment,$),ue(Ce.$$.fragment,$),ue(_e.$$.fragment,$),ue(lt.$$.fragment,$),ut=!1},d($){$&&(S(r),S(Pe),S(rt),S(Ie),S(Ke)),Qe(i),Qe(a),Qe(K),tt&&tt.d(),Qe(M),Qe(Z),Qe(ve),Qe(ie),Qe(Ce),s[32](null),Qe(_e,$),Qe(lt,$)}}}const Z_="CPkJ1MYWC7DMlvw6MvtV0yBw";function X_(){select.display=!0}const Q_=()=>{};function $_(s,r,t){let i,o,a,u,f,c,d,g;We(s,kn,re=>t(10,i=re)),We(s,Li,re=>t(39,o=re)),We(s,Nr,re=>t(20,a=re)),We(s,Uu,re=>t(21,u=re)),We(s,Ur,re=>t(3,f=re)),We(s,Ou,re=>t(11,c=re)),We(s,I1,re=>t(12,d=re)),We(s,Bi,re=>t(13,g=re));let p,_,{tarif:b}=r,P,k="inactive",R,T=!1,F=!1,{email:K,abonent:L}=r;const Y=wr(K);let N={type:"operator",em:K,abonent:L,uid:Y};N.em===L?N.role="admin":N.role="user";let M;const B={"Content-Type":"application/json",Authorization:`Bearer ${Z_}`};async function ee(re){re.func="callwaiting",fetch("/operator",{method:"POST",body:JSON.stringify({par:re}),headers:{headers:B}}).then(pt=>pt.json()).then(pt=>{Array.isArray(pt.resp)?pt.resp.map(tt=>{zn(Nr,a=tt,a)}):zn(Nr,a=pt.resp,a),ee(re)}).catch(pt=>(console.log(pt),[]))}Ut(async()=>{try{_=new Og(N,Y,o),X(),_.SendCheck(),ee(N)}catch{console.log()}});let Z={display:"block",value:0},j={video:{display:"none",srcObject:"",poster:""},audio:{paused:!0,src:""}},U={text:{display:"none",msg:"You have a call from:",name:"",email:""},video:{display:"none",srcObject:"",poster:""},audio:{muted:!0,srcObject:""}};S1("abonent",L);function ve(re){zn(kn,i=re.target.attributes[2].nodeValue,i)}async function X(){_.PlayCallCnt=()=>{P=10,t(9,j.audio.paused=!1,j),R=setInterval(function(){P--,P===0&&(clearInterval(R),t(9,j.audio.paused=!0,j))},2e3)},_.GetRemoteAudio=()=>U.audio.srcObject,_.SetRemoteAudio=re=>{re&&t(2,U.audio.srcObject=re,U)},_.GetRemoteVideo=()=>U.video.srcObject,_.SetLocalVideo=re=>{re&&t(9,j.video.srcObject=re,j)},_.SetRemoteVideo=re=>{k==="talk"&&(t(2,U.video.poster="",U),t(2,U.video.srcObject=re,U),t(2,U.video.display="block",U),t(9,j.audio.paused=!0,j))}}function ie(){try{if(!window.AudioContext){window.AudioContext=window.AudioContext||window.webkitAudioContext;let re=new AudioContext;_.localSoundSrc=re.createMediaElementSource(window.user.localSound),_.localSoundSrc.connect(re.destination)}}catch{console.log("Web Audio API is not supported in this browser")}switch(k){case"inactive":_.Offer(),t(1,k="active");break;case"active":t(1,k="inactive"),_.OnInactive();break;case"call":t(1,k="talk"),clearInterval(R),t(9,j.audio.paused=!0,j),t(2,U.audio.muted=!1,U),_.OnTalk(),t(5,T=!0),t(2,U.text.display="block",U);const re=new Event("talk");document.getElementsByTagName("body")[0].dispatchEvent(re);break;case"talk":_.OnInactive(),t(2,U.audio.muted=!0,U),t(9,j.video.display="none",j),t(5,T=!1),t(2,U.video.display="none",U),t(2,U.video.srcObject="",U),t(2,U.video.poster="",U),t(2,U.text.display="none",U),t(2,U.text.name="",U),t(2,U.text.email="",U),t(1,k="inactive");break;case"muted":t(1,k="inactive"),t(9,j.video.srcObject="",j),t(2,U.audio.muted=!0,U),t(2,U.video.display="none",U),t(2,U.video.srcObject="",U),t(2,U.video.poster="",U),t(2,U.text.display="none",U),_.OnInactive();break;default:return}}function xe(){t(1,k="talk"),t(9,j.audio.paused=!0,j),t(9,j.video.display="block",j),_.DC.dc.readyState==="open"&&_.GetUserMedia({audio:1,video:1},function(){_.SendVideoOffer(_.main_pc)})}function Ce(re,pt){if(re.func==="mute"&&(t(9,j.audio.paused=!0,j),t(2,U.audio.muted=!0,U),t(5,T=!1),t(9,j.video.display="none",j),t(9,j.video.srcObject="",j),t(2,U.video.srcObject="",U),t(2,U.video.poster="",U),t(2,U.video.display="none",U),t(2,U.text.name="",U),t(2,U.text.email="",U),t(2,U.text.display="none",U),_.OnInactive(),k==="talk"?t(1,k="inactive"):k==="call"&&(t(1,k="inactive"),_.OnMute(),ie()),pt&&pt()),(re.call||re.func==="call")&&(t(1,k="call"),_.OnCall(),t(2,U.text.display="block",U),re.profile)){let tt=re.profile,vt=tt.src;t(2,U.video.poster=vt,U),vt&&t(2,U.video.display="block",U),t(2,U.text.name=tt.name,U),t(2,U.text.email=tt.email,U)}re.desc,re.camera&&t(9,j.video.src=that.localStream,j),re.status==="wait"&&(t(2,U.text.display="block",U),t(2,U.text.msg="You have a waiting call",U))}const Pe=[[]];function rt(re){k=re,t(1,k)}function Ie(re){De[re?"unshift":"push"](()=>{M=re,t(8,M)})}function _e(re){s.$$.not_equal(j.audio.paused,re)&&(j.audio.paused=re,t(9,j))}function ae(re){s.$$.not_equal(U.audio.srcObject,re)&&(U.audio.srcObject=re,t(2,U))}function Te(){i=this.__value,kn.set(i)}function Ke(){i=this.__value,kn.set(i)}function lt(){i=this.__value,kn.set(i)}const ut=()=>zn(Ur,f=!0,f),Ue=()=>zn(Ur,f=!1,f);function ge(re){De[re?"unshift":"push"](()=>{p=re,t(4,p)})}function me(re){k=re,t(1,k)}function Zt(re){N=re,t(7,N)}return s.$$set=re=>{"tarif"in re&&t(0,b=re.tarif),"email"in re&&t(18,K=re.email),"abonent"in re&&t(19,L=re.abonent)},s.$$.update=()=>{s.$$.dirty[0]&1048576&&a&&Ce(a),s.$$.dirty[0]&2&&Di.set(k),s.$$.dirty[0]&8&&f&&t(6,F=f),s.$$.dirty[0]&2097152&&u&&Ce(u),s.$$.dirty[0]&4&&U.text.msg&&console.log(U.text.msg)},[b,k,U,f,p,T,F,N,M,j,i,c,d,g,Z,ve,ie,xe,K,L,a,u,rt,Ie,_e,ae,Te,Pe,Ke,lt,ut,Ue,ge,me,Zt]}class am extends je{constructor(r){super(),Je(this,r,$_,Y_,Ge,{tarif:0,email:18,abonent:19},null,[-1,-1])}}function ku(s){let r,t="Пароли не совпадают";return{c(){r=W("p"),r.textContent=t,this.h()},l(i){r=x(i,"P",{style:!0,"data-svelte-h":!0}),mt(r)!=="svelte-57tl0r"&&(r.textContent=t),this.h()},h(){O(r,"color","red")},m(i,o){V(i,r,o)},d(i){i&&S(r)}}}function em(s){let r,t,i,o,a,u="Email:",f,c,d,g,p="Имя:",_,b,P,k,R="Пароль:",T,F,K,L,Y="Повторить пароль:",N,M,B,ee,Z="Фотография профиля:",j,U,ve,X,ie,xe,Ce,Pe,rt="Зарегистрироваться",Ie,_e,ae,Te,Ke;function lt(ge){s[11](ge)}let ut={};s[2]!==void 0&&(ut.lang=s[2]),r=new P1({props:ut}),De.push(()=>dt(r,"lang",lt));let Ue=!s[6]&&ku();return{c(){Ye(r.$$.fragment),i=te(),o=W("form"),a=W("label"),a.textContent=u,f=te(),c=W("input"),d=te(),g=W("label"),g.textContent=p,_=te(),b=W("input"),P=te(),k=W("label"),k.textContent=R,T=te(),F=W("input"),K=te(),L=W("label"),L.textContent=Y,N=te(),M=W("input"),B=te(),ee=W("label"),ee.textContent=Z,j=te(),U=W("input"),ve=te(),X=W("div"),ie=W("img"),Ce=te(),Pe=W("button"),Pe.textContent=rt,Ie=te(),Ue&&Ue.c(),_e=Be(),this.h()},l(ge){Ze(r.$$.fragment,ge),i=ne(ge),o=x(ge,"FORM",{class:!0});var me=J(o);a=x(me,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),mt(a)!=="svelte-1flf0h4"&&(a.textContent=u),f=ne(me),c=x(me,"INPUT",{type:!0,id:!0,class:!0}),d=ne(me),g=x(me,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),mt(g)!=="svelte-8gzyab"&&(g.textContent=p),_=ne(me),b=x(me,"INPUT",{type:!0,id:!0,class:!0}),P=ne(me),k=x(me,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),mt(k)!=="svelte-1httzzz"&&(k.textContent=R),T=ne(me),F=x(me,"INPUT",{type:!0,placeholder:!0,class:!0}),K=ne(me),L=x(me,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),mt(L)!=="svelte-17nr0o2"&&(L.textContent=Y),N=ne(me),M=x(me,"INPUT",{type:!0,placeholder:!0,class:!0}),B=ne(me),ee=x(me,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),mt(ee)!=="svelte-vhq42e"&&(ee.textContent=Z),j=ne(me),U=x(me,"INPUT",{type:!0,id:!0,accept:!0,class:!0}),ve=ne(me),X=x(me,"DIV",{class:!0});var Zt=J(X);ie=x(Zt,"IMG",{class:!0,src:!0,alt:!0}),Zt.forEach(S),Ce=ne(me),Pe=x(me,"BUTTON",{class:!0,"data-svelte-h":!0}),mt(Pe)!=="svelte-vblypr"&&(Pe.textContent=rt),me.forEach(S),Ie=ne(ge),Ue&&Ue.l(ge),_e=Be(),this.h()},h(){w(a,"for","email"),w(a,"class","svelte-za3vz4"),w(c,"type","email"),w(c,"id","email"),c.required=!0,w(c,"class","svelte-za3vz4"),w(g,"for","oper_name"),w(g,"class","svelte-za3vz4"),w(b,"type","text"),w(b,"id","oper_name"),b.required=!0,w(b,"class","svelte-za3vz4"),w(k,"for","password"),w(k,"class","svelte-za3vz4"),w(F,"type","password"),w(F,"placeholder","input your password"),F.required=!0,w(F,"class","svelte-za3vz4"),w(L,"for","password"),w(L,"class","svelte-za3vz4"),w(M,"type","password"),w(M,"placeholder","repeat your password"),M.required=!0,w(M,"class","svelte-za3vz4"),w(ee,"for","oper_pic"),w(ee,"class","svelte-za3vz4"),w(U,"type","file"),w(U,"id","oper_pic"),w(U,"accept","image/png, image/jpeg"),w(U,"class","svelte-za3vz4"),w(ie,"class","user-pic svelte-za3vz4"),Et(ie.src,xe=s[1])||w(ie,"src",xe),w(ie,"alt","Профиль пользователя"),w(X,"class","user-pic-container svelte-za3vz4"),w(Pe,"class","upload-button svelte-za3vz4"),w(o,"class","svelte-za3vz4")},m(ge,me){Xe(r,ge,me),V(ge,i,me),V(ge,o,me),D(o,a),D(o,f),D(o,c),st(c,s[3]),D(o,d),D(o,g),D(o,_),D(o,b),st(b,s[0]),D(o,P),D(o,k),D(o,T),D(o,F),st(F,s[4]),D(o,K),D(o,L),D(o,N),D(o,M),st(M,s[5]),D(o,B),D(o,ee),D(o,j),D(o,U),D(o,ve),D(o,X),D(X,ie),D(o,Ce),D(o,Pe),V(ge,Ie,me),Ue&&Ue.m(ge,me),V(ge,_e,me),ae=!0,Te||(Ke=[ce(c,"input",s[12]),ce(b,"input",s[13]),ce(F,"input",s[14]),ce(M,"input",s[15]),ce(U,"change",s[8]),ce(ie,"click",s[16]),ce(Pe,"click",s[7])],Te=!0)},p(ge,[me]){const Zt={};!t&&me&4&&(t=!0,Zt.lang=ge[2],ht(()=>t=!1)),r.$set(Zt),me&8&&c.value!==ge[3]&&st(c,ge[3]),me&1&&b.value!==ge[0]&&st(b,ge[0]),me&16&&F.value!==ge[4]&&st(F,ge[4]),me&32&&M.value!==ge[5]&&st(M,ge[5]),(!ae||me&2&&!Et(ie.src,xe=ge[1]))&&w(ie,"src",xe),ge[6]?Ue&&(Ue.d(1),Ue=null):Ue||(Ue=ku(),Ue.c(),Ue.m(_e.parentNode,_e))},i(ge){ae||(oe(r.$$.fragment,ge),ae=!0)},o(ge){ue(r.$$.fragment,ge),ae=!1},d(ge){ge&&(S(i),S(o),S(Ie),S(_e)),Qe(r,ge),Ue&&Ue.d(ge),Te=!1,Yt(Ke)}}}function tm(s,r,t){let i;We(s,Li,Y=>t(17,i=Y));let{oper_name:o,oper_pic:a}=r;a||(a=Mu);let{lang:u="en",checked:f,abonent:c}=r,d="",g="demo",p="demo",_=!0;Ut(async()=>{});async function b(){let Y={};Y.proj="kolmit",Y.func="operator",Y.name=o,Y.abonent=c,Y.email=d,Y.psw=wr(g),Y.img=a,Y.lang=u,g===p?(await new Promise((B,ee)=>{i.SendMessage(Y,Z=>{B(Z)})})).func===Y.func&&t(9,f=!0):t(6,_=!1),console.log("Регистрация пользователя:",user)}function P(Y){const N=Y.target.files[0];N&&lo(N,function(M,B){M.type==="error"?console.error("Ошибка загрузки изображения"):(width=M.width,height=M.height,user_pic=M.toDataURL())},{orientation:!0,maxWidth:100,maxHeight:100,canvas:!0})}function k(Y){u=Y,t(2,u)}function R(){d=this.value,t(3,d)}function T(){o=this.value,t(0,o)}function F(){g=this.value,t(4,g)}function K(){p=this.value,t(5,p)}const L=()=>document.getElementById("oper_pic").click();return s.$$set=Y=>{"oper_name"in Y&&t(0,o=Y.oper_name),"oper_pic"in Y&&t(1,a=Y.oper_pic),"lang"in Y&&t(2,u=Y.lang),"checked"in Y&&t(9,f=Y.checked),"abonent"in Y&&t(10,c=Y.abonent)},[o,a,u,d,g,p,_,b,P,f,c,k,R,T,F,K,L]}class fm extends je{constructor(r){super(),Je(this,r,tm,em,Ge,{oper_name:0,oper_pic:1,lang:2,checked:9,abonent:10})}}Iu.subscribe(s=>{});const nm={"Content-Type":"application/json"};class cm{constructor(r){this.msg_signal_oper=Nr,this.msg_signal_user=yr,this.operator=r}async SendMessage(r,t){r.operator=this.operator,fetch("./",{method:"POST",body:JSON.stringify({par:r}),headers:{headers:nm}}).then(i=>i.json()).then(i=>{t&&t(i)}).catch(i=>(console.log(i),[]))}}export{fm as L,am as O,cm as S,P1 as a};
