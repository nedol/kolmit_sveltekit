{
  "version": 3,
  "sources": ["../../.svelte-kit/adapter-node/entries/pages/website/login/_page.server.js", "../../.svelte-kit/adapter-node/nodes/8.js"],
  "sourcesContent": ["import { p as pool } from \"../../../../chunks/mysql.js\";\nimport md5 from \"md5\";\nimport \"mysql2/promise\";\nasync function POST({ request, setHeaders, url }) {\n  const values = await request.formData();\n  const email = values.get(\"email\");\n  const psw = values.get(\"password\");\n  const lang = values.get(\"lang\");\n  const vals = [md5(psw), email, email];\n  const sql = \"SELECT * FROM operators WHERE psw=? AND operator=? AND abonent=?\";\n  try {\n    const pr = pool.execute(sql, vals);\n    const [rows, fields] = await pr;\n    console.log(psw);\n    let path = \"/operator?operator=\" + email + \"&abonent=\" + email;\n    return {\n      status: 403,\n      location: url.searchParams.get(\"redirectTo\") ?? path,\n      errors: {\n        username: \"No user with this username\"\n      }\n    };\n    const session = md5(email);\n    setHeaders({\n      \"set-cookie\": email + \"=\" + JSON.stringify({ session, email, abonent: email, psw: md5(psw), lang })\n    });\n    return {\n      location: url.searchParams.get(\"redirectTo\") ?? path\n    };\n  } catch (ex) {\n  }\n}\nexport {\n  POST\n};\n", "import * as server from '../entries/pages/website/login/_page.server.js';\n\nexport const index = 8;\nexport { server };\nexport const imports = [];\nexport const stylesheets = [];\n"],
  "mappings": ";;;;;;;;AAAA;AAAA;AAAA;AAAA;AACA,OAAO,SAAS;AAChB,OAAO;AACP,eAAe,KAAK,EAAE,SAAS,YAAY,IAAI,GAAG;AAChD,QAAM,SAAS,MAAM,QAAQ,SAAS;AACtC,QAAM,QAAQ,OAAO,IAAI,OAAO;AAChC,QAAM,MAAM,OAAO,IAAI,UAAU;AACjC,QAAM,OAAO,OAAO,IAAI,MAAM;AAC9B,QAAM,OAAO,CAAC,IAAI,GAAG,GAAG,OAAO,KAAK;AACpC,QAAM,MAAM;AACZ,MAAI;AACF,UAAM,KAAK,KAAK,QAAQ,KAAK,IAAI;AACjC,UAAM,CAAC,MAAM,MAAM,IAAI,MAAM;AAC7B,YAAQ,IAAI,GAAG;AACf,QAAI,OAAO,wBAAwB,QAAQ,cAAc;AACzD,WAAO;AAAA,MACL,QAAQ;AAAA,MACR,UAAU,IAAI,aAAa,IAAI,YAAY,KAAK;AAAA,MAChD,QAAQ;AAAA,QACN,UAAU;AAAA,MACZ;AAAA,IACF;AACA,UAAM,UAAU,IAAI,KAAK;AACzB,eAAW;AAAA,MACT,cAAc,QAAQ,MAAM,KAAK,UAAU,EAAE,SAAS,OAAO,SAAS,OAAO,KAAK,IAAI,GAAG,GAAG,KAAK,CAAC;AAAA,IACpG,CAAC;AACD,WAAO;AAAA,MACL,UAAU,IAAI,aAAa,IAAI,YAAY,KAAK;AAAA,IAClD;AAAA,EACF,SAAS,IAAP;AAAA,EACF;AACF;;;AC7BO,IAAM,QAAQ;AAEd,IAAM,UAAU,CAAC;AACjB,IAAM,cAAc,CAAC;",
  "names": []
}
