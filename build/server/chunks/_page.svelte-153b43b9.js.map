{"version":3,"file":"_page.svelte-153b43b9.js","sources":["../../../.svelte-kit/adapter-node/entries/pages/site/_page.svelte.js"],"sourcesContent":["import { c as create_ssr_component, s as setContext, v as validate_component } from \"../../../chunks/ssr.js\";\nimport { s as subscribe, a as set_store_value } from \"../../../chunks/utils.js\";\nimport { S as SignalingChannel, O as Operator, a as SelectMenu, L as Login } from \"../../../chunks/signalingChannel.js\";\nimport { u as users, i as ice_conf, d as dicts, l as langs, s as server_path, a as signal } from \"../../../chunks/stores.js\";\nconst Site = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let $users, $$unsubscribe_users;\n  let $ice_conf, $$unsubscribe_ice_conf;\n  let $dicts, $$unsubscribe_dicts;\n  let $langs, $$unsubscribe_langs;\n  let $server_path, $$unsubscribe_server_path;\n  let $signal, $$unsubscribe_signal;\n  $$unsubscribe_users = subscribe(users, (value) => $users = value);\n  $$unsubscribe_ice_conf = subscribe(ice_conf, (value) => $ice_conf = value);\n  $$unsubscribe_dicts = subscribe(dicts, (value) => $dicts = value);\n  $$unsubscribe_langs = subscribe(langs, (value) => $langs = value);\n  $$unsubscribe_server_path = subscribe(server_path, (value) => $server_path = value);\n  $$unsubscribe_signal = subscribe(signal, (value) => $signal = value);\n  let { data } = $$props;\n  let checked = data.check;\n  let user_pic = data.picture ? data.picture.medium : \"\";\n  const email = data.operator, abonent = data.abonent;\n  set_store_value(signal, $signal = new SignalingChannel(email), $signal);\n  set_store_value(\n    server_path,\n    $server_path = data.host.includes(\"http://[::1]\") ? \"http://localhost:3000\" : data.host,\n    $server_path\n  );\n  set_store_value(langs, $langs = data.lang, $langs);\n  set_store_value(dicts, $dicts = data.dict[0], $dicts);\n  set_store_value(ice_conf, $ice_conf = data.ice_conf, $ice_conf);\n  set_store_value(users, $users = JSON.parse(data.users), $users);\n  setContext(\"users\", $users);\n  if ($$props.data === void 0 && $$bindings.data && data !== void 0)\n    $$bindings.data(data);\n  let $$settled;\n  let $$rendered;\n  let previous_head = $$result.head;\n  do {\n    $$settled = true;\n    $$result.head = previous_head;\n    $$rendered = `${checked ? `${validate_component(Operator, \"Operator\").$$render($$result, { email, abonent }, {}, {})}` : `${validate_component(SelectMenu, \"SelectMenu\").$$render(\n      $$result,\n      { $langs },\n      {\n        $langs: ($$value) => {\n          $langs = $$value;\n          $$settled = false;\n        }\n      },\n      {}\n    )} ${validate_component(Login, \"Login\").$$render(\n      $$result,\n      { abonent, user_pic, lang: $langs, checked },\n      {\n        checked: ($$value) => {\n          checked = $$value;\n          $$settled = false;\n        }\n      },\n      {}\n    )}`}`;\n  } while (!$$settled);\n  $$unsubscribe_users();\n  $$unsubscribe_ice_conf();\n  $$unsubscribe_dicts();\n  $$unsubscribe_langs();\n  $$unsubscribe_server_path();\n  $$unsubscribe_signal();\n  return $$rendered;\n});\nconst Page = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let { data } = $$props;\n  if ($$props.data === void 0 && $$bindings.data && data !== void 0)\n    $$bindings.data(data);\n  return `${validate_component(Site, \"Site\").$$render($$result, { data }, {}, {})}`;\n});\nexport {\n  Page as default\n};\n"],"names":[],"mappings":"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"}